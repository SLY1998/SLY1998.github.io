<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ã€å‰ç«¯é¢è¯•ã€‘æ¯å¤©ä¸€é“é¢è¯•é¢˜ | å‡¡å¹´æ¢é…’æŸ´1998ğŸŒ¸</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/favicon.ico">
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" href="/icons/apple-touch-icon-152x152.png">
    <link rel="mask-icon" href="/icons/safari-pinned-tab.svg" color="#3eaf7c">
    <meta name="description" content="å¤©æˆ´å…¶è‹ï¼Œåœ°å±¥å…¶é»„ã€‚çºµæœ‰åƒå¤ï¼Œæ¨ªæœ‰å…«è’ã€‚å‰é€”ä¼¼æµ·ï¼Œæ¥æ—¥æ–¹é•¿ã€‚">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
    <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/assets/css/0.styles.bb11cb17.css" as="style"><link rel="preload" href="/assets/js/app.41bcf48b.js" as="script"><link rel="preload" href="/assets/js/4.08d3d17f.js" as="script"><link rel="preload" href="/assets/js/1.2abb3401.js" as="script"><link rel="preload" href="/assets/js/8.878a1965.js" as="script"><link rel="prefetch" href="/assets/js/10.b8e69c1a.js"><link rel="prefetch" href="/assets/js/11.b4d49f70.js"><link rel="prefetch" href="/assets/js/12.9039278d.js"><link rel="prefetch" href="/assets/js/13.cecee150.js"><link rel="prefetch" href="/assets/js/14.f515271c.js"><link rel="prefetch" href="/assets/js/15.30c7efa6.js"><link rel="prefetch" href="/assets/js/16.1e020683.js"><link rel="prefetch" href="/assets/js/17.014e8518.js"><link rel="prefetch" href="/assets/js/18.45da2bd0.js"><link rel="prefetch" href="/assets/js/19.032779fe.js"><link rel="prefetch" href="/assets/js/20.efd90025.js"><link rel="prefetch" href="/assets/js/21.f5ca54d5.js"><link rel="prefetch" href="/assets/js/22.51b954a2.js"><link rel="prefetch" href="/assets/js/23.cfa3d88d.js"><link rel="prefetch" href="/assets/js/24.c5ba2177.js"><link rel="prefetch" href="/assets/js/25.408fc9ba.js"><link rel="prefetch" href="/assets/js/26.f763dd69.js"><link rel="prefetch" href="/assets/js/27.ced2087d.js"><link rel="prefetch" href="/assets/js/28.aa433577.js"><link rel="prefetch" href="/assets/js/29.e7f47af7.js"><link rel="prefetch" href="/assets/js/30.1e1eafa4.js"><link rel="prefetch" href="/assets/js/31.1bcb9e72.js"><link rel="prefetch" href="/assets/js/32.74f30380.js"><link rel="prefetch" href="/assets/js/33.8f1eed56.js"><link rel="prefetch" href="/assets/js/34.ed388f76.js"><link rel="prefetch" href="/assets/js/35.317c08e9.js"><link rel="prefetch" href="/assets/js/36.28fc2248.js"><link rel="prefetch" href="/assets/js/37.f2581086.js"><link rel="prefetch" href="/assets/js/38.10b1d4ed.js"><link rel="prefetch" href="/assets/js/39.e9a92e74.js"><link rel="prefetch" href="/assets/js/40.5c719b6d.js"><link rel="prefetch" href="/assets/js/41.829d14a5.js"><link rel="prefetch" href="/assets/js/42.50e37b53.js"><link rel="prefetch" href="/assets/js/43.fab8d712.js"><link rel="prefetch" href="/assets/js/44.46e9c668.js"><link rel="prefetch" href="/assets/js/45.a09c7ab7.js"><link rel="prefetch" href="/assets/js/46.2468d8a4.js"><link rel="prefetch" href="/assets/js/47.62b39bba.js"><link rel="prefetch" href="/assets/js/48.ced90bf8.js"><link rel="prefetch" href="/assets/js/49.66b7821c.js"><link rel="prefetch" href="/assets/js/5.ef32f296.js"><link rel="prefetch" href="/assets/js/50.020366fe.js"><link rel="prefetch" href="/assets/js/51.15b7d1ea.js"><link rel="prefetch" href="/assets/js/52.86a5f63e.js"><link rel="prefetch" href="/assets/js/6.8d1c67ea.js"><link rel="prefetch" href="/assets/js/7.bace46d4.js"><link rel="prefetch" href="/assets/js/9.a1917f46.js"><link rel="prefetch" href="/assets/js/vendors~flowchart.a2993a10.js">
    <link rel="stylesheet" href="/assets/css/0.styles.bb11cb17.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar" data-v-58d791b2><div data-v-58d791b2><div class="password-shadow password-wrapper-out" style="display:none;" data-v-08f61db9 data-v-58d791b2 data-v-58d791b2><h3 class="title" data-v-08f61db9>å‡¡å¹´æ¢é…’æŸ´1998ğŸŒ¸</h3> <p class="description" data-v-08f61db9>å¤©æˆ´å…¶è‹ï¼Œåœ°å±¥å…¶é»„ã€‚çºµæœ‰åƒå¤ï¼Œæ¨ªæœ‰å…«è’ã€‚å‰é€”ä¼¼æµ·ï¼Œæ¥æ—¥æ–¹é•¿ã€‚</p> <label id="box" class="inputBox" data-v-08f61db9><input type="password" value="" data-v-08f61db9> <span data-v-08f61db9>Konck! Knock!</span> <button data-v-08f61db9>OK</button></label> <div class="footer" data-v-08f61db9><span data-v-08f61db9><i class="iconfont reco-theme" data-v-08f61db9></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-08f61db9>vuePress-theme-reco</a></span> <span data-v-08f61db9><i class="iconfont reco-copyright" data-v-08f61db9></i> <a data-v-08f61db9><span data-v-08f61db9>å‡¡å¹´æ¢é…’æŸ´1998ğŸŒ¸</span>
        Â Â 
        <span data-v-08f61db9>2022 - </span>
        2026
      </a></span></div></div> <div class="hide" data-v-58d791b2><header class="navbar" data-v-58d791b2><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="å‡¡å¹´æ¢é…’æŸ´1998ğŸŒ¸" class="logo"> <span class="site-name">å‡¡å¹´æ¢é…’æŸ´1998ğŸŒ¸</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  ä¸»é¡µ
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      åˆ†ç±»
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/åç«¯/" class="nav-link"><i class="undefined"></i>
  åç«¯
</a></li><li class="dropdown-item"><!----> <a href="/categories/è®¡ç®—æœºåŸºç¡€/" class="nav-link"><i class="undefined"></i>
  è®¡ç®—æœºåŸºç¡€
</a></li><li class="dropdown-item"><!----> <a href="/categories/å‰ç«¯å·¥ç¨‹åŒ–/" class="nav-link"><i class="undefined"></i>
  å‰ç«¯å·¥ç¨‹åŒ–
</a></li><li class="dropdown-item"><!----> <a href="/categories/å‰ç«¯åŸºç¡€/" class="nav-link"><i class="undefined"></i>
  å‰ç«¯åŸºç¡€
</a></li><li class="dropdown-item"><!----> <a href="/categories/å‰ç«¯å…«è‚¡æ–‡ğŸ¥¬/" class="nav-link"><i class="undefined"></i>
  å‰ç«¯å…«è‚¡æ–‡ğŸ¥¬
</a></li><li class="dropdown-item"><!----> <a href="/categories/å­¦ä¹ /" class="nav-link"><i class="undefined"></i>
  å­¦ä¹ 
</a></li><li class="dropdown-item"><!----> <a href="/categories/react/" class="nav-link"><i class="undefined"></i>
  react
</a></li><li class="dropdown-item"><!----> <a href="/categories/æŠ€æœ¯åˆ†äº«/" class="nav-link"><i class="undefined"></i>
  æŠ€æœ¯åˆ†äº«
</a></li><li class="dropdown-item"><!----> <a href="/categories/vue/" class="nav-link"><i class="undefined"></i>
  vue
</a></li><li class="dropdown-item"><!----> <a href="/categories/å·¥ä½œè®°å½•/" class="nav-link"><i class="undefined"></i>
  å·¥ä½œè®°å½•
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  æ ‡ç­¾
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  æ—¶é—´çº¿
</a></div><div class="nav-item"><a href="https://sly1998.github.io/myDemo/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-message"></i>
  demoå±•ç¤º
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/SLY1998" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  gitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-58d791b2></div> <aside class="sidebar" data-v-58d791b2><div class="personal-info-wrapper" data-v-3d87d2e4 data-v-58d791b2><img src="/avatar.jpg" alt="author-avatar" class="personal-img" data-v-3d87d2e4> <h3 class="name" data-v-3d87d2e4>
    å‡¡å¹´æ¢é…’æŸ´1998ğŸŒ¸
  </h3> <div class="num" data-v-3d87d2e4><div data-v-3d87d2e4><h3 data-v-3d87d2e4>41</h3> <h6 data-v-3d87d2e4>æ–‡ç« </h6></div> <div data-v-3d87d2e4><h3 data-v-3d87d2e4>26</h3> <h6 data-v-3d87d2e4>æ ‡ç­¾</h6></div></div> <ul class="social-links" data-v-3d87d2e4></ul> <hr data-v-3d87d2e4></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  ä¸»é¡µ
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      åˆ†ç±»
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/åç«¯/" class="nav-link"><i class="undefined"></i>
  åç«¯
</a></li><li class="dropdown-item"><!----> <a href="/categories/è®¡ç®—æœºåŸºç¡€/" class="nav-link"><i class="undefined"></i>
  è®¡ç®—æœºåŸºç¡€
</a></li><li class="dropdown-item"><!----> <a href="/categories/å‰ç«¯å·¥ç¨‹åŒ–/" class="nav-link"><i class="undefined"></i>
  å‰ç«¯å·¥ç¨‹åŒ–
</a></li><li class="dropdown-item"><!----> <a href="/categories/å‰ç«¯åŸºç¡€/" class="nav-link"><i class="undefined"></i>
  å‰ç«¯åŸºç¡€
</a></li><li class="dropdown-item"><!----> <a href="/categories/å‰ç«¯å…«è‚¡æ–‡ğŸ¥¬/" class="nav-link"><i class="undefined"></i>
  å‰ç«¯å…«è‚¡æ–‡ğŸ¥¬
</a></li><li class="dropdown-item"><!----> <a href="/categories/å­¦ä¹ /" class="nav-link"><i class="undefined"></i>
  å­¦ä¹ 
</a></li><li class="dropdown-item"><!----> <a href="/categories/react/" class="nav-link"><i class="undefined"></i>
  react
</a></li><li class="dropdown-item"><!----> <a href="/categories/æŠ€æœ¯åˆ†äº«/" class="nav-link"><i class="undefined"></i>
  æŠ€æœ¯åˆ†äº«
</a></li><li class="dropdown-item"><!----> <a href="/categories/vue/" class="nav-link"><i class="undefined"></i>
  vue
</a></li><li class="dropdown-item"><!----> <a href="/categories/å·¥ä½œè®°å½•/" class="nav-link"><i class="undefined"></i>
  å·¥ä½œè®°å½•
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  æ ‡ç­¾
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  æ—¶é—´çº¿
</a></div><div class="nav-item"><a href="https://sly1998.github.io/myDemo/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-message"></i>
  demoå±•ç¤º
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/SLY1998" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  gitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav> <!----> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-08f61db9 data-v-58d791b2><h3 class="title" data-v-08f61db9>ã€å‰ç«¯é¢è¯•ã€‘æ¯å¤©ä¸€é“é¢è¯•é¢˜</h3> <!----> <label id="box" class="inputBox" data-v-08f61db9><input type="password" value="" data-v-08f61db9> <span data-v-08f61db9>Konck! Knock!</span> <button data-v-08f61db9>OK</button></label> <div class="footer" data-v-08f61db9><span data-v-08f61db9><i class="iconfont reco-theme" data-v-08f61db9></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-08f61db9>vuePress-theme-reco</a></span> <span data-v-08f61db9><i class="iconfont reco-copyright" data-v-08f61db9></i> <a data-v-08f61db9><span data-v-08f61db9>å‡¡å¹´æ¢é…’æŸ´1998ğŸŒ¸</span>
        Â Â 
        <span data-v-08f61db9>2022 - </span>
        2026
      </a></span></div></div> <div data-v-58d791b2><div data-v-58d791b2><main class="page"><section style="display:;"><div class="page-title"><h1 class="title">ã€å‰ç«¯é¢è¯•ã€‘æ¯å¤©ä¸€é“é¢è¯•é¢˜</h1> <div data-v-162cc157><i class="iconfont reco-account" data-v-162cc157><span data-v-162cc157>å‡¡å¹´æ¢é…’æŸ´1998ğŸŒ¸</span></i> <i class="iconfont reco-date" data-v-162cc157><span data-v-162cc157>2022/5/6</span></i> <i class="iconfont reco-eye" data-v-162cc157><span id="/blogs/interview/interview.html" data-flag-title="Your Article Title" class="leancloud-visitors" data-v-162cc157><a class="leancloud-visitors-count" style="font-size:.9rem;font-weight:normal;color:#999;"></a></span></i> <i class="tags iconfont reco-tag" data-v-162cc157><span class="tag-item" data-v-162cc157>é¢è¯•é¢˜</span></i></div></div> <div class="theme-reco-content content__default"><h2 id="javascript"><a href="#javascript" class="header-anchor">#</a> JavaScript</h2> <h3 id="_1-ä»€ä¹ˆæ˜¯é˜²æŠ–å’ŒèŠ‚æµ-æœ‰ä»€ä¹ˆåŒºåˆ«-å¦‚ä½•å®ç°-2022-5-6"><a href="#_1-ä»€ä¹ˆæ˜¯é˜²æŠ–å’ŒèŠ‚æµ-æœ‰ä»€ä¹ˆåŒºåˆ«-å¦‚ä½•å®ç°-2022-5-6" class="header-anchor">#</a> 1.ä»€ä¹ˆæ˜¯é˜²æŠ–å’ŒèŠ‚æµï¼Ÿæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿï¼ˆ2022.5.6ï¼‰</h3> <p>å­¦ä¹ è‡ª â˜</p> <ol><li><a href="https://vue3js.cn/interview/JavaScript/debounce_throttle.html" target="_blank" rel="noopener noreferrer">ä»€ä¹ˆæ˜¯é˜²æŠ–å’ŒèŠ‚æµï¼Ÿæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿ<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://github.com/mqyqingfeng/Blog/issues/26" target="_blank" rel="noopener noreferrer">JavaScript ä¸“é¢˜ä¹‹è·Ÿç€ underscore å­¦èŠ‚æµ<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://github.com/mqyqingfeng/Blog/issues/22" target="_blank" rel="noopener noreferrer">JavaScript ä¸“é¢˜ä¹‹è·Ÿç€ underscore å­¦é˜²æŠ–<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ol> <p>ä¼˜åŒ–é«˜é¢‘ç‡æ‰§è¡Œä»£ç </p> <p>æ¯”å¦‚ï¼šæµè§ˆå™¨çš„ resizeï¼Œscrollï¼Œkeypressï¼Œmousemove ç­‰äº‹ä»¶åœ¨è§¦å‘æ—¶ï¼Œä¼šä¸æ–­åœ°è°ƒç”¨ç»‘å®šåœ¨äº‹ä»¶ä¸Šçš„å›è°ƒå‡½æ•°ï¼Œæå¤§çš„æµªè´¹èµ„æºï¼Œé™ä½å‰ç«¯æ€§èƒ½ã€‚</p> <p>ä¸ºäº†ä¼˜åŒ–ä½“éªŒï¼Œéœ€è¦å¯¹è¿™ç±»äº‹ä»¶è¿›è¡Œè°ƒç”¨æ¬¡æ•°çš„é™åˆ¶=&gt;<strong>é˜²æŠ–ï¼ˆdebounceï¼‰å’ŒèŠ‚æµï¼ˆthrottleï¼‰</strong></p> <p><strong>å®šä¹‰&amp;&amp;åŒºåˆ«</strong></p> <p>(1)ã€å®šä¹‰</p> <ul><li>èŠ‚æµï¼šn ç§’å†…åªè¿è¡Œä¸€æ¬¡ï¼Œè‹¥åœ¨ n ç§’å†…é‡å¤è§¦å‘ï¼Œåªæœ‰ä¸€æ¬¡ç”Ÿæ•ˆã€‚</li> <li>é˜²æŠ–ï¼šn ç§’åæ‰§è¡Œè¯¥äº‹ä»¶ï¼Œè‹¥åœ¨ n ç§’å†…é‡å¤è§¦å‘ï¼Œåˆ™é‡æ–°è®¡æ—¶ã€‚</li></ul> <p>(2)ã€åŒºåˆ«</p> <p>ç›¸åŒç‚¹ï¼š</p> <ul><li>éƒ½å¯ä»¥é€šè¿‡ä½¿ç”¨ setTimeout å®ç°</li> <li>ç›®çš„éƒ½æ˜¯ï¼Œé™ä½å›è°ƒæ‰§è¡Œé¢‘ç‡ã€‚èŠ‚çœè®¡ç®—èµ„æº</li></ul> <p>ä¸åŒç‚¹</p> <ul><li>å‡½æ•°èŠ‚æµï¼Œåœ¨ä¸€æ®µè¿ç»­æ“ä½œä¸­ï¼Œæ¯ä¸€æ®µæ—¶é—´åªæ‰§è¡Œä¸€æ¬¡å›è°ƒ</li> <li>å‡½æ•°é˜²æŠ–ï¼Œåœ¨ä¸€æ®µè¿ç»­æ“ä½œç»“æŸåï¼Œå¤„ç†å›è°ƒ</li></ul> <blockquote><p>ä¾‹å¦‚ï¼šéƒ½è®¾ç½®æ—¶é—´é¢‘ç‡ä¸º 500msï¼Œåœ¨ 2 ç§’æ—¶é—´å†…ï¼Œé¢‘ç¹è§¦å‘å‡½æ•°ã€‚èŠ‚æµï¼Œæ¯éš” 500ms å°±æ‰§è¡Œä¸€æ¬¡ã€‚é˜²æŠ–ï¼Œåˆ™ä¸ç®¡è°ƒåŠ¨å¤šå°‘æ¬¡æ–¹æ³•ï¼Œåœ¨ 2s åï¼Œåªä¼šæ‰§è¡Œä¸€æ¬¡</p></blockquote> <p>æ­£å¸¸ï¼š|||||||||||||||||||</p> <p>èŠ‚æµï¼šâ€ƒ|â€ƒ|â€ƒ|â€ƒ|</p> <p>é˜²æŠ–ï¼šâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒ|</p> <p><strong>å®ç°</strong></p> <p>å¼€å‘è¿‡ç¨‹ä¸­å¯ä»¥ç›´æ¥ä½¿ç”¨ lodash ä¸­å®ç°çš„æ–¹æ³•</p> <p>â˜<a href="https://www.lodashjs.com/docs/lodash.throttle#_throttlefunc-wait0-options" target="_blank" rel="noopener noreferrer">èŠ‚æµï¼ˆthrottleï¼‰<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>â˜<a href="https://www.lodashjs.com/docs/lodash.debounce#_debouncefunc-wait0-options" target="_blank" rel="noopener noreferrer">é˜²æŠ–ï¼ˆdebounceï¼‰<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>(1)ã€èŠ‚æµ</p> <p>å®ŒæˆèŠ‚æµå¯ä»¥ä½¿ç”¨æ—¶é—´æˆ³ä¸å®šæ—¶å™¨çš„å†™æ³•</p> <p>ä½¿ç”¨æ—¶é—´æˆ³å†™æ³•ï¼Œäº‹ä»¶ä¼šç«‹å³æ‰§è¡Œï¼Œåœæ­¢è§¦å‘åæ²¡æœ‰åŠæ³•å†æ¬¡æ‰§è¡Œ</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">throttle</span><span class="token punctuation">(</span><span class="token parameter">func<span class="token punctuation">,</span> wait</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> context<span class="token punctuation">,</span> args<span class="token punctuation">;</span>
  <span class="token keyword">var</span> previous <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> now <span class="token operator">=</span> <span class="token operator">+</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    context <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    args <span class="token operator">=</span> arguments<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>now <span class="token operator">-</span> previous <span class="token operator">&gt;</span> wait<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">func</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
      previous <span class="token operator">=</span> now<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>ä½¿ç”¨å®šæ—¶å™¨å†™æ³•ï¼Œdelay æ¯«ç§’åç¬¬ä¸€æ¬¡æ‰§è¡Œï¼Œç¬¬äºŒæ¬¡äº‹ä»¶åœæ­¢è§¦å‘åä¾ç„¶ä¼šå†ä¸€æ¬¡æ‰§è¡Œ</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">throttle</span><span class="token punctuation">(</span><span class="token parameter">func<span class="token punctuation">,</span> wait</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> timeout<span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    context <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    args <span class="token operator">=</span> arguments<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>timeout<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      timeout <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        timeout <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token function">func</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> wait<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>å¯ä»¥å°†æ—¶é—´æˆ³å†™æ³•çš„ç‰¹æ€§ä¸å®šæ—¶å™¨å†™æ³•çš„ç‰¹æ€§ç›¸ç»“åˆï¼Œå®ç°ä¸€ä¸ªæ›´åŠ ç²¾ç¡®çš„èŠ‚æµã€‚å®ç°å¦‚ä¸‹</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">throttle</span><span class="token punctuation">(</span><span class="token parameter">func<span class="token punctuation">,</span> wait</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> timeout<span class="token punctuation">,</span> context<span class="token punctuation">,</span> args<span class="token punctuation">,</span> result<span class="token punctuation">;</span>
  <span class="token keyword">var</span> previous <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

  <span class="token keyword">var</span> <span class="token function-variable function">later</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    previous <span class="token operator">=</span> <span class="token operator">+</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    timeout <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token function">func</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">var</span> <span class="token function-variable function">throttled</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> now <span class="token operator">=</span> <span class="token operator">+</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//ä¸‹æ¬¡è§¦å‘ func å‰©ä½™çš„æ—¶é—´</span>
    <span class="token keyword">var</span> remaining <span class="token operator">=</span> wait <span class="token operator">-</span> <span class="token punctuation">(</span>now <span class="token operator">-</span> previous<span class="token punctuation">)</span><span class="token punctuation">;</span>
    context <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    args <span class="token operator">=</span> arguments<span class="token punctuation">;</span>
    <span class="token comment">// å¦‚æœæ²¡æœ‰å‰©ä½™çš„æ—¶é—´äº†æˆ–è€…ä½ æ”¹äº†ç³»ç»Ÿæ—¶é—´</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>remaining <span class="token operator">&lt;=</span> <span class="token number">0</span> <span class="token operator">||</span> remaining <span class="token operator">&gt;</span> wait<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>timeout<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timeout<span class="token punctuation">)</span><span class="token punctuation">;</span>
        timeout <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      previous <span class="token operator">=</span> now<span class="token punctuation">;</span>
      <span class="token function">func</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>timeout<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      timeout <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span>later<span class="token punctuation">,</span> remaining<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  throttled<span class="token punctuation">.</span><span class="token function-variable function">cancel</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timeout<span class="token punctuation">)</span><span class="token punctuation">;</span>
    previous <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    timeout <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> throttled<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><p>(2)ã€é˜²æŠ–</p> <p>ç®€å•å®ç°</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">debounce</span><span class="token punctuation">(</span><span class="token parameter">func<span class="token punctuation">,</span> wait</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> timeout<span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> context <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> args <span class="token operator">=</span> arguments<span class="token punctuation">;</span>

    <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timeout<span class="token punctuation">)</span><span class="token punctuation">;</span>
    timeout <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">func</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> wait<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>é˜²æŠ–å¦‚æœéœ€è¦ç«‹å³æ‰§è¡Œï¼Œå¯åŠ å…¥ç¬¬ä¸‰ä¸ªå‚æ•°ç”¨äºåˆ¤æ–­ï¼Œå®ç°å¦‚ä¸‹ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">debounce</span><span class="token punctuation">(</span><span class="token parameter">func<span class="token punctuation">,</span> wait<span class="token punctuation">,</span> immediate</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> timeout<span class="token punctuation">,</span> result<span class="token punctuation">;</span>

  <span class="token keyword">var</span> <span class="token function-variable function">debounced</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> context <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> args <span class="token operator">=</span> arguments<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>timeout<span class="token punctuation">)</span> <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timeout<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>immediate<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// å¦‚æœå·²ç»æ‰§è¡Œè¿‡ï¼Œä¸å†æ‰§è¡Œ</span>
      <span class="token keyword">var</span> callNow <span class="token operator">=</span> <span class="token operator">!</span>timeout<span class="token punctuation">;</span>
      timeout <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        timeout <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> wait<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>callNow<span class="token punctuation">)</span> result <span class="token operator">=</span> <span class="token function">func</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      timeout <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">func</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> wait<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> result<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  debounced<span class="token punctuation">.</span><span class="token function-variable function">cancel</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timeout<span class="token punctuation">)</span><span class="token punctuation">;</span>
    timeout <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> debounced<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><p><strong>åº”ç”¨åœºæ™¯</strong></p> <p>é˜²æŠ–ï¼š</p> <ul><li>æœç´¢æ¡†æœç´¢è¾“å…¥ã€‚åªéœ€ç”¨æˆ·æœ€åä¸€æ¬¡è¾“å…¥å®Œï¼Œå†å‘é€è¯·æ±‚</li> <li>æ‰‹æœºå·ã€é‚®ç®±éªŒè¯è¾“å…¥æ£€æµ‹</li> <li>çª—å£å¤§å° resizeã€‚åªéœ€çª—å£è°ƒæ•´å®Œæˆåï¼Œè®¡ç®—çª—å£å¤§å°ã€‚é˜²æ­¢é‡å¤æ¸²æŸ“</li></ul> <p>èŠ‚æµï¼š</p> <ul><li>æ»šåŠ¨åŠ è½½ï¼ŒåŠ è½½æ›´å¤šæˆ–æ»šåˆ°åº•éƒ¨ç›‘å¬</li> <li>æœç´¢æ¡†ï¼Œæœç´¢è”æƒ³åŠŸèƒ½</li></ul> <h3 id="_2-ä»‹ç»ä¸‹-setã€mapã€weakset-å’Œ-weakmap-çš„åŒºåˆ«-2022-5-7"><a href="#_2-ä»‹ç»ä¸‹-setã€mapã€weakset-å’Œ-weakmap-çš„åŒºåˆ«-2022-5-7" class="header-anchor">#</a> 2.ä»‹ç»ä¸‹ Setã€Mapã€WeakSet å’Œ WeakMap çš„åŒºåˆ«ï¼Ÿï¼ˆ2022.5.7ï¼‰</h3> <h4 id="_1-set"><a href="#_1-set" class="header-anchor">#</a> ï¼ˆ1ï¼‰Set</h4> <p>ç±»ä¼¼äºæ•°ç»„ï¼Œä½†å‘˜æ˜¯å”¯ä¸€ä¸”æ— åºçš„ï¼Œæ²¡æœ‰é‡å¤çš„å€¼ã€‚</p> <p>Set å†…éƒ¨åˆ¤æ–­ä¸¤ä¸ªå€¼æ˜¯å¦ä¸åŒï¼Œä½¿ç”¨çš„ç®—æ³•å«åšâ€œSame-value-zero equalityâ€ï¼Œå®ƒç±»ä¼¼äºç²¾ç¡®ç›¸ç­‰è¿ç®—ç¬¦ï¼ˆ===ï¼‰ï¼Œä¸»è¦çš„åŒºåˆ«æ˜¯å‘ Set åŠ å…¥å€¼æ—¶è®¤ä¸º NaN ç­‰äºè‡ªèº«ï¼Œè€Œç²¾ç¡®ç›¸ç­‰è¿ç®—ç¬¦è®¤ä¸º NaN ä¸ç­‰äºè‡ªèº«ã€‚</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// ä¾‹ä¸€</span>
<span class="token keyword">const</span> set <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span><span class="token operator">...</span>set<span class="token punctuation">]</span>
<span class="token comment">// [1, 2, 3, 4]</span>

<span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token string">'ababbc'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>
<span class="token comment">// &quot;abc&quot;</span>

<span class="token comment">// ä¾‹äºŒ</span>
<span class="token keyword">const</span> items <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
items<span class="token punctuation">.</span>size <span class="token comment">// 5</span>

<span class="token comment">// ä¾‹ä¸‰</span>
<span class="token keyword">const</span> set <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
set<span class="token punctuation">.</span>size <span class="token comment">// 56</span>

<span class="token comment">// ç±»ä¼¼äº</span>
<span class="token keyword">const</span> set <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document
 <span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span>
 <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">div</span> <span class="token operator">=&gt;</span> set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>div<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
set<span class="token punctuation">.</span>size <span class="token comment">// 56</span>

<span class="token comment">// å±æ€§å’Œæ–¹æ³•</span>
<span class="token keyword">let</span> s <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
s<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// æ³¨æ„2è¢«åŠ å…¥äº†ä¸¤æ¬¡</span>
s<span class="token punctuation">.</span>size <span class="token comment">// 2</span>

s<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
s<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
s<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// false</span>

s<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
s<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><h4 id="_2-weakset"><a href="#_2-weakset" class="header-anchor">#</a> ï¼ˆ2ï¼‰WeakSet</h4> <p>WeakSet ç»“æ„ä¸ Set ç±»ä¼¼ï¼Œä¹Ÿæ˜¯ä¸é‡å¤çš„å€¼çš„é›†åˆã€‚ä½†æ˜¯ï¼Œå®ƒä¸ Set æœ‰ä¸¤ä¸ªåŒºåˆ«ã€‚</p> <ul><li>WeakSet çš„æˆå‘˜åªèƒ½æ˜¯å¯¹è±¡ï¼Œè€Œä¸èƒ½æ˜¯å…¶ä»–ç±»å‹çš„å€¼ã€‚</li> <li>WeakSet ä¸­çš„å¯¹è±¡éƒ½æ˜¯å¼±å¼•ç”¨ï¼Œå³åƒåœ¾å›æ”¶æœºåˆ¶ä¸è€ƒè™‘ WeakSet å¯¹è¯¥å¯¹è±¡çš„å¼•ç”¨ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœå…¶ä»–å¯¹è±¡éƒ½ä¸å†å¼•ç”¨è¯¥å¯¹è±¡ï¼Œé‚£ä¹ˆåƒåœ¾å›æ”¶æœºåˆ¶ä¼šè‡ªåŠ¨å›æ”¶è¯¥å¯¹è±¡æ‰€å ç”¨çš„å†…å­˜ï¼Œä¸è€ƒè™‘è¯¥å¯¹è±¡è¿˜å­˜åœ¨äº WeakSet ä¹‹ä¸­ã€‚</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> ws <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> foo <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

ws<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">;</span>
ws<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>

ws<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
ws<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>

ws<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">;</span>
ws<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h4 id="_3-map"><a href="#_3-map" class="header-anchor">#</a> ï¼ˆ3ï¼‰Map</h4> <p>JavaScript çš„å¯¹è±¡ï¼ˆObjectï¼‰ï¼Œæœ¬è´¨ä¸Šæ˜¯é”®å€¼å¯¹çš„é›†åˆï¼ˆHash ç»“æ„ï¼‰ï¼Œä½†æ˜¯ä¼ ç»Ÿä¸Šåªèƒ½ç”¨å­—ç¬¦ä¸²å½“ä½œé”®ã€‚</p> <p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒES6 æä¾›äº† Map æ•°æ®ç»“æ„ã€‚å®ƒç±»ä¼¼äºå¯¹è±¡ï¼Œä¹Ÿæ˜¯é”®å€¼å¯¹çš„é›†åˆï¼Œä½†æ˜¯â€œé”®â€çš„èŒƒå›´ä¸é™äºå­—ç¬¦ä¸²ï¼Œå„ç§ç±»å‹çš„å€¼ï¼ˆåŒ…æ‹¬å¯¹è±¡ï¼‰éƒ½å¯ä»¥å½“ä½œé”®ã€‚</p> <h4 id="_4-weakmap"><a href="#_4-weakmap" class="header-anchor">#</a> ï¼ˆ4ï¼‰WeakMap</h4> <p>WeakMap ä¸ Map çš„åŒºåˆ«æœ‰ä¸¤ç‚¹ã€‚é¦–å…ˆï¼ŒWeakMap åªæ¥å—å¯¹è±¡ä½œä¸ºé”®åï¼ˆnull é™¤å¤–ï¼‰ï¼Œä¸æ¥å—å…¶ä»–ç±»å‹çš„å€¼ä½œä¸ºé”®åã€‚å…¶æ¬¡ï¼ŒWeakMap çš„é”®åæ‰€æŒ‡å‘çš„å¯¹è±¡ï¼Œä¸è®¡å…¥åƒåœ¾å›æ”¶æœºåˆ¶ï¼ˆå³å¦‚æœå¯¹è±¡ a æ˜¯ WeakMap çš„ä¸€ä¸ª keyï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œæ²¡æœ‰å…¶ä»–ä»»ä½•åœ°æ–¹ä½¿ç”¨å¯¹è±¡ a æ—¶ï¼Œå¯¹è±¡ a ä»ç„¶ä¼šè¢«åƒåœ¾å›æ”¶æœºåˆ¶å›æ”¶ï¼‰ã€‚</p> <ul><li>WeakMap çš„ key æ˜¯ä¸å¯æšä¸¾çš„ï¼Œè€Œ Map æ˜¯å¯æšä¸¾çš„ã€‚</li></ul> <h3 id="_3-è¯´è¯´-javascript-ä¸­çš„æ•°æ®ç±»å‹-å­˜å‚¨ä¸Šçš„å·®åˆ«-2022-8-12"><a href="#_3-è¯´è¯´-javascript-ä¸­çš„æ•°æ®ç±»å‹-å­˜å‚¨ä¸Šçš„å·®åˆ«-2022-8-12" class="header-anchor">#</a> 3.è¯´è¯´ JavaScript ä¸­çš„æ•°æ®ç±»å‹ï¼Ÿå­˜å‚¨ä¸Šçš„å·®åˆ«ï¼ˆ2022.8.12ï¼‰</h3> <p>æ•°æ®ç±»å‹åˆ†ä¸¤ç±»ï¼šåŸºæœ¬ç±»å‹å’Œå¼•ç”¨ç±»å‹</p> <p>å­˜å‚¨å·®åˆ«ï¼šåŸºæœ¬ç±»å‹å­˜åœ¨æ ˆä¸­ï¼Œå¼•ç”¨ç±»å‹å­˜åœ¨å †ä¸­</p> <p><strong>åŸºæœ¬ç±»å‹</strong></p> <ul><li>Number</li> <li>String</li> <li>Boolean</li> <li>Undefined</li> <li>null</li> <li>symbol</li></ul> <p><strong>å¼•ç”¨ç±»å‹</strong></p> <p>å¯¹è±¡</p> <p>Objectã€Arrayã€Function ç­‰</p> <p><strong>å­˜å‚¨å·®åˆ«</strong></p> <ul><li>åŸºæœ¬æ•°æ®ç±»å‹å­˜å‚¨åœ¨æ ˆä¸­</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> a<span class="token punctuation">;</span> <span class="token comment">// èµ‹å€¼æ“ä½œ</span>
b <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 10å€¼</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>a çš„å€¼ä¸ºä¸€ä¸ªåŸºæœ¬ç±»å‹ï¼Œæ˜¯å­˜å‚¨åœ¨æ ˆä¸­ï¼Œå°† a çš„å€¼èµ‹ç»™ bï¼Œè™½ç„¶ä¸¤ä¸ªå˜é‡çš„å€¼ç›¸ç­‰ï¼Œä½†æ˜¯ä¸¤ä¸ªå˜é‡ä¿å­˜äº†ä¸¤ä¸ªä¸åŒçš„å†…å­˜åœ°å€</p> <ul><li>å¼•ç”¨ç±»å‹çš„å¯¹è±¡å­˜å‚¨äºå †ä¸­</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> obj2 <span class="token operator">=</span> obj1<span class="token punctuation">;</span>
obj2<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;xxx&quot;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj1<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// xxx</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>å¼•ç”¨ç±»å‹æ•°æ®å­˜æ”¾åœ¨å †ä¸­ï¼Œæ¯ä¸ªå †å†…å­˜å¯¹è±¡éƒ½æœ‰å¯¹åº”çš„å¼•ç”¨åœ°å€æŒ‡å‘å®ƒï¼Œå¼•ç”¨åœ°å€å­˜æ”¾åœ¨æ ˆä¸­ã€‚</p> <p>obj1 æ˜¯ä¸€ä¸ªå¼•ç”¨ç±»å‹ï¼Œåœ¨èµ‹å€¼æ“ä½œè¿‡ç¨‹æ±‡æ€»ï¼Œå®é™…æ˜¯å°†å †å†…å­˜å¯¹è±¡åœ¨æ ˆå†…å­˜çš„å¼•ç”¨åœ°å€å¤åˆ¶äº†ä¸€ä»½ç»™äº† obj2ï¼Œå®é™…ä¸Šä»–ä»¬å…±åŒæŒ‡å‘äº†åŒä¸€ä¸ªå †å†…å­˜å¯¹è±¡ï¼Œæ‰€ä»¥æ›´æ”¹ obj2 ä¼šå¯¹ obj1 äº§ç”Ÿå½±å“</p> <h3 id="_4-æ•°ç»„å¸¸è§çš„æ–¹æ³•æœ‰å“ªäº›-2022-8-12"><a href="#_4-æ•°ç»„å¸¸è§çš„æ–¹æ³•æœ‰å“ªäº›-2022-8-12" class="header-anchor">#</a> 4.æ•°ç»„å¸¸è§çš„æ–¹æ³•æœ‰å“ªäº›ï¼Ÿï¼ˆ2022.8.12ï¼‰</h3> <p><img src="/assets/img/arrFunction.cf1d456d.png" alt=""></p> <h3 id="_5-å­—ç¬¦ä¸²å¸¸è§çš„æ–¹æ³•æœ‰å“ªäº›-2022-8-12"><a href="#_5-å­—ç¬¦ä¸²å¸¸è§çš„æ–¹æ³•æœ‰å“ªäº›-2022-8-12" class="header-anchor">#</a> 5.å­—ç¬¦ä¸²å¸¸è§çš„æ–¹æ³•æœ‰å“ªäº›ï¼Ÿï¼ˆ2022.8.12ï¼‰</h3> <p><img src="/assets/img/strFunction.ce08c4b2.png" alt=""></p> <h3 id="_6-æ·±æ‹·è´å’Œæµ…æ‹·è´çš„åŒºåˆ«-å¦‚ä½•å®ç°ä¸€ä¸ªæ·±æ‹·è´"><a href="#_6-æ·±æ‹·è´å’Œæµ…æ‹·è´çš„åŒºåˆ«-å¦‚ä½•å®ç°ä¸€ä¸ªæ·±æ‹·è´" class="header-anchor">#</a> 6.æ·±æ‹·è´å’Œæµ…æ‹·è´çš„åŒºåˆ«ï¼Ÿå¦‚ä½•å®ç°ä¸€ä¸ªæ·±æ‹·è´ï¼Ÿ</h3> <p><strong>æµ…æ‹·è´</strong></p> <p>æµ…æ‹·è´ï¼ŒæŒ‡çš„æ˜¯åˆ›å»ºæ–°çš„æ•°æ®ï¼Œè¿™ä¸ªæ–°æ•°æ®æœ‰ç€åŸå§‹æ•°æ®<em>å±æ€§å€¼</em>çš„ä¸€ä»½ç²¾ç¡®æ‹·è´ã€‚</p> <p>å¦‚æœå±æ€§æ˜¯åŸºæœ¬æ•°æ®ï¼Œæ‹·è´çš„å°±æ˜¯åŸºæœ¬ç±»å‹çš„å€¼ã€‚</p> <p>å¦‚æœå±æ€§æ˜¯å¼•ç”¨ç±»å‹ï¼Œæ‹·è´çš„å°±æ˜¯å†…å­˜åœ°å€</p> <blockquote><p>å³æµ…æ‹·è´æ˜¯æ‹·è´ä¸€å±‚ï¼Œæ·±å±‚æ¬¡çš„å¼•ç”¨ç±»å‹åˆ™å…±äº«å†…å­˜åœ°å€</p></blockquote> <p>åœ¨ JavaScript ä¸­ï¼Œå­˜åœ¨æµ…æ‹·è´çš„ç°è±¡æœ‰ï¼š</p> <ul><li>Object.assign</li> <li>Array.prototype.slice(), Array.prototype.concat()</li> <li>ä½¿ç”¨æ‹“å±•è¿ç®—ç¬¦å®ç°çš„å¤åˆ¶</li></ul> <p><img src="data:image/png;base64,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" alt=""></p> <p><strong>æ·±æ‹·è´</strong></p> <p>æ·±æ‹·è´å¼€è¾Ÿä¸€ä¸ªæ–°çš„æ ˆ,ä¸¤ä¸ªå¯¹è±¡å±æ€§å®Œå…¨ç›¸åŒ,ä½†æ˜¯å¯¹åº”ä¸¤ä¸ªä¸åŒçš„åœ°å€,ä¿®æ”¹ä¸€ä¸ªå¯¹è±¡çš„å±æ€§,ä¸ä¼šæ”¹å˜å¦ä¸€ä¸ªå¯¹è±¡çš„å±æ€§</p> <p>å¸¸è§çš„æ·±æ‹·è´æ–¹å¼:</p> <ul><li>_.cloneDeep(),lodash åº“</li> <li>jQuery.extend()</li> <li>JSON.stringfy()</li> <li>æ‰‹å†™å¾ªç¯é€’å½’</li></ul> <p><strong>æ‰‹å†™æ·±æ‹·è´</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">deepClone</span><span class="token punctuation">(</span>source<span class="token punctuation">,</span>hash<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">WeakMap</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// å¦‚æœä¸æ˜¯å¯¹è±¡ç±»å‹ï¼Œç›´æ¥è¿”å›ï¼ˆåŸºç¡€ç±»å‹ç›´æ¥å¤åˆ¶ï¼‰</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isObject</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> source<span class="token punctuation">;</span>
  
  <span class="token comment">// æ£€æŸ¥æ˜¯å¦å·²ç»å¤„ç†è¿‡è¯¥å¯¹è±¡ï¼Œè§£å†³å¾ªç¯å¼•ç”¨é—®é¢˜</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>hash<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> hash<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">;</span>
  
  <span class="token comment">// æ ¹æ®æºå¯¹è±¡ç±»å‹åˆ›å»ºç›®æ ‡å¯¹è±¡ï¼ˆæ•°ç»„æˆ–å¯¹è±¡ï¼‰</span>
  <span class="token keyword">let</span> target <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  
  <span class="token comment">// å°†å½“å‰å¯¹è±¡å’Œç›®æ ‡å¯¹è±¡å»ºç«‹æ˜ å°„å…³ç³»ï¼Œç”¨äºå¾ªç¯å¼•ç”¨æ£€æµ‹</span>
  hash<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>source<span class="token punctuation">,</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>
  
  <span class="token comment">// éå†æºå¯¹è±¡çš„æ‰€æœ‰å±æ€§</span>
  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> source<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// åªå¤„ç†å¯¹è±¡è‡ªèº«çš„å±æ€§ï¼Œä¸å¤„ç†åŸå‹é“¾ä¸Šçš„å±æ€§</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>source<span class="token punctuation">,</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// å¦‚æœå±æ€§å€¼æ˜¯å¯¹è±¡ç±»å‹ï¼Œé€’å½’è¿›è¡Œæ·±æ‹·è´</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">isObject</span><span class="token punctuation">(</span>source<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        target<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">deepClone</span><span class="token punctuation">(</span>source<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">,</span>hash<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// åŸºç¡€ç±»å‹ç›´æ¥èµ‹å€¼</span>
        target<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> source<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  
  <span class="token comment">// è¿”å›æ·±æ‹·è´åçš„å¯¹è±¡</span>
  <span class="token keyword">return</span> target<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// è¾…åŠ©å‡½æ•°ï¼šåˆ¤æ–­æ˜¯å¦ä¸ºå¯¹è±¡ç±»å‹</span>
<span class="token keyword">function</span> <span class="token function">isObject</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> obj <span class="token operator">!==</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> obj <span class="token operator">===</span> <span class="token string">'object'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><p><img src="data:image/png;base64,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" alt=""></p> <h3 id="_7-web-å¸¸è§çš„æ”»å‡»æ–¹å¼æœ‰å“ªäº›-å¦‚ä½•é˜²å¾¡"><a href="#_7-web-å¸¸è§çš„æ”»å‡»æ–¹å¼æœ‰å“ªäº›-å¦‚ä½•é˜²å¾¡" class="header-anchor">#</a> 7.web å¸¸è§çš„æ”»å‡»æ–¹å¼æœ‰å“ªäº›?å¦‚ä½•é˜²å¾¡?</h3> <p>å¸¸è§çš„ web æ”»å‡»æ–¹å¼:</p> <ul><li>XSS(Cross Site Scripting)è·¨ç«™è„šæœ¬æ”»å‡»</li> <li>CSRF(Cross-site request forgery)è·¨ç«™è¯·æ±‚ä¼ªé€ </li> <li>SQL æ³¨å…¥æ”»å‡»</li></ul> <h3 id="_8-è¿™ä¸ªç­‰å¼æˆç«‹å—-1-000-000-1000000"><a href="#_8-è¿™ä¸ªç­‰å¼æˆç«‹å—-1-000-000-1000000" class="header-anchor">#</a> 8.è¿™ä¸ªç­‰å¼æˆç«‹å—ï¼š1_000_000===1000000 ï¼Ÿ</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token number">1_000_000</span> <span class="token operator">===</span> <span class="token number">1000000</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>_ï¼Œè¿™æ˜¯æ•°å­—åˆ†éš”ç¬¦ï¼ˆNumeric Separatorï¼‰ï¼Œå…è®¸åœ¨æ•°å­—å€¼ä¸­ä½¿ç”¨ä¸‹åˆ’çº¿æ¥æé«˜æ•°å€¼çš„å¯è¯»æ€§ã€‚</p> <h3 id="_9-e-target-å’Œ-e-currenttarget-çš„åŒºåˆ«"><a href="#_9-e-target-å’Œ-e-currenttarget-çš„åŒºåˆ«" class="header-anchor">#</a> 9. e.target å’Œ e.currentTarget çš„åŒºåˆ«ï¼Ÿ</h3> <p><strong>å†’æ³¡&amp;æ•è·</strong></p> <p>å½“è§¦å‘ä¸€ä¸ªå…ƒç´ çš„äº‹ä»¶çš„æ—¶å€™ï¼Œè¯¥äº‹ä»¶ä»è¯¥å…ƒç´ çš„ç¥–å…ˆå…ƒç´ ä¼ é€’ä¸‹å»ï¼Œæ­¤è¿‡ç¨‹ä¸ºä¸º<em>æ•è·</em>ï¼Œè€Œåˆ°è¾¾æ­¤å…ƒç´ åï¼Œåˆä¼šå‘ç¥–å…ˆå…ƒç´ ä¼ æ’­ä¸Šå»ï¼Œæ­¤è¿‡ç¨‹ä¸º<em>å†’æ³¡</em>ã€‚</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>a<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>b<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>c<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>d<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>hhhhhh<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><img src="/assets/img/image.d73c4177.png" alt="alt text"></p> <p><strong>addEventListener</strong></p> <p>addEventListener æ˜¯ä¸ºå…ƒç´ ç»‘å®šäº‹ä»¶çš„æ–¹æ³•ï¼Œä»–æ¥æ”¶ä¸‰ä¸ªå‚æ•°ï¼š</p> <ul><li>ç¬¬ä¸€ä¸ªå‚æ•°ï¼šç»‘å®šçš„äº‹ä»¶å</li> <li>ç¬¬äºŒä¸ªå‚æ•°ï¼šæ‰§è¡Œçš„å‡½æ•°</li> <li>ç¬¬ä¸‰ä¸ªå‚æ•°ï¼š
<ul><li>falseï¼šé»˜è®¤ï¼Œä»£è¡¨å†’æ³¡æ—¶ç»‘å®š</li> <li>trueï¼šä»£è¡¨æ•è·æ—¶ç»‘å®š</li></ul></li></ul> <p><strong>target &amp; currentTarget</strong></p> <p>æˆ‘ä»¬ç»™å››ä¸ª div å…ƒç´ ç»‘å®šäº‹ä»¶ï¼Œä¸” addEventListener ç¬¬ä¸‰ä¸ªå‚æ•°ä¸è®¾ç½®ï¼Œåˆ™é»˜è®¤è®¾ç½®ä¸º false</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> a <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> b <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;b&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> c <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;c&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> d <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">handler</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> target<span class="token punctuation">,</span> currentTarget <span class="token punctuation">}</span> <span class="token operator">=</span> e<span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">targetæ˜¯</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>target<span class="token punctuation">.</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">ï¼ŒcurrentTargetæ˜¯</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>currentTarget<span class="token punctuation">.</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
a<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
b<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
c<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
d<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>ç‚¹å‡»ä¹‹åè¾“å‡ºï¼š</p> <p><img src="/assets/img/image1.61cc3c4c.png" alt="alt text"></p> <blockquote><p>å¯ä»¥çœ‹å‡ºè§¦å‘çš„æ˜¯ dï¼Œè€Œæ‰§è¡Œçš„å…ƒç´ æ˜¯å†’æ³¡çš„é¡ºåº</p></blockquote> <p>ç°åœ¨ï¼ŒæŠŠå››ä¸ªäº‹ä»¶ç¬¬ä¸‰ä¸ªå‚æ•°éƒ½è®¾ç½®ä¸º trueï¼Œå†çœ‹è¾“å‡ºç»“æœï¼š</p> <p><img src="/assets/img/image2.4eff8a55.png" alt="alt text"></p> <blockquote><p>å¯ä»¥çœ‹å‡ºè§¦å‘çš„æ˜¯ dï¼Œè€Œæ‰§è¡Œçš„å…ƒç´ æ˜¯æ•è·çš„é¡ºåº</p></blockquote> <p><strong>æ€»ç»“</strong></p> <ul><li>e.targetï¼šè§¦å‘äº‹ä»¶çš„å…ƒç´ </li> <li>e.currentTargetï¼šç»‘å®šäº‹ä»¶çš„å…ƒç´ </li></ul> <h3 id="_10-å¦‚ä½•è·å–åˆ°ä¸€ä¸ªå®ä¾‹å¯¹è±¡çš„åŸå‹å¯¹è±¡"><a href="#_10-å¦‚ä½•è·å–åˆ°ä¸€ä¸ªå®ä¾‹å¯¹è±¡çš„åŸå‹å¯¹è±¡" class="header-anchor">#</a> 10.å¦‚ä½•è·å–åˆ°ä¸€ä¸ªå®ä¾‹å¯¹è±¡çš„åŸå‹å¯¹è±¡ï¼Ÿ</h3> <ul><li>ä»æ„é€ å‡½æ•°è·å¾—åŸå‹å¯¹è±¡ï¼šæ„é€ å‡½æ•°.prototype</li> <li>ä»å®ä¾‹å¯¹è±¡è·å¾—çˆ¶çº§åŸå‹å¯¹è±¡ï¼šå®ä¾‹å¯¹è±¡.__proto__ï¼ˆä¸æ¨èï¼‰ï¼ŒObject.getPrototypeOf(å®ä¾‹å¯¹è±¡)</li></ul> <h3 id="_11-ä»€ä¹ˆæ˜¯ç±»æ•°ç»„å¯¹è±¡"><a href="#_11-ä»€ä¹ˆæ˜¯ç±»æ•°ç»„å¯¹è±¡" class="header-anchor">#</a> 11. ä»€ä¹ˆæ˜¯ç±»æ•°ç»„å¯¹è±¡ï¼Ÿ</h3> <blockquote><p>ä¸€ä¸ªæ‹¥æœ‰ length å±æ€§å’Œè‹¥å¹²ç´¢å¼•å±æ€§çš„å¯¹è±¡</p></blockquote> <p>å®ƒå’Œæ•°ç»„ç±»ä¼¼ï¼Œä½†ä¸èƒ½è°ƒç”¨æ•°ç»„çš„æ–¹æ³•</p> <p>å¸¸è§çš„äº†ç±»æ•°ç»„å¯¹è±¡ï¼š</p> <ul><li>arguments</li> <li>DOM æ–¹æ³•çš„è¿”å›ç»“æœ</li> <li>ä¸€ä¸ªå‡½æ•°ä¹Ÿå¯ä»¥è¢«çœ‹ä½œæ˜¯ç±»æ•°ç»„å¯¹è±¡ï¼Œå› ä¸ºå®ƒå«æœ‰ length å±æ€§å€¼ï¼Œä»£è¡¨å¯æ¥æ”¶çš„å‚æ•°ä¸ªæ•°</li></ul> <p>å¸¸è§çš„ç±»æ•°ç»„è½¬æ¢ä¸ºæ•°ç»„çš„æ–¹æ³•ï¼š</p> <ul><li>Array.from(ç±»æ•°ç»„)</li> <li>[].slice.call(ç±»æ•°ç»„)</li> <li>[].concat.apply([],ç±»æ•°ç»„)</li></ul> <h2 id="ç½‘ç»œ"><a href="#ç½‘ç»œ" class="header-anchor">#</a> ç½‘ç»œ</h2> <h3 id="_1-è¯´ä¸€ä¸‹ä»€ä¹ˆæ˜¯-http-åè®®æ— çŠ¶æ€-æ€ä¹ˆè§£å†³-http-åè®®æ— çŠ¶æ€"><a href="#_1-è¯´ä¸€ä¸‹ä»€ä¹ˆæ˜¯-http-åè®®æ— çŠ¶æ€-æ€ä¹ˆè§£å†³-http-åè®®æ— çŠ¶æ€" class="header-anchor">#</a> 1.è¯´ä¸€ä¸‹ä»€ä¹ˆæ˜¯ Http åè®®æ— çŠ¶æ€?æ€ä¹ˆè§£å†³ Http åè®®æ— çŠ¶æ€?</h3> <h4 id="http-åè®®æ— çŠ¶æ€çš„å«ä¹‰"><a href="#http-åè®®æ— çŠ¶æ€çš„å«ä¹‰" class="header-anchor">#</a> http åè®®æ— çŠ¶æ€çš„å«ä¹‰</h4> <p><strong>1.1 æœ‰çŠ¶æ€åè®®</strong></p> <p>å¸¸è§çš„è®¸å¤šä¸ƒå±‚åè®®å®é™…ä¸Šæ˜¯æœ‰çŠ¶æ€çš„</p> <p><strong>1.2 ä¸ºä»€ä¹ˆè¯´ http åè®®æ˜¯æ— çŠ¶æ€åè®®</strong></p> <p>å› ä¸ºå®ƒçš„æ¯ä¸ªè¯·æ±‚éƒ½æ˜¯å®Œå…¨ç‹¬ç«‹çš„ï¼Œæ¯ä¸ªè¯·æ±‚åŒ…å«äº†å¤„ç†è¿™ä¸ªè¯·æ±‚æ‰€éœ€çš„å®Œæ•´çš„æ•°æ®ï¼Œå‘é€è¯·æ±‚ä¸æ¶‰åŠåˆ°çŠ¶æ€çš„å˜æ›´ã€‚</p> <p><strong>1.3 ä¸ºä»€ä¹ˆä¸æ”¹è¿› http åè®®ä½¿ä¹‹æœ‰çŠ¶æ€</strong></p> <p>æœ€åˆçš„ http åè®®åªæ˜¯ç”¨æ¥æµè§ˆé™æ€æ–‡ä»¶çš„ï¼Œæ— çŠ¶æ€åè®®å·²ç»è¶³å¤Ÿï¼Œè¿™æ ·å®ç°çš„è´Ÿæ‹…ä¹Ÿå¾ˆè½»ã€‚éšç€ web çš„å‘å±•ï¼Œå®ƒéœ€è¦å˜å¾—æœ‰çŠ¶æ€ï¼Œä½†æ˜¯ä¸æ˜¯å°±è¦ä¿®æ”¹ http åè®®ä½¿ä¹‹æœ‰çŠ¶æ€å‘¢ï¼Ÿæ˜¯ä¸éœ€è¦çš„ã€‚å› ä¸ºæˆ‘ä»¬ç»å¸¸é•¿æ—¶é—´åœç•™åœ¨æŸä¸€ä¸ªç½‘é¡µï¼Œç„¶åæ‰è¿›å…¥å¦ä¸€ä¸ªç½‘é¡µï¼Œå¦‚æœè¿™ä¸¤ä¸ªé¡µé¢ä¹‹é—´ç»´æŒçŠ¶æ€ï¼Œä»£ä»·æ˜¯å¾ˆé«˜çš„ã€‚å…¶æ¬¡ï¼Œå†å²è®© http æ— çŠ¶æ€ï¼Œä½†æ˜¯ç°åœ¨å¯¹ http æå‡ºæ¥æ–°çš„è¦æ±‚ã€‚æŒ‰ç…§è½¯ä»¶é¢†åŸŸçš„é€šå¸¸åšæ³•æ˜¯ï¼Œä¿ç•™å†å²ç»éªŒï¼Œåœ¨ http åè®®ä¸Šå†åŠ ä¸Šä¸€å±‚å®ç°æˆ‘ä»¬çš„ç›®çš„ï¼ˆâ€œå†åŠ ä¸Šä¸€å±‚ï¼Œä½ å¯ä»¥åšä»»ä½•äº‹â€ï¼‰ã€‚æ‰€ä»¥å¼•å…¥äº†å…¶ä»–æœºåˆ¶æ¥å®ç°è¿™ç§æœ‰çŠ¶æ€çš„è¿æ¥ã€‚</p> <p><strong>1.4 æ— çŠ¶æ€åè®®çš„ä¼˜ç¼ºç‚¹</strong></p> <p>ä¼˜ç‚¹ï¼šä¼šè¯ï¼ˆSessionï¼‰æ”¯æŒã€å¯¹ä¸­é—´ä»¶å‹å¥½</p> <p>ç¼ºç‚¹ï¼šå•ä¸ªè¯·æ±‚éœ€è¦çš„æ‰€æœ‰ä¿¡æ¯éƒ½å¿…é¡»è¦åŒ…å«åœ¨è¯·æ±‚ä¸­ä¸€æ¬¡å‘é€åˆ°æœåŠ¡ç«¯ï¼Œè¿™å¯¼è‡´å•ä¸ªæ¶ˆæ¯çš„ç»“æ„éœ€è¦æ¯”è¾ƒå¤æ‚ï¼Œå¿…é¡»èƒ½å¤Ÿæ”¯æŒå¤§é‡å…ƒæ•°æ®ï¼Œå› æ­¤ HTTP æ¶ˆæ¯çš„è§£æè¦æ¯”å…¶ä»–è®¸å¤šåè®®éƒ½è¦å¤æ‚å¾—å¤šã€‚åŒæ—¶ï¼Œè¿™ä¹Ÿå¯¼è‡´äº†ç›¸åŒçš„æ•°æ®åœ¨å¤šä¸ªè¯·æ±‚ä¸Šå¾€å¾€éœ€è¦åå¤ä¼ è¾“ï¼Œä¾‹å¦‚åŒä¸€ä¸ªè¿æ¥ä¸Šçš„æ¯ä¸ªè¯·æ±‚éƒ½éœ€è¦ä¼ è¾“ Hostã€Authenticationã€Cookiesã€Server ç­‰å¾€å¾€æ˜¯å®Œå…¨é‡å¤çš„å…ƒæ•°æ®ï¼Œä¸€å®šç¨‹åº¦ä¸Šé™ä½äº†åè®®çš„æ•ˆç‡ã€‚</p> <p><strong>1.5 HTTP åè®®æ˜¯æ— çŠ¶æ€åè®®ï¼Œè¿™å¥è¯æœ¬èº«åˆ°åº•å¯¹ä¸å¯¹ï¼Ÿ</strong></p> <p>å®é™…ä¸Šï¼Œå¹¶ä¸å…¨å¯¹ã€‚è‡³äº HTTP/2ï¼Œå®ƒåº”è¯¥ç®—æ˜¯ä¸€ä¸ªæœ‰çŠ¶æ€çš„åè®®äº†ï¼ˆæœ‰æ¡æ‰‹å’Œ GOAWAY æ¶ˆæ¯ï¼Œæœ‰ç±»ä¼¼äº TCP çš„æµæ§ï¼‰ï¼Œæ‰€ä»¥ä»¥åè¯´â€œHTTP æ˜¯æ— çŠ¶æ€çš„åè®®â€å°±ä¸å¤ªå¯¹äº†ï¼Œæœ€å¥½è¯´â€œHTTP 1.x æ˜¯æ— çŠ¶æ€çš„åè®®â€</p> <h4 id="å¦‚ä½•è§£å†³æ— çŠ¶æ€é—®é¢˜"><a href="#å¦‚ä½•è§£å†³æ— çŠ¶æ€é—®é¢˜" class="header-anchor">#</a> å¦‚ä½•è§£å†³æ— çŠ¶æ€é—®é¢˜</h4> <p>HTTP åè®®æ˜¯æ— çŠ¶æ€çš„ï¼Œæ— çŠ¶æ€æ„å‘³ç€ï¼ŒæœåŠ¡å™¨æ— æ³•ç»™ä¸åŒçš„å®¢æˆ·ç«¯å“åº”ä¸åŒçš„ä¿¡æ¯ã€‚è¿™æ ·ä¸€äº›äº¤äº’ä¸šåŠ¡å°±æ— æ³•æ”¯æ’‘äº†ã€‚Cookie åº”è¿è€Œç”Ÿã€‚</p> <p><strong>2.1 Cookie</strong></p> <blockquote><p>cookie çš„ä¼ é€’ä¼šç»è¿‡ä¸‹è¾¹è¿™ 4 æ­¥ï¼š</p></blockquote> <ol><li>Client å‘é€ HTTP è¯·æ±‚ç»™ Server</li> <li>Server å“åº”ï¼Œå¹¶é™„å¸¦ Set-Cookie çš„å¤´éƒ¨ä¿¡æ¯</li> <li>Client ä¿å­˜ Cookieï¼Œä¹‹åè¯·æ±‚ Server ä¼šé™„å¸¦ Cookie çš„å¤´éƒ¨ä¿¡æ¯</li> <li>Server ä» Cookie çŸ¥é“ Client æ˜¯è°äº†ï¼Œè¿”å›ç›¸åº”çš„å“åº”</li></ol> <blockquote><p>Server æ‹¿åˆ° Cookie åï¼Œé€šè¿‡ä»€ä¹ˆä¿¡æ¯æ‰èƒ½åˆ¤æ–­æ˜¯å“ªä¸ª Client å‘¢ï¼ŸæœåŠ¡å™¨çš„ SessionIDã€‚</p></blockquote> <p><strong>2.2 Session</strong></p> <p>å¦‚æœæŠŠç”¨æˆ·åã€å¯†ç ç­‰é‡è¦éšç§éƒ½å­˜åˆ°å®¢æˆ·ç«¯çš„ Cookie ä¸­ï¼Œè¿˜æ˜¯æœ‰æ³„å¯†é£é™©ã€‚ä¸ºäº†æ›´å®‰å…¨ï¼ŒæŠŠæœºå¯†ä¿¡æ¯ä¿å­˜åˆ°æœåŠ¡å™¨ä¸Šï¼Œè¿™å°±æ˜¯ Sessionã€‚</p> <p>Session æ˜¯æœåŠ¡å™¨ä¸Šç»´æŠ¤çš„å®¢æˆ·æ¡£æ¡ˆï¼Œå¯ä»¥ç†è§£ä¸ºæœåŠ¡å™¨ç«¯æ•°æ®åº“ä¸­æœ‰ä¸€å¼  user è¡¨ï¼Œé‡Œé¢å­˜æ”¾äº†å®¢æˆ·ç«¯çš„ç”¨æˆ·ä¿¡æ¯ã€‚SessionID å°±æ˜¯è¿™å¼ è¡¨çš„ä¸»é”® IDã€‚</p> <p>Session ä¿¡æ¯å­˜åˆ°æœåŠ¡å™¨ï¼Œå¿…ç„¶å ç”¨å†…å­˜ã€‚ç”¨æˆ·å¤šäº†ä»¥åï¼Œå¼€é”€å¿…ç„¶å¢å¤§ã€‚ä¸ºäº†æé«˜æ•ˆç‡ï¼Œéœ€è¦åšåˆ†å¸ƒå¼ï¼Œåšè´Ÿè½½å‡è¡¡ã€‚å› ä¸ºè®¤è¯çš„ä¿¡æ¯ä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œç”¨æˆ·è®¿é—®å“ªå°æœåŠ¡å™¨ï¼Œä¸‹æ¬¡è¿˜å¾—è®¿é—®ç›¸åŒæœåŠ¡å™¨æ‰èƒ½æ‹¿åˆ°æˆæƒä¿¡æ¯ï¼Œè¿™å°±é™åˆ¶äº†è´Ÿè½½å‡è¡¡çš„èƒ½åŠ›ã€‚è€Œä¸” SeesionID å­˜åœ¨ Cookie ä¸­ï¼Œè¿˜æ˜¯æœ‰æš´éœ²çš„é£é™©ï¼Œæ¯”å¦‚ CSRF(Cross-Site Request Forgeryï¼Œè·¨ç«™è¯·æ±‚ä¼ªé€ )ã€‚</p> <blockquote><p>å¦‚ä½•è§£å†³è¿™äº›é—®é¢˜å‘¢ï¼ŸåŸºäº Token ä»¤ç‰Œé‰´æƒã€‚</p></blockquote> <p><strong>2.3 Token</strong></p> <p>é¦–å…ˆï¼ŒToken ä¸éœ€è¦å†å­˜å‚¨ç”¨æˆ·ä¿¡æ¯ï¼ŒèŠ‚çº¦äº†å†…å­˜ã€‚å…¶æ¬¡ï¼Œç”±äºä¸å­˜å‚¨ä¿¡æ¯ï¼Œå®¢æˆ·ç«¯è®¿é—®ä¸åŒçš„æœåŠ¡å™¨ä¹Ÿèƒ½è¿›è¡Œé‰´æƒï¼Œå¢å¼ºäº†æ‰©å±•èƒ½åŠ›ã€‚ç„¶åï¼ŒToken å¯ä»¥é‡‡ç”¨ä¸åŒçš„åŠ å¯†æ–¹å¼è¿›è¡Œç­¾åï¼Œæé«˜äº†å®‰å…¨æ€§ã€‚</p> <p>Token å°±æ˜¯ä¸€æ®µå­—ç¬¦ä¸²ï¼ŒToken ä¼ é€’çš„è¿‡ç¨‹è·Ÿ Cookie ç±»ä¼¼ï¼Œåªæ˜¯ä¼ é€’å¯¹è±¡å˜æˆäº† Tokenã€‚ç”¨æˆ·ä½¿ç”¨ç”¨æˆ·åã€å¯†ç è¯·æ±‚æœåŠ¡å™¨åï¼ŒæœåŠ¡å™¨å°±ç”Ÿæˆ Tokenï¼Œåœ¨å“åº”ä¸­è¿”ç»™å®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯å†æ¬¡è¯·æ±‚æ—¶é™„å¸¦ä¸Š Tokenï¼ŒæœåŠ¡å™¨å°±ç”¨è¿™ä¸ª Token è¿›è¡Œè®¤è¯é‰´æƒã€‚</p> <p>Token è™½ç„¶å¾ˆå¥½çš„è§£å†³äº† Session çš„é—®é¢˜ï¼Œä½†ä»ç„¶ä¸å¤Ÿå®Œç¾ã€‚æœåŠ¡å™¨åœ¨è®¤è¯ Token çš„æ—¶å€™ï¼Œä»ç„¶éœ€è¦å»æ•°æ®åº“æŸ¥è¯¢è®¤è¯ä¿¡æ¯åšæ ¡éªŒã€‚ä¸ºäº†ä¸æŸ¥åº“ï¼Œç›´æ¥è®¤è¯ï¼ŒJWT å‡ºç°äº†ã€‚</p> <p><strong>2.4 JWT</strong></p> <p>JWT çš„è‹±æ–‡å…¨ç§°æ˜¯ JSON Web Tokenã€‚JWT æŠŠæ‰€æœ‰ä¿¡æ¯éƒ½å­˜åœ¨è‡ªå·±èº«ä¸Šäº†ï¼ŒåŒ…æ‹¬ç”¨æˆ·åå¯†ç ã€åŠ å¯†ä¿¡æ¯ç­‰ï¼Œä¸”ä»¥ JSON å¯¹è±¡å­˜å‚¨çš„ã€‚</p> <p>JWT é•¿ç›¸æ˜¯ xxxxx.yyyyy.zzzzzï¼Œæå…·è‰ºæœ¯æ„Ÿã€‚åŒ…æ‹¬ä¸‰éƒ¨åˆ†å†…å®¹</p> <ul><li>Headerï¼šåŒ…æ‹¬ token ç±»å‹å’ŒåŠ å¯†ç®—æ³•(HMAC SHA256 RSA)</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">{</span>  <span class="token string-property property">&quot;alg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;HS256&quot;</span><span class="token punctuation">,</span>  <span class="token string-property property">&quot;typ&quot;</span><span class="token operator">:</span> <span class="token string">&quot;JWT&quot;</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>Payloadï¼šä¼ å…¥å†…å®¹</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">{</span>  <span class="token string-property property">&quot;sub&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1234567890&quot;</span><span class="token punctuation">,</span>  <span class="token string-property property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;John Doe&quot;</span><span class="token punctuation">,</span>  <span class="token string-property property">&quot;admin&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>Signatureï¼šç­¾åï¼ŒæŠŠ header å’Œ payload ç”¨ base64 ç¼–ç å&quot;.&quot;æ‹¼æ¥ï¼ŒåŠ  secret(æœåŠ¡å™¨ç§é’¥)ã€‚</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token constant">HMACSHA256</span><span class="token punctuation">(</span><span class="token function">base64UrlEncode</span><span class="token punctuation">(</span>header<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;.&quot;</span> <span class="token operator">+</span> <span class="token function">base64UrlEncode</span><span class="token punctuation">(</span>payload<span class="token punctuation">)</span><span class="token punctuation">,</span> secret<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>æœ€ç»ˆçš„ token å°±æ˜¯è¿™æ ·ä¸€ä¸ªå­—ç¬¦ä¸²ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>eyJhbGciOiJIUzI1NiJ9
  <span class="token punctuation">.</span>eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ
  <span class="token punctuation">.</span>yKOB4jkGWu7twu8Ts9zju01E10_CPedLJkoJFCan5J4<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>ç»™ Token ç©¿ä¸ªå¤–å¥—</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token literal-property property">Authorization</span><span class="token operator">:</span> Bearer<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>è¿™å°±æ˜¯æˆ‘ä»¬åœ¨è¯·æ±‚ Header é‡Œé¢çœ‹åˆ°çš„å†…å®¹æ ¼å¼äº†ã€‚</p> <h3 id="_2-è¯´ä¸€ä¸‹å¼€å‘ä¸­å¸¸ç”¨çš„å‡ ç§-content-type"><a href="#_2-è¯´ä¸€ä¸‹å¼€å‘ä¸­å¸¸ç”¨çš„å‡ ç§-content-type" class="header-anchor">#</a> 2.è¯´ä¸€ä¸‹å¼€å‘ä¸­å¸¸ç”¨çš„å‡ ç§ Content-Type ï¼Ÿ</h3> <h4 id="content-type-æ˜¯ä»€ä¹ˆ"><a href="#content-type-æ˜¯ä»€ä¹ˆ" class="header-anchor">#</a> Content-Type æ˜¯ä»€ä¹ˆ</h4> <p>Http çš„å®ä½“é¦–éƒ¨å­—æ®µï¼Œç”¨äºè¯´æ˜è¯·æ±‚æˆ–è¿”å›çš„æ¶ˆæ¯ä¸»ä½“æ˜¯ç”¨ä½•ç§æ–¹å¼ç¼–ç ï¼Œåœ¨ request header å’Œ response header é‡Œéƒ½å­˜åœ¨ã€‚</p> <p>å‡ ä¸ªå¸¸è§çš„ç±»å‹å¦‚ä¸‹ï¼š</p> <ul><li>application/x-www-form-urlencoded</li> <li>multipart/form-data</li> <li>application/json</li> <li>text/xml</li></ul> <h4 id="_1-application-x-www-form-urlencoded"><a href="#_1-application-x-www-form-urlencoded" class="header-anchor">#</a> 1.application/x-www-form-urlencoded</h4> <p>æµè§ˆå™¨çš„åŸç”Ÿ form è¡¨å•ï¼Œå¦‚æœä¸è®¾ç½® enctype å±æ€§ï¼Œé‚£ä¹ˆæœ€ç»ˆå°±ä¼šä»¥ application/x-www-form-urlencoded æ–¹å¼æäº¤æ•°æ®ã€‚è¯·æ±‚å¦‚ä¸‹é¢å½¢å¼ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token constant">POST</span> <span class="token literal-property property">http</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>www<span class="token punctuation">.</span>example<span class="token punctuation">.</span>com <span class="token constant">HTTP</span><span class="token operator">/</span><span class="token number">1.1</span>
Content<span class="token operator">-</span>Type<span class="token operator">:</span> application<span class="token operator">/</span>x<span class="token operator">-</span>www<span class="token operator">-</span>form<span class="token operator">-</span>urlencoded<span class="token punctuation">;</span>charset<span class="token operator">=</span>utf<span class="token operator">-</span><span class="token number">8</span>
title<span class="token operator">=</span>test<span class="token operator">&amp;</span>sub<span class="token operator">%</span>5B<span class="token operator">%</span>5D<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>sub<span class="token operator">%</span>5B<span class="token operator">%</span>5D<span class="token operator">=</span><span class="token number">2</span><span class="token operator">&amp;</span>sub<span class="token operator">%</span>5B<span class="token operator">%</span>5D<span class="token operator">=</span><span class="token number">3</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>è¯¥ç§æ–¹å¼æäº¤çš„æ•°æ®æ”¾åœ¨ body é‡Œé¢ï¼Œæ•°æ®æŒ‰ç…§ key1=val1&amp;key2=val2 çš„æ–¹å¼è¿›è¡Œç¼–ç ï¼Œkey å’Œ val éƒ½è¿›è¡Œäº† URL è½¬ç ã€‚</p> <h4 id="_2-multipart-form-data"><a href="#_2-multipart-form-data" class="header-anchor">#</a> 2.multipart/form-data</h4> <p>è¯¥ç§æ–¹å¼ä¹Ÿæ˜¯ä¸€ä¸ªå¸¸è§çš„ POST æäº¤æ–¹å¼ï¼Œé€šå¸¸è¡¨å•ä¸Šä¼ æ–‡ä»¶æ—¶ä½¿ç”¨è¯¥ç§æ–¹å¼ã€‚</p> <p>ä½¿ç”¨è¡¨å•ä¸Šä¼ æ–‡ä»¶æ—¶ï¼Œå¿…é¡»è®© form çš„ enctype ç­‰äºè¿™ä¸ªå€¼ã€‚</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>form
  action<span class="token operator">=</span><span class="token string">&quot;/&quot;</span>
  method<span class="token operator">=</span><span class="token string">&quot;post&quot;</span>
  enctype<span class="token operator">=</span><span class="token string">&quot;multipart/form-data&quot;</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>input
    type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span>
    name<span class="token operator">=</span><span class="token string">&quot;description&quot;</span>
    value<span class="token operator">=</span><span class="token string">&quot;some text&quot;</span>
  <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>input
    type<span class="token operator">=</span><span class="token string">&quot;file&quot;</span>
    name<span class="token operator">=</span><span class="token string">&quot;myFile&quot;</span>
  <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>button type<span class="token operator">=</span><span class="token string">&quot;submit&quot;</span><span class="token operator">&gt;</span>Submit<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>è¯·æ±‚å¤´çœ‹èµ·æ¥åƒè¿™æ ·</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token constant">POST</span> <span class="token operator">/</span>foo <span class="token constant">HTTP</span><span class="token operator">/</span><span class="token number">1.1</span>
Content<span class="token operator">-</span>Length<span class="token operator">:</span> <span class="token number">68137</span>
Content<span class="token operator">-</span>Type<span class="token operator">:</span> multipart<span class="token operator">/</span>form<span class="token operator">-</span>data<span class="token punctuation">;</span> boundary<span class="token operator">=</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token number">974767299852498929531610575</span>

<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token number">974767299852498929531610575</span>
Content<span class="token operator">-</span>Disposition<span class="token operator">:</span> form<span class="token operator">-</span>data<span class="token punctuation">;</span> name<span class="token operator">=</span><span class="token string">&quot;description&quot;</span>

some text
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token number">974767299852498929531610575</span>
Content<span class="token operator">-</span>Disposition<span class="token operator">:</span> form<span class="token operator">-</span>data<span class="token punctuation">;</span> name<span class="token operator">=</span><span class="token string">&quot;myFile&quot;</span><span class="token punctuation">;</span> filename<span class="token operator">=</span><span class="token string">&quot;foo.txt&quot;</span>
Content<span class="token operator">-</span>Type<span class="token operator">:</span> text<span class="token operator">/</span><span class="token function">plain</span>

<span class="token punctuation">(</span>content <span class="token keyword">of</span> the uploaded file foo<span class="token punctuation">.</span>txt<span class="token punctuation">)</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token number">974767299852498929531610575</span><span class="token operator">--</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h4 id="_3-application-json"><a href="#_3-application-json" class="header-anchor">#</a> 3.application/json</h4> <p>application/json ä½œä¸ºå“åº”å¤´å¤§å®¶éƒ½ä¸é™Œç”Ÿï¼Œç°åœ¨è¶Šæ¥è¶Šå¤šçš„äººæŠŠå…¶ä½œä¸ºè¯·æ±‚å¤´ï¼Œç”¨æ¥å‘Šè¯‰æœåŠ¡å™¨æ¶ˆæ¯ä¸»ä½“æ˜¯åºåˆ—åŒ–åçš„ JSON å­—ç¬¦ä¸²ã€‚è¯·æ±‚ç±»ä¼¼ä¸‹é¢å½¢å¼</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token constant">POST</span> <span class="token literal-property property">http</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>www<span class="token punctuation">.</span>example<span class="token punctuation">.</span>com <span class="token constant">HTTP</span><span class="token operator">/</span><span class="token number">1.1</span>
Content<span class="token operator">-</span>Type<span class="token operator">:</span> application<span class="token operator">/</span>json<span class="token punctuation">;</span>charset<span class="token operator">=</span>utf<span class="token operator">-</span><span class="token number">8</span>

<span class="token punctuation">{</span><span class="token string-property property">&quot;title&quot;</span><span class="token operator">:</span><span class="token string">&quot;test&quot;</span><span class="token punctuation">,</span><span class="token string-property property">&quot;sub&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>è¿™ç§æ–¹æ¡ˆï¼Œå¯ä»¥æ–¹ä¾¿çš„æäº¤å¤æ‚çš„ç»“æ„åŒ–æ•°æ®ï¼Œç‰¹åˆ«é€‚åˆ RESTful çš„æ¥å£ã€‚å„å¤§æŠ“åŒ…å·¥å…·å¦‚ Chrome è‡ªå¸¦çš„å¼€å‘è€…å·¥å…·ã€Firebugã€Fiddlerï¼Œéƒ½ä¼šä»¥æ ‘å½¢ç»“æ„å±•ç¤º JSON æ•°æ®ï¼Œéå¸¸å‹å¥½ã€‚</p> <h4 id="_4-text-xml"><a href="#_4-text-xml" class="header-anchor">#</a> 4.text/xml</h4> <p>è¯¥ç§æ–¹å¼ä¸»è¦ç”¨æ¥æäº¤ XML æ ¼å¼çš„æ•°æ®ï¼Œè¯·æ±‚å½¢å¼å¦‚ä¸‹ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token constant">POST</span> <span class="token literal-property property">http</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>www<span class="token punctuation">.</span>example<span class="token punctuation">.</span>com <span class="token constant">HTTP</span><span class="token operator">/</span><span class="token number">1.1</span>
Content<span class="token operator">-</span>Type<span class="token operator">:</span> text<span class="token operator">/</span>xml

<span class="token operator">&lt;</span><span class="token operator">?</span>xml version<span class="token operator">=</span><span class="token string">&quot;1.0&quot;</span><span class="token operator">?</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>methodCall<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>methodName<span class="token operator">&gt;</span>examples<span class="token punctuation">.</span>getStateName<span class="token operator">&lt;</span><span class="token operator">/</span>methodName<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>params<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>param<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>value<span class="token operator">&gt;</span><span class="token operator">&lt;</span>i4<span class="token operator">&gt;</span><span class="token number">41</span><span class="token operator">&lt;</span><span class="token operator">/</span>i4<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>value<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>param<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>params<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>methodCall<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="_3-è¯´ä¸‹-url-å’Œ-uri-çš„åŒºåˆ«"><a href="#_3-è¯´ä¸‹-url-å’Œ-uri-çš„åŒºåˆ«" class="header-anchor">#</a> 3.è¯´ä¸‹ URL å’Œ URI çš„åŒºåˆ«ï¼Ÿ</h3> <h4 id="ä¸€ã€uri-ç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦"><a href="#ä¸€ã€uri-ç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦" class="header-anchor">#</a> ä¸€ã€URIï¼šç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦</h4> <p>URI å…¨ç§° Uniform Resource Identifier,æŒ‡çš„æ˜¯ç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦ï¼Œç”¨æ¥æ ‡è¯†å”¯ä¸€çš„èµ„æºã€‚</p> <p>Web ä¸Šå¯ç”¨çš„æ¯ç§èµ„æº-HTML æ–‡æ¡£ã€å›¾åƒã€è§†é¢‘ç‰‡æ®µã€ç¨‹åºç­‰éƒ½ç”±ä¸€ä¸ªé€šç”¨èµ„æºæ ‡è¯†ç¬¦(å³ URI)è¿›è¡Œå®šä½ã€‚</p> <p>URI ä¸€èˆ¬ç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼š</p> <ul><li>1.è®¿é—®èµ„æºçš„å‘½åæœºåˆ¶</li> <li>2.å­˜æ”¾èµ„æºçš„ä¸»æœºå</li> <li>3.èµ„æºè‡ªèº«çš„åç§°ï¼Œç”±è·¯å¾„è¡¨ç¤º</li></ul> <p>çœ‹ä¸ªä¾‹å­ï¼šhttp://www.xxx.com/html/html4</p> <p>è¿™ä¸ª URi æ˜¯è¿™æ ·çš„ï¼šè¿™æ˜¯ä¸€ä¸ªé€šè¿‡ HTTP åè®®è®¿é—®çš„èµ„æºï¼Œä½äºwww.xxx.comä¸Šï¼Œé€šè¿‡è·¯å¾„&quot;/html/html4&quot;è®¿é—®ã€‚</p> <p>æœ‰çš„ URI æŒ‡å‘ä¸€ä¸ªèµ„æºçš„å†…éƒ¨ã€‚è¿™ç§ URi ä»¥&quot;#&quot;ç»“æŸï¼Œå¹¶è·Ÿç€ä¸€ä¸ª anchor æ ‡è¯†ç¬¦ï¼ˆç§°ä¸ºç‰‡æ®µæ ‡è¯†ç¬¦ï¼‰ã€‚ä¾‹å¦‚ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªæŒ‡å‘ section_2 çš„ URIï¼šhttp://somesite.com/html/top.htm#section_2</p> <p><strong>1.1 ç»å¯¹ URI</strong></p> <p>URI æœ‰ç»å¯¹å’Œç›¸å¯¹ä¹‹åˆ†ï¼Œç»å¯¹çš„ URI æŒ‡ä»¥ schemeï¼ˆåé¢è·Ÿç€å†’å·ï¼‰å¼€å¤´çš„ URIã€‚å‰é¢æåˆ°çš„http://www.cnn.comå°±æ˜¯ç»å¯¹çš„ URI çš„ä¸€ä¸ªä¾‹å­ï¼Œå…¶å®ƒçš„ä¾‹å­è¿˜æœ‰ mailto:jeff@javajeff.comã€news:comp.lang.java.help å’Œ xyz://whateverã€‚ä½ å¯ä»¥æŠŠç»å¯¹çš„ URI çœ‹ä½œæ˜¯ä»¥æŸç§æ–¹å¼å¼•ç”¨æŸç§èµ„æºï¼Œè€Œè¿™ç§æ–¹å¼å¯¹æ ‡è¯†ç¬¦å‡ºç°çš„ç¯å¢ƒæ²¡æœ‰ä¾èµ–ã€‚å¦‚æœä½¿ç”¨æ–‡ä»¶ç³»ç»Ÿä½œç±»æ¯”ï¼Œç»å¯¹çš„ URI ç±»ä¼¼äºä»æ ¹ç›®å½•å¼€å§‹çš„æŸä¸ªæ–‡ä»¶çš„å¾„ã€‚</p> <p><strong>1.2 ç›¸å¯¹ URI</strong></p> <p>ç›¸å¯¹ URI ä¸åŒ…å«ä»»ä½•å‘½åè§„èŒƒä¿¡æ¯ã€‚å®ƒçš„è·¯å¾„é€šå¸¸æŒ‡åŒä¸€å°æœºå™¨ä¸Šçš„èµ„æºã€‚ç›¸å¯¹ URI å¯èƒ½å«æœ‰ç›¸å¯¹è·¯å¾„ï¼ˆå¦‚ï¼Œ&quot;..&quot;è¡¨ç¤ºä¸Šä¸€å±‚è·¯å¾„ï¼‰ï¼Œè¿˜å¯èƒ½åŒ…å«ç‰‡æ®µæ ‡è¯†ç¬¦ã€‚æ¯”å¦‚çœ‹ä¸‹é¢çš„ä¾‹å­ï¼š</p> <ul><li>ç›¸å¯¹ URI</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>suppliers.html
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>å®ƒæ‰©å±•æˆå®Œå…¨çš„ URI å°±æ˜¯http://www.xxx.com/suppliers.htm</p> <ul><li>ä¸€ä¸ªå›¾ç‰‡çš„ç›¸å¯¹ URI</li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span>
  <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>../icons/logo.png<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>logo<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>å®ƒæ‰©å±•æˆå®Œå…¨çš„ URI å°±æ˜¯http://www.xxx.com/icons/logo.png</p> <p>ä¸ç»å¯¹çš„ URI ä¸åŒçš„ï¼Œç›¸å¯¹çš„ URI ä¸æ˜¯ä»¥ schemeï¼ˆåé¢è·Ÿç€å†’å·ï¼‰å¼€å§‹çš„ URIã€‚ å®ƒçš„ä¸€ä¸ªä¾‹å­æ˜¯ articles/articles.htmlã€‚ä½ å¯ä»¥æŠŠç›¸å¯¹çš„ URI çœ‹ä½œæ˜¯ä»¥æŸç§æ–¹å¼å¼•ç”¨æŸç§èµ„æºï¼Œè€Œè¿™ç§æ–¹å¼ä¾èµ–äºæ ‡è¯†ç¬¦å‡ºç°çš„ç¯å¢ƒã€‚å¦‚æœç”¨æ–‡ä»¶ç³»ç»Ÿä½œç±»æ¯”ï¼Œç›¸å¯¹çš„ URI ç±»ä¼¼äºä»å½“å‰ç›®å½•å¼€å§‹çš„æ–‡ä»¶è·¯å¾„ã€‚</p> <p><strong>1.3 URI çš„ç”¨é€”</strong></p> <p>åœ¨ HTML ä¸­ï¼ŒURI è¢«ç”¨æ¥ï¼š</p> <ul><li>é“¾æ¥åˆ°å¦ä¸€ä¸ªæ–‡æ¡£æˆ–èµ„æº</li> <li>é“¾æ¥åˆ°ä¸€ä¸ªå¤–éƒ¨æ ·å¼è¡¨æˆ–è„šæœ¬</li> <li>åœ¨é¡µå†…åŒ…å«å›¾å½¢ã€å¯¹è±¡æˆ– applet</li> <li>å»ºç«‹å›¾åƒæ˜ å°„</li> <li>æäº¤ä¸€ä¸ªè¡¨å•</li> <li>å»ºç«‹ä¸€ä¸ªæ¡†æ¶æ–‡æ¡£</li> <li>å¼•ç”¨ä¸€ä¸ªå¤–éƒ¨å‚è€ƒ</li> <li>æŒ‡å‘ä¸€ä¸ªæè¿°æ–‡æ¡£çš„ metadata</li></ul> <h4 id="äºŒã€url-ç»Ÿä¸€èµ„æºå®šä½å™¨"><a href="#äºŒã€url-ç»Ÿä¸€èµ„æºå®šä½å™¨" class="header-anchor">#</a> äºŒã€URLï¼šç»Ÿä¸€èµ„æºå®šä½å™¨</h4> <p>URL å…¨ç§°æ˜¯ Uniform Resource Locator,æŒ‡çš„æ˜¯ç»Ÿä¸€èµ„æºå®šä½å™¨,å®ƒæ˜¯ä¸€ç§å…·ä½“çš„ URIï¼Œå³ URL å¯ä»¥ç”¨æ¥æ ‡è¯†ä¸€ä¸ªèµ„æºï¼Œè€Œä¸”è¿˜æŒ‡æ˜äº†å¦‚ä½• locate è¿™ä¸ªèµ„æºã€‚</p> <p>é€šä¿—åœ°è¯´ï¼ŒURL æ˜¯ Internet ä¸Šç”¨æ¥æè¿°èµ„æºçš„å­—ç¬¦ä¸²ï¼Œä¸»è¦ç”¨åœ¨å„ç§ www å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç¨‹åºï¼Œç‰¹åˆ«æ˜¯è‘—åçš„ Mosaicã€‚é‡‡ç”¨ URL å¯ä»¥ç”¨ä¸€ç§ç»Ÿä¸€çš„æ ¼å¼æ¥æè¿°å„ç§ä¿¡æ¯èµ„æºï¼ŒåŒ…æ‹¬æ–‡ä»¶ã€æœåŠ¡å™¨çš„åœ°å€å’Œç›®å½•ç­‰ã€‚</p> <p>URL çš„ç¬¬ä¸€ä¸ªéƒ¨åˆ† http://è¡¨ç¤ºè¦è®¿é—®çš„æ–‡ä»¶çš„ç±»å‹ã€‚åœ¨ç½‘ä¸Šï¼Œè¿™å‡ ä¹æ€»æ˜¯ä½¿ç”¨ httpï¼ˆè¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼ŒHyperText Transfer Protocol-ç”¨æ¥è½¬æ¢ç½‘é¡µçš„åè®®ï¼‰ï¼›æœ‰æ—¶ä¹Ÿä½¿ç”¨ ftpï¼ˆæ–‡ä»¶ä¼ è¾“åè®®ï¼ŒFile Transfer Protocol-ç”¨æ¥ä¼ è¾“è½¯ä»¶å’Œå¤§æ–‡ä»¶ï¼‰ï¼›telnetï¼ˆè¿œç¨‹ç™»å½•ï¼‰ï¼Œä¸»è¦ç”¨äºè¿œç¨‹äº¤è°ˆä»¥åŠæ–‡ä»¶è°ƒç”¨ç­‰ï¼Œæ„æ€æ˜¯æµè§ˆå™¨æ­£åœ¨é˜…è¯»æœ¬åœ°ç›˜å¤–çš„ä¸€ä¸ªæ–‡ä»¶è€Œä¸æ˜¯ä¸€ä¸ªè¿œç¨‹è®¡ç®—æœºã€‚</p> <p><strong>2.1 URL ç»„æˆ</strong></p> <ol><li>Internet èµ„æºç±»å‹ï¼ˆschemaï¼‰ï¼šæŒ‡å‡º www å®¢æˆ·ç¨‹åºç”¨æ¥æ“ä½œçš„å·¥å…·ã€‚å¦‚ http://è¡¨ç¤º www æœåŠ¡å™¨ï¼Œftp://è¡¨ç¤º ftp æœåŠ¡å™¨ï¼Œgopher://è¡¨ç¤º Gopher æœåŠ¡å™¨ï¼Œè€Œ new:è¡¨ç¤º Newgroup æ–°é—»ç»„ã€‚å¿…éœ€çš„ã€‚</li> <li>æœåŠ¡å™¨åœ°å€ï¼ˆhostï¼‰ï¼šæŒ‡å‡º www ç½‘é¡µæ‰€åœ¨çš„æœåŠ¡å™¨åŸŸåã€‚å¿…éœ€çš„ã€‚</li> <li>ç«¯å£ï¼ˆportï¼‰ï¼šæœ‰æ—¶ï¼ˆå¹¶éæ€»æ˜¯è¿™æ ·ï¼‰ï¼Œå¯¹æŸäº›èµ„æºçš„è®¿é—®æ¥è¯´ï¼Œéœ€ç»™å‡ºç›¸åº”çš„æœåŠ¡å™¨æä¾›ç«¯å£ã€‚å¯é€‰çš„ã€‚</li> <li>è·¯å¾„ï¼ˆpathï¼‰ï¼šæŒ‡æ˜æœåŠ¡å™¨ä¸ŠæŸèµ„æºçš„ä½ç½®ã€‚ä¸ç«¯å£ä¸€æ ·ï¼Œè·¯å¾„å¹¶éæ€»æ˜¯éœ€è¦çš„ã€‚å¯é€‰çš„ã€‚</li></ol> <p>URL åœ°å€æ ¼å¼æ’åˆ—ä¸ºï¼šschema://host:port/path</p> <blockquote><p>å¿…é¡»æ³¨æ„ï¼šwww ä¸Šçš„æœåŠ¡å™¨éƒ½æ˜¯åŒºåˆ†å¤§å°å†™çš„ï¼Œæ‰€ä»¥åƒä¸‡è¦æ³¨æ„æ­£ç¡®çš„ URL å¤§å°å†™è¡¨è¾¾å½¢å¼ã€‚</p></blockquote> <h4 id="ä¸‰ã€urn-ç»Ÿä¸€èµ„æºåç§°"><a href="#ä¸‰ã€urn-ç»Ÿä¸€èµ„æºåç§°" class="header-anchor">#</a> ä¸‰ã€URNï¼šç»Ÿä¸€èµ„æºåç§°</h4> <p>URN,å…¨ç§° Uniform Resource Name,æŒ‡çš„æ˜¯ç»Ÿä¸€èµ„æºå‘½å,æ˜¯é€šè¿‡åå­—æ¥æ ‡è¯†èµ„æºã€‚æ¯”å¦‚ mailto:java-net@java.sun.com</p> <p>URN æ˜¯ URL çš„ä¸€ç§æ›´æ–°å½¢å¼ï¼Œç»Ÿä¸€èµ„æºåç§°(URN, Uniform Resource Name)ä¸ä¾èµ–äºä½ç½®ï¼Œå¹¶ä¸”æœ‰å¯èƒ½å‡å°‘å¤±æ•ˆè¿æ¥çš„ä¸ªæ•°ã€‚</p> <h4 id="å››ã€æ€»ç»“"><a href="#å››ã€æ€»ç»“" class="header-anchor">#</a> å››ã€æ€»ç»“</h4> <p>URI: Uniform Resource Identifier æŒ‡çš„æ˜¯ç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦
URL: Uniform Resource Location æŒ‡çš„æ˜¯ç»Ÿä¸€èµ„æºå®šä½ç¬¦
URN: Universal Resource Name æŒ‡çš„æ˜¯ç»Ÿä¸€èµ„æºåç§°</p> <p>URI æŒ‡çš„æ˜¯ç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦ï¼Œç”¨å”¯ä¸€çš„æ ‡è¯†æ¥ç¡®å®šä¸€ä¸ªèµ„æºï¼Œå®ƒæ˜¯ä¸€ç§æŠ½è±¡çš„å®šä¹‰ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸ç®¡ä½¿ç”¨ä»€ä¹ˆæ–¹æ³•æ¥å®šä¹‰ï¼Œåªè¦èƒ½å”¯ä¸€çš„æ ‡è¯†ä¸€ä¸ªèµ„æºï¼Œå°±å¯ä»¥ç§°ä¸º URIã€‚å®ƒæ˜¯ä»¥æŸç§ç»Ÿä¸€çš„(æ ‡å‡†åŒ–çš„)æ–¹å¼æ ‡è¯†èµ„æºçš„ç®€å•å­—ç¬¦ä¸²ã€‚</p> <p>URL å’Œ URN æ˜¯ URI çš„å­é›†ï¼ŒURL å¯ä»¥ç†è§£ä¸ºä½¿ç”¨åœ°å€æ¥æ ‡è¯†èµ„æºï¼ŒURN å¯ä»¥ç†è§£ä¸ºä½¿ç”¨åç§°æ¥æ ‡è¯†èµ„æºã€‚</p> <p>Web ä¸Šåœ°å€çš„åŸºæœ¬å½¢å¼æ˜¯ URIï¼Œå®ƒä»£è¡¨ç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦,æœ‰ä¸¤ç§å½¢å¼</p> <ul><li>URL:ç›®å‰ URI çš„æœ€æ™®éçš„å½¢å¼å°±æ˜¯æ— å¤„ä¸åœ¨çš„ URL æˆ–ç»Ÿä¸€èµ„æºå®šä½å™¨</li> <li>URN:URL çš„ä¸€ç§æ›´æ–°å½¢å¼ï¼Œç»Ÿä¸€èµ„æºåç§°ä¸ä¾èµ–äºä½ç½®ï¼Œå¹¶ä¸”æœ‰å¯èƒ½å‡å°‘å¤±æ•ˆé“¾æ¥çš„ä¸ªæ•°ã€‚ä½†æ˜¯å…¶æµè¡Œè¿˜éœ€è¦æ—¶é—´ï¼Œå› ä¸ºå®ƒéœ€è¦æ›´ç²¾å¯†è½¯ä»¶çš„æ”¯æŒã€‚</li></ul> <h2 id="vue"><a href="#vue" class="header-anchor">#</a> Vue</h2> <h3 id="vue3-å’Œ-vue2-çš„åŒºåˆ«æœ‰å“ªäº›-è¯´å‡ ä¸ªä¸»è¦çš„"><a href="#vue3-å’Œ-vue2-çš„åŒºåˆ«æœ‰å“ªäº›-è¯´å‡ ä¸ªä¸»è¦çš„" class="header-anchor">#</a> Vue3 å’Œ Vue2 çš„åŒºåˆ«æœ‰å“ªäº›ï¼Ÿè¯´å‡ ä¸ªä¸»è¦çš„</h3> <p>Vue 3 æä¾›äº†æ›´ç°ä»£åŒ–ã€æ›´é«˜æ€§èƒ½çš„æ¶æ„ï¼Œé€šè¿‡ Composition API å’Œ Proxy å“åº”å¼ç³»ç»Ÿç­‰æ”¹è¿›æå‡äº†å¼€å‘ä½“éªŒ ã€‚ç›¸æ¯”äº Vue 2ï¼Œå®ƒçš„ä¼˜åŠ¿å¦‚ä¸‹:</p> <ol><li>æ€§èƒ½ä¼˜åŒ–</li></ol> <ul><li>è™šæ‹Ÿ dom é‡æ„ï¼šVue3 çš„è™šæ‹Ÿ DOM é‡‡ç”¨äº†æ›´é«˜æ•ˆçš„ Diff ç®—æ³•ï¼Œå‡å°‘äº†æ¸²æŸ“å’Œæ›´æ–°çš„å¼€é”€ã€‚</li> <li>Tree-shaking æ”¯æŒï¼šVue3 çš„ä»£ç ç»“æ„æ¨¡å—åŒ–ï¼Œæ”¯æŒæŒ‰éœ€å¼•å…¥ï¼Œå‡å°äº†æ‰“åŒ…ä½“ç§¯ã€‚</li></ul> <ol start="2"><li>Composition API</li></ol> <ul><li>Vue3 å¼•å…¥äº† Composition APIï¼Œä½¿ä»£ç æ›´æ¨¡å—åŒ–ã€å¤ç”¨æ€§æ›´å¼ºã€‚</li> <li>ä½¿ç”¨ setup() æ–¹æ³•ä»£æ›¿äº†éƒ¨åˆ†é€‰é¡¹å¼ APIï¼Œé€šè¿‡å‡½æ•°çš„æ–¹å¼ç»„ç»‡é€»è¾‘ï¼Œä»£ç æ›´åŠ æ¸…æ™°ç®€æ´ã€‚</li></ul> <ol start="3"><li>å“åº”å¼ç³»ç»Ÿæ”¹è¿›</li></ol> <ul><li>Vue3 ä½¿ç”¨ Proxy å®ç°å“åº”å¼ï¼Œè§£å†³äº† Vue2 ä½¿ç”¨ Object.defineProperty å®ç°å“åº”å¼çš„ä¸€äº›å±€é™æ€§ï¼Œå¦‚æ— æ³•ç›‘å¬æ–°å¢å±æ€§å’Œæ•°ç»„ç´¢å¼•å˜åŒ–ã€‚</li></ul> <ol start="4"><li>æ–°ç‰¹æ€§å’Œæ”¹è¿›</li></ol> <ul><li>Teleportï¼šå¯ä»¥å°†ç»„ä»¶çš„ DOM æ¸²æŸ“åˆ°æŒ‡å®šçš„ DOM èŠ‚ç‚¹ä¹‹å¤–ï¼Œä¾‹å¦‚æ¨¡æ€æ¡†ã€é€šçŸ¥ç­‰ã€‚</li> <li>Fragment æ”¯æŒï¼šVue3 æ”¯æŒç»„ä»¶è¿”å›å¤šä¸ªæ ¹èŠ‚ç‚¹ï¼Œä¸å†éœ€è¦å•ä¸€æ ¹èŠ‚ç‚¹ã€‚</li> <li>Vue3 åŸç”Ÿæ”¯æŒ TypeScriptï¼Œæä¾›æ›´å®Œå–„çš„ç±»å‹æ¨å¯¼å’Œå¼€å‘ä½“éªŒã€‚</li> <li>Vue3 æ”¯æŒä¸ºä¸€ä¸ªç»„ä»¶ç»‘å®šå¤šä¸ª v-modelï¼Œå¹¶ä¸”å¯ä»¥è‡ªå®šä¹‰ prop å’Œ event åç§°ã€‚</li></ul> <h3 id="vue-ç»„ä»¶çš„é€šè®¯æ–¹å¼æœ‰å“ªäº›"><a href="#vue-ç»„ä»¶çš„é€šè®¯æ–¹å¼æœ‰å“ªäº›" class="header-anchor">#</a> Vue ç»„ä»¶çš„é€šè®¯æ–¹å¼æœ‰å“ªäº›ï¼Ÿ</h3> <p>ç»„ä»¶ä¹‹é—´çš„é€šè®¯é€šå¸¸åˆ†ä¸ºçˆ¶å­ç»„ä»¶é€šè®¯å’Œè·¨ç»„ä»¶é€šè®¯ã€‚è¦æ³¨æ„ï¼Œvue3 ç»„ä»¶çš„é€šè®¯æ–¹å¼å’Œ vue2 æœ‰ä¸€å®šçš„åŒºåˆ«ã€‚</p> <ol><li>çˆ¶å­ç»„ä»¶é€šä¿¡</li></ol> <ul><li>Propsï¼šçˆ¶ç»„ä»¶é€šè¿‡ props å‘å­ç»„ä»¶ä¼ é€’æ•°æ®ã€‚</li> <li>$emitï¼šå­ç»„ä»¶é€šè¿‡ $emit å‘çˆ¶ç»„ä»¶å‘é€äº‹ä»¶ï¼Œå¹¶å¯ä»¥ä¼ é€’æ•°æ®ã€‚</li> <li>è·å–ç»„ä»¶å®ä¾‹å¯¹è±¡ï¼Œè°ƒç”¨å±æ€§æˆ–æ–¹æ³•ï¼š ğŸ’¡ Vue 2ï¼šé€šè¿‡ this.$parent è·å–çˆ¶ç»„ä»¶å®ä¾‹ï¼Œæˆ–é€šè¿‡ this.$children è·å–å­ç»„ä»¶å®ä¾‹ã€‚ ğŸ’¡ Vue 3ï¼šé€šè¿‡ ref å¼•ç”¨å­ç»„ä»¶ï¼Œç›´æ¥è®¿é—®å…¶å±æ€§å’Œæ–¹æ³•ã€‚</li> <li>Vue 3 ç»„ä»¶æ”¯æŒå¤šä¸ª v-model ç»‘å®šå’Œè‡ªå®šä¹‰å±æ€§åï¼Œçˆ¶å­ä¹‹é—´çš„åŒå‘ç»‘å®šæ›´åŠ çµæ´»ã€‚</li></ul> <ol start="2"><li>è·¨ç»„ä»¶é€šä¿¡</li></ol> <ul><li>Provide / Injectï¼šçˆ¶ç»„ä»¶é€šè¿‡ provide å‘åä»£ç»„ä»¶ä¼ é€’æ•°æ®ï¼Œåä»£ç»„ä»¶ä½¿ç”¨ inject æ¥æ”¶æ•°æ®ï¼Œé€‚ç”¨äºæ·±å±‚åµŒå¥—ç»„ä»¶é—´çš„é€šä¿¡ã€‚</li> <li>vuexï¼šé€šè¿‡å…¨å±€çŠ¶æ€ç®¡ç†åº“ Vuex å…±äº«çŠ¶æ€ï¼Œå®ç°è·¨ç»„ä»¶é€šä¿¡ï¼ˆvue2ï¼‰ã€‚</li> <li>piniaï¼šPinia æ˜¯ Vue 3 æ¨èçš„å…¨å±€çŠ¶æ€ç®¡ç†åº“ï¼Œæ›¿ä»£äº† Vuexã€‚</li> <li>äº‹ä»¶æ€»çº¿ï¼ˆVue 2ï¼‰ï¼šVue 2 ä¸­å¯ä»¥é€šè¿‡ Event Bus å®ç°ç»„ä»¶é—´çš„é€šä¿¡ï¼Œä½†åœ¨ Vue 3 ä¸­ä¸æ¨èä½¿ç”¨ã€‚</li> <li>å…¨å±€äº‹ä»¶å¤„ç†å™¨ï¼šé€šè¿‡åœ¨æ ¹ç»„ä»¶$root æˆ–å…¨å±€å¯¹è±¡ä¸Šç›‘å¬äº‹ä»¶ï¼Œè¿›è¡Œè·¨ç»„ä»¶é€šä¿¡ï¼ˆVue 3 æ¨èä½¿ç”¨å¤–éƒ¨åº“ï¼Œå¦‚ mittï¼‰ã€‚</li></ul> <h3 id="vue-ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ"><a href="#vue-ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ" class="header-anchor">#</a> Vue ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ</h3> <p>Vue ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸæ˜¯æŒ‡ç»„ä»¶ä»åˆ›å»ºåˆ°é”€æ¯çš„æ•´ä¸ªè¿‡ç¨‹ï¼ŒåŒ…æ‹¬ç»„ä»¶çš„åˆå§‹åŒ–ã€æ¸²æŸ“ã€æ›´æ–°å’Œé”€æ¯ç­‰é˜¶æ®µã€‚åœ¨ Vue2 å’Œ Vue3 ä¸­ï¼Œç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸæœ‰ä¸€äº›åŒºåˆ«ã€‚</p> <ol><li>vue2</li></ol> <ul><li>åˆ›å»ºé˜¶æ®µï¼š1ï¸âƒ£ beforeCreateï¼Œç»„ä»¶å®ä¾‹åˆšè¢«åˆ›å»ºï¼Œæ•°æ®è§‚æµ‹å’Œäº‹ä»¶/ç›‘å¬å™¨è®¾ç½®ä¹‹å‰ï¼›2ï¸âƒ£ createdï¼Œç»„ä»¶å®ä¾‹å·²åˆ›å»ºï¼Œæ•°æ®è§‚æµ‹ã€äº‹ä»¶/ç›‘å¬å™¨è®¾ç½®å®Œæˆï¼Œé€šå¸¸ç”¨äºæ•°æ®åˆå§‹åŒ–</li> <li>æŒ‚è½½é˜¶æ®µï¼š3ï¸âƒ£ beforeMountï¼Œ4ï¸âƒ£ mounted</li> <li>æ›´æ–°é˜¶æ®µï¼š5ï¸âƒ£ beforeUpdateï¼Œæ•°æ®å‘ç”Ÿå˜åŒ–ï¼ŒDOM å°šæœªæ›´æ–°ã€‚6ï¸âƒ£ updatedï¼Œæ•°æ®å˜åŒ–ï¼ŒDOM æ›´æ–°åè°ƒç”¨ã€‚</li> <li>é”€æ¯é˜¶æ®µï¼š7ï¸âƒ£ beforeDestroyï¼Œç»„ä»¶å®ä¾‹é”€æ¯ä¹‹å‰ï¼Œå¯ä»¥åœ¨æ­¤é˜¶æ®µè¿›è¡Œæ¸…ç†å·¥ä½œï¼Œä¾‹å¦‚ç§»é™¤äº‹ä»¶ç›‘å¬å™¨ã€å®šæ—¶å™¨ç­‰ã€‚8ï¸âƒ£ destroyed</li></ul> <ol start="2"><li>vue3</li></ol> <ul><li>åˆ›å»ºé˜¶æ®µï¼š1ï¸âƒ£ onBeforeMountï¼šç­‰æ•ˆäº Vue 2 ä¸­çš„ beforeMount ï¼Œåœ¨ç»„ä»¶æŒ‚è½½ä¹‹å‰è°ƒç”¨ã€‚ 2ï¸âƒ£ onMountedï¼šç­‰æ•ˆäº Vue 2 ä¸­çš„ mounted ï¼Œåœ¨ç»„ä»¶æŒ‚è½½ä¹‹åè°ƒç”¨ã€‚</li> <li>æ›´æ–°é˜¶æ®µï¼š3ï¸âƒ£ onBeforeUpdateï¼šç­‰æ•ˆäº Vue 2 ä¸­çš„ beforeUpdate ï¼Œåœ¨æ•°æ®æ›´æ–°ä¹‹å‰è°ƒç”¨ã€‚ 4ï¸âƒ£ onUpdatedï¼šç­‰æ•ˆäº Vue 2 ä¸­çš„ updated ï¼Œåœ¨æ•°æ®æ›´æ–°å¹¶æ¸²æŸ“ä¹‹åè°ƒç”¨ã€‚</li> <li>é”€æ¯é˜¶æ®µï¼š5ï¸âƒ£ onBeforeUnmountï¼šç­‰æ•ˆäº Vue 2 ä¸­çš„ beforeDestroy ï¼Œåœ¨ç»„ä»¶å¸è½½å‰è°ƒç”¨ã€‚ 6ï¸âƒ£ onUnmountedï¼šç­‰æ•ˆäº Vue 2 ä¸­çš„ destroyed ï¼Œåœ¨ç»„ä»¶å¸è½½åè°ƒç”¨ã€‚</li></ul> <blockquote><p>setup ä½œä¸º Vue3 çš„ Composition API çš„ä¸€éƒ¨åˆ†, å…¶å†…éƒ¨å‡½æ•°çš„æ‰§è¡Œæ—¶æœºæ—©äº Mounted é’©å­ã€‚setup() æ›¿ä»£äº† beforeCreate å’Œ createdã€‚</p></blockquote> <h3 id="vue-ç»„ä»¶åœ¨å“ªä¸ªç”Ÿå‘½å‘¨æœŸå‘é€-ajax-è¯·æ±‚"><a href="#vue-ç»„ä»¶åœ¨å“ªä¸ªç”Ÿå‘½å‘¨æœŸå‘é€-ajax-è¯·æ±‚" class="header-anchor">#</a> Vue ç»„ä»¶åœ¨å“ªä¸ªç”Ÿå‘½å‘¨æœŸå‘é€ ajax è¯·æ±‚ï¼Ÿ</h3> <p>åœ¨ Vue ä¸­ï¼Œæ¥å£è¯·æ±‚ä¸€èˆ¬æ”¾åœ¨ created æˆ– mounted ç”Ÿå‘½å‘¨æœŸé’©å­ä¸­ã€‚</p> <p><strong>created é’©å­</strong></p> <ul><li><p>ä¼˜ç‚¹ï¼š âœ… <strong>æ›´å¿«è·å–æ•°æ®</strong>ï¼šèƒ½å°½æ—©è·å–æœåŠ¡ç«¯æ•°æ®ï¼Œå‡å°‘é¡µé¢åŠ è½½æ—¶é—´ã€‚ âœ… <strong>SSR æ”¯æŒ</strong>ï¼šæ”¯æŒæœåŠ¡å™¨ç«¯æ¸²æŸ“ï¼ˆSSRï¼‰ï¼Œåœ¨ SSR ç¯å¢ƒä¸­ä¸ä¼šå—åˆ°é™åˆ¶ã€‚</p></li> <li><p>ç¼ºç‚¹ âŒ UI æœªæ¸²æŸ“æ—¶å‘èµ·è¯·æ±‚ï¼šå¦‚æœéœ€è¦æ“ä½œ DOM æˆ–æ¸²æŸ“æ•°æ®ï¼Œå¯èƒ½å¯¼è‡´é—ªå±é—®é¢˜</p></li></ul> <p><strong>mounted é’©å­</strong></p> <ul><li><p>ä¼˜ç‚¹ï¼š âœ… <strong>DOM å¯ç”¨</strong>ï¼šé€‚åˆéœ€è¦æ“ä½œ DOM æˆ–æ¸²æŸ“æ•°æ®åå†å‘èµ·è¯·æ±‚çš„æƒ…å†µï¼Œé¿å…é—ªå±ã€‚</p></li> <li><p>ç¼ºç‚¹ âŒ <strong>è¯·æ±‚å»¶è¿Ÿ</strong>ï¼šæ•°æ®è¯·æ±‚ä¼šç¨å¾®å»¶è¿Ÿï¼Œå¢åŠ é¡µé¢åŠ è½½æ—¶é—´ã€‚ âŒ <strong>SSR ä¸æ”¯æŒ</strong>ï¼šmounted åªåœ¨å®¢æˆ·ç«¯æ‰§è¡Œï¼Œä¸é€‚ç”¨äº SSR ç¯å¢ƒã€‚</p></li></ul> <h3 id="vue-çˆ¶å­ç»„ä»¶ç”Ÿå‘½å‘¨æœŸè°ƒç”¨é¡ºåº"><a href="#vue-çˆ¶å­ç»„ä»¶ç”Ÿå‘½å‘¨æœŸè°ƒç”¨é¡ºåº" class="header-anchor">#</a> Vue çˆ¶å­ç»„ä»¶ç”Ÿå‘½å‘¨æœŸè°ƒç”¨é¡ºåº</h3> <ul><li>åˆ›å»ºé˜¶æ®µï¼šçˆ¶ç»„ä»¶çš„ beforeCreate å’Œ created å…ˆæ‰§è¡Œ ï¼Œå­ç»„ä»¶çš„ beforeCreate å’Œ created åæ‰§è¡Œã€‚</li> <li>æŒ‚è½½é˜¶æ®µï¼š çˆ¶ beforeMount â†’ å­ beforeCreateâ†’ å­ createdâ†’ å­ beforeMountâ†’ å­ mounted â†’ çˆ¶ mounted</li> <li>æ›´æ–°é˜¶æ®µï¼šçˆ¶ beforeUpdate â†’ å­ beforeUpdate â†’ å­ updated â†’ çˆ¶ updated</li> <li>é”€æ¯é˜¶æ®µï¼šçˆ¶ beforeDestroy â†’ å­ beforeDestroy â†’ å­ destroyed â†’ çˆ¶ destroyed</li></ul> <h3 id="v-show-å’Œ-v-if-çš„åŒºåˆ«"><a href="#v-show-å’Œ-v-if-çš„åŒºåˆ«" class="header-anchor">#</a> v-show å’Œ v-if çš„åŒºåˆ«</h3> <ul><li>æ¸²æŸ“æ–¹å¼ï¼š ğŸ’¡v-ifï¼šæ¡ä»¶ä¸º true æ—¶æ‰ä¼šæ¸²æŸ“å…ƒç´ ï¼Œæ¡ä»¶ä¸º false æ—¶é”€æ¯å…ƒç´ ã€‚ ğŸ’¡v-showï¼šå§‹ç»ˆæ¸²æŸ“å…ƒç´ ï¼Œåªæ˜¯é€šè¿‡ CSS æ§åˆ¶ display å±æ€§æ¥æ˜¾ç¤ºæˆ–éšè—ã€‚</li> <li>é€‚ç”¨åœºæ™¯ï¼š ğŸ’¡v-ifï¼šé€‚ç”¨äºæ¡ä»¶å˜åŒ–ä¸é¢‘ç¹çš„åœºæ™¯ã€‚ ğŸ’¡v-showï¼šé€‚ç”¨äºæ¡ä»¶å˜åŒ–é¢‘ç¹çš„åœºæ™¯ã€‚</li></ul> <h3 id="ä¸ºä½•-v-if-å’Œ-v-for-ä¸èƒ½ä¸€èµ·ä½¿ç”¨"><a href="#ä¸ºä½•-v-if-å’Œ-v-for-ä¸èƒ½ä¸€èµ·ä½¿ç”¨" class="header-anchor">#</a> ä¸ºä½• v-if å’Œ v-for ä¸èƒ½ä¸€èµ·ä½¿ç”¨ï¼Ÿ</h3> <p>v-if å’Œ v-for ä¸èƒ½ç›´æ¥ä¸€èµ·ä½¿ç”¨çš„åŸå› ï¼Œä¸»è¦æ˜¯å› ä¸ºå®ƒä»¬åœ¨ <strong>è§£æä¼˜å…ˆçº§</strong> å’Œ <strong>é€»è¾‘å¤„ç†</strong> ä¸Šå­˜åœ¨å†²çªã€‚</p> <blockquote><p>ç”±äº v-for çš„è§£æä¼˜å…ˆçº§é«˜äº v-ifï¼ŒåŒæ—¶ä½¿ç”¨ v-if å’Œ v-forï¼ŒVue é¦–å…ˆä¼šå¾ªç¯åˆ›å»ºæ‰€æœ‰ dom å…ƒç´ ï¼Œç„¶åæ ¹æ®æ¡ä»¶æ¥åˆ¤æ–­æ˜¯å¦æ¸²æŸ“æ¯ä¸ªå…ƒç´ ï¼Œè¿™ç§æ–¹å¼å¯èƒ½å¯¼è‡´ Vue è¿›è¡Œå¤§é‡çš„ DOM æ“ä½œï¼Œæ€§èƒ½è¾ƒå·®ã€‚å…¶æ¬¡ï¼Œv-for ä¼šä¸ºæ¯ä¸ªå¾ªç¯é¡¹åˆ›å»ºä¸€ä¸ªæ–°çš„ä½œç”¨åŸŸï¼Œè€Œ v-if çš„æ¡ä»¶å¦‚æœä¾èµ–äºè¿™ä¸ªä½œç”¨åŸŸå†…çš„æ•°æ®ï¼Œå¯èƒ½å¯¼è‡´åˆ¤æ–­é€»è¾‘å¼‚å¸¸ã€‚</p> <p>ä¸ºé¿å…ä¸Šè¿°é—®é¢˜ï¼Œvue å®˜æ–¹æ¨èæˆ‘ä»¬å°† v-if æ”¾åˆ° v-for å¤–å±‚ï¼Œæˆ–è€…å°† v-if æ”¾ç½®åˆ° v-for å†…éƒ¨çš„å•ä¸ªèŠ‚ç‚¹ä¸Šã€‚</p></blockquote> <h3 id="computed-å’Œ-watch-æœ‰ä»€ä¹ˆåŒºåˆ«"><a href="#computed-å’Œ-watch-æœ‰ä»€ä¹ˆåŒºåˆ«" class="header-anchor">#</a> computed å’Œ watch æœ‰ä»€ä¹ˆåŒºåˆ«</h3> <table><thead><tr><th>ç‰¹æ€§</th> <th>computed</th> <th>watch</th></tr></thead> <tbody><tr><td>ç”¨é€”</td> <td>ç”¨äºè®¡ç®—åŸºäºå“åº”å¼æ•°æ®çš„å€¼ï¼Œå¹¶ç¼“å­˜ç»“æœ</td> <td>ç”¨äºç›‘å¬æ•°æ®å˜åŒ–å¹¶æ‰§è¡Œå‰¯ä½œç”¨æ“ä½œ</td></tr> <tr><td>è¿”å›å€¼</td> <td>è¿”å›è®¡ç®—ç»“æœ</td> <td>ä¸è¿”å›å€¼ï¼Œæ‰§è¡Œå‰¯ä½œç”¨</td></tr> <tr><td>ç¼“å­˜æœºåˆ¶</td> <td>åªæœ‰åœ¨è®¿é—®æ—¶æ‰ä¼šè®¡ç®—ï¼Œä¼šç¼“å­˜è®¡ç®—ç»“æœï¼Œä»…å½“ä¾èµ–å˜åŒ–æ—¶é‡æ–°è®¡ç®—</td> <td>æ•°æ®å˜åŒ–æ—¶ç«‹å³æ‰§è¡Œå›è°ƒï¼Œä¸ç¼“å­˜ï¼Œæ¯æ¬¡æ•°æ®å˜åŒ–éƒ½ä¼šè§¦å‘å›è°ƒ</td></tr> <tr><td>é€‚ç”¨åœºæ™¯</td> <td>è®¡ç®—æ´¾ç”Ÿæ•°æ®ï¼Œé¿å…ä¸å¿…è¦çš„é‡å¤è®¡ç®—</td> <td>æ‰§è¡Œå¼‚æ­¥æ“ä½œã€å¤„ç†å‰¯ä½œç”¨æ“ä½œï¼Œå¦‚ API è¯·æ±‚</td></tr> <tr><td>æ€§èƒ½</td> <td>æ€§èƒ½è¾ƒå¥½ï¼Œé¿å…é‡å¤è®¡ç®—</td> <td>æ¯æ¬¡æ•°æ®å˜åŒ–æ—¶éƒ½ä¼šæ‰§è¡Œå›è°ƒå‡½æ•°</td></tr></tbody></table> <h3 id="watch-å’Œ-watcheffect-çš„åŒºåˆ«"><a href="#watch-å’Œ-watcheffect-çš„åŒºåˆ«" class="header-anchor">#</a> watch å’Œ watchEffect çš„åŒºåˆ«</h3> <p>watch å’Œ watchEffect éƒ½æ˜¯ Vue 3 ä¸­ç”¨äºå“åº”å¼æ•°æ®å˜åŒ–æ—¶æ‰§è¡Œå‰¯ä½œç”¨çš„ APIï¼Œå®ƒä»¬çš„ä½¿ç”¨åœºæ™¯å’Œå·¥ä½œæœºåˆ¶å­˜åœ¨åŒºåˆ«ï¼š</p> <ul><li>ä¾èµ–è¿½è¸ªæ–¹å¼ï¼Œwatch ï¼šéœ€è¦æ˜¾å¼å£°æ˜ä¾èµ–ï¼Œç›‘å¬æŒ‡å®šçš„æ•°æ®æºï¼›å¯ä»¥ç›‘å¬å¤šä¸ªæ•°æ®æºæˆ–è¿›è¡Œæ·±åº¦ç›‘å¬ã€‚watchEffect ï¼šä¼šè‡ªåŠ¨è¿½è¸ª <strong>ä½œç”¨åŸŸå†…æ‰€æœ‰çš„å“åº”å¼ä¾èµ–</strong>ï¼Œä¸éœ€è¦æ˜¾å¼å£°æ˜ä¾èµ–ã€‚</li> <li>æ‰§è¡Œæ—¶æœºï¼Œwatch ï¼šåœ¨ç›‘å¬çš„å“åº”å¼æ•°æ®å˜åŒ–åç«‹å³æ‰§è¡Œã€‚watchEffect ï¼šåœ¨ <strong>ç»„ä»¶æŒ‚è½½æ—¶</strong> æ‰§è¡Œä¸€æ¬¡å‰¯ä½œç”¨ï¼Œå¹¶åœ¨ <strong>ä¾èµ–å‘ç”Ÿå˜åŒ–æ—¶</strong> å†æ¬¡æ‰§è¡Œã€‚</li> <li>é€‚ç”¨åœºæ™¯ï¼Œwatch ï¼šé€‚ç”¨äº <strong>ç›‘å¬ç‰¹å®šæ•°æ®</strong> å˜åŒ–å¹¶æ‰§è¡Œå‰¯ä½œç”¨çš„åœºæ™¯ï¼Œå¦‚ API è¯·æ±‚ã€ä¿å­˜æ“ä½œç­‰ã€‚é€‚åˆéœ€è¦ <strong>è®¿é—®æ–°å€¼å’Œæ—§å€¼</strong> è¿›è¡Œæ¯”è¾ƒçš„åœºæ™¯ã€‚watchEffect ï¼šä¸éœ€è¦è®¿é—®æ—§å€¼ï¼Œé€‚ç”¨äº <strong>è‡ªåŠ¨è¿½è¸ªå¤šä¸ªå“åº”å¼ä¾èµ–</strong> çš„å‰¯ä½œç”¨ï¼Œå¦‚æ¸²æŸ“ã€è‡ªåŠ¨ä¿å­˜ç­‰ã€‚</li></ul> <h3 id="vue3-ref-å’Œ-reactive-å¦‚ä½•é€‰æ‹©"><a href="#vue3-ref-å’Œ-reactive-å¦‚ä½•é€‰æ‹©" class="header-anchor">#</a> Vue3 ref å’Œ reactive å¦‚ä½•é€‰æ‹©ï¼Ÿ</h3> <p>ref å’Œ reactive éƒ½æ˜¯ Vue 3 ä¸­ç”¨æ¥åˆ›å»ºå“åº”å¼æ•°æ®çš„ APIï¼Œä»–ä»¬çš„åŒºåˆ«åŠä½¿ç”¨åœºæ™¯å¦‚ä¸‹ã€‚</p> <ul><li><p>reactive çš„å®ç°ï¼šreactive é€šè¿‡ Proxy å¯¹å¯¹è±¡æˆ–æ•°ç»„çš„æ¯ä¸ªå±æ€§è¿›è¡Œæ·±åº¦ä»£ç†ï¼Œå®ç°å“åº”å¼ã€‚è¿™ç§è®¾è®¡ä½¿å¾— reactive èƒ½è‡ªåŠ¨è¿½è¸ªæ‰€æœ‰åµŒå¥—å±æ€§çš„å˜åŒ–ï¼Œä½†ç”±äº Proxy æ— æ³•ç›´æ¥å¤„ç†åŸºæœ¬æ•°æ®ç±»å‹ï¼ˆå¦‚ number ã€ string ã€ boolean ï¼‰ï¼Œå› æ­¤ï¼Œ reactive ä¸é€‚ç”¨äºåŸºæœ¬æ•°æ®ç±»å‹ã€‚</p></li> <li><p>ref çš„å®ç°ï¼š ä¸ºäº†å®ç°åŸºæœ¬æ•°æ®ç±»å‹çš„å“åº”å¼ï¼ŒVue è®¾è®¡äº† ref ã€‚ ref ä¼šå°†åŸºæœ¬æ•°æ®ç±»å‹å°è£…ä¸ºä¸€ä¸ªåŒ…å« value å±æ€§çš„å¯¹è±¡ï¼Œé€šè¿‡ getter å’Œ setter å®ç°å“åº”å¼ä¾èµ–è¿½è¸ªå’Œæ›´æ–°ã€‚å½“è®¿é—®æˆ–ä¿®æ”¹ ref.value æ—¶ï¼ŒVue å†…éƒ¨ä¼šè§¦å‘ä¾èµ–æ›´æ–°ã€‚æ­¤å¤–ï¼Œå¯¹äºå¤æ‚æ•°æ®ç±»å‹ï¼ˆå¦‚å¯¹è±¡æˆ–æ•°ç»„ï¼‰ï¼Œ ref çš„å†…éƒ¨å®ç°ä¼šç›´æ¥è°ƒç”¨ reactive ï¼Œå°†å¤æ‚æ•°æ®ç±»å‹å˜ä¸ºå“åº”å¼ã€‚</p></li></ul> <blockquote><p>Vue å®˜æ–¹å»ºè®®ä½¿ç”¨ ref() ä½œä¸ºå£°æ˜å“åº”å¼çŠ¶æ€çš„ä¸»è¦æ–¹æ³•</p></blockquote> <h3 id="ä»€ä¹ˆæ˜¯åŠ¨æ€ç»„ä»¶-å¦‚ä½•ä½¿ç”¨å®ƒ"><a href="#ä»€ä¹ˆæ˜¯åŠ¨æ€ç»„ä»¶-å¦‚ä½•ä½¿ç”¨å®ƒ" class="header-anchor">#</a> ä»€ä¹ˆæ˜¯åŠ¨æ€ç»„ä»¶ï¼Ÿå¦‚ä½•ä½¿ç”¨å®ƒï¼Ÿ</h3> <p>åŠ¨æ€ç»„ä»¶æ˜¯ Vue æä¾›çš„ä¸€ç§æœºåˆ¶ï¼Œå…è®¸æˆ‘ä»¬æ ¹æ®æ¡ä»¶åŠ¨æ€åˆ‡æ¢æ¸²æŸ“çš„ç»„ä»¶ï¼Œè€Œä¸éœ€è¦æ‰‹åŠ¨ä¿®æ”¹æ¨¡æ¿ã€‚ åœ¨ Vue ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ &lt;component&gt; æ ‡ç­¾çš„ :is å±æ€§æŒ‡å®šéœ€è¦æ¸²æŸ“çš„ç»„ä»¶ï¼š</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- åŠ¨æ€æ¸²æŸ“ç»„ä»¶ --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component</span> <span class="token attr-name">:is</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>currentComponent<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>component</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- æ§åˆ¶ç»„ä»¶åˆ‡æ¢ --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>currentComponent = 'ComponentA'<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>æ˜¾ç¤ºç»„ä»¶A<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>currentComponent = 'ComponentB'<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>æ˜¾ç¤ºç»„ä»¶B<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> ComponentA <span class="token keyword">from</span> <span class="token string">&quot;./ComponentA.vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> ComponentB <span class="token keyword">from</span> <span class="token string">&quot;./ComponentB.vue&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// å½“å‰æ˜¾ç¤ºçš„ç»„ä»¶</span>
<span class="token keyword">const</span> currentComponent <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&quot;ComponentA&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><blockquote><p>component æ ‡ç­¾çš„ :is å±æ€§å€¼å¯ä»¥æ˜¯ï¼š</p> <ul><li>è¢«æ³¨å†Œçš„ç»„ä»¶å</li> <li>å¯¼å…¥çš„ç»„ä»¶å¯¹è±¡</li> <li>ä¸€èˆ¬çš„ HTML å…ƒç´ 
å½“ä½¿ç”¨ &lt;component :is=&quot;...&quot;&gt; æ¥åœ¨å¤šä¸ªç»„ä»¶é—´ä½œåˆ‡æ¢æ—¶ï¼Œè¢«åˆ‡æ¢æ‰çš„ç»„ä»¶ä¼šè¢«å¸è½½ã€‚å¦‚æœéœ€è¦ä¿ç•™åŠ¨æ€ç»„ä»¶çŠ¶æ€ï¼Œä½¿ç”¨ &lt;KeepAlive&gt; ç»„ä»¶å³å¯ã€‚</li></ul></blockquote> <h3 id="ä»€ä¹ˆæ˜¯-slot-æœ‰ä»€ä¹ˆåº”ç”¨åœºæ™¯"><a href="#ä»€ä¹ˆæ˜¯-slot-æœ‰ä»€ä¹ˆåº”ç”¨åœºæ™¯" class="header-anchor">#</a> ä»€ä¹ˆæ˜¯ slot ï¼Œæœ‰ä»€ä¹ˆåº”ç”¨åœºæ™¯ï¼Ÿ</h3> <p>slot æ˜¯ Vue ä¸­çš„ä¸€ç§ç”¨äº <strong>ç»„ä»¶å†…å®¹åˆ†å‘</strong> çš„æœºåˆ¶ã€‚å®ƒå…è®¸<strong>çˆ¶ç»„ä»¶å‘å­ç»„ä»¶æ’å…¥å†…å®¹</strong>ï¼Œä»è€Œä½¿ç»„ä»¶æ›´åŠ çµæ´»å’Œå¯å¤ç”¨ã€‚</p> <p>åœ¨ Vue ä¸­ï¼Œæ’æ§½çš„ä½¿ç”¨æ–¹å¼å¯ä»¥åˆ†ä¸ºå››ç§ï¼šé»˜è®¤æ’æ§½ã€å…·åæ’æ§½ã€æ¡ä»¶æ’æ§½å’Œä½œç”¨åŸŸæ’æ§½ã€‚</p> <ul><li>é»˜è®¤æ’æ§½ï¼šé»˜è®¤æ’æ§½æ˜¯æœ€ç®€å•çš„æ’æ§½å½¢å¼ï¼Œå®ƒå…è®¸æˆ‘ä»¬å°†ç»„ä»¶çš„å†…å®¹ä¼ é€’åˆ°ç»„ä»¶å†…éƒ¨çš„ä¸€ä¸ª<strong>å ä½ç¬¦</strong>ä¸­ã€‚</li></ul> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token comment">&lt;!-- å­ç»„ä»¶ï¼šMyComponent.vue --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>æˆ‘æ˜¯å­ç»„ä»¶çš„æ ‡é¢˜<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- çˆ¶ç»„ä»¶ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MyComponent</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>è¿™æ˜¯æ’æ§½å†…å®¹ï¼Œç”±çˆ¶ç»„ä»¶ä¼ å…¥<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MyComponent</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><ul><li>å…·åæ’æ§½ï¼šå½“å­ç»„ä»¶éœ€è¦<strong>å¤šä¸ªæ’æ§½</strong>æ—¶ï¼Œå¯ä»¥ä¸ºæ’æ§½å‘½åï¼Œå¹¶ç”±çˆ¶ç»„ä»¶æŒ‡å®šå†…å®¹æ”¾ç½®åˆ°å“ªä¸ªæ’æ§½ã€‚</li></ul> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token comment">&lt;!-- å­ç»„ä»¶ MyComponent.vue --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>header<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>é»˜è®¤æ ‡é¢˜<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span><span class="token punctuation">&gt;</span></span>é»˜è®¤å†…å®¹<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>footer<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>é»˜è®¤é¡µè„š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- çˆ¶ç»„ä»¶ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MyComponent</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- ä¹Ÿå¯ä»¥ç®€å†™æˆ &lt;template #header&gt; --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name"><span class="token namespace">v-slot:</span>header</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>æˆ‘æ¥ç»„æˆå¤´éƒ¨<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- éšå¼çš„é»˜è®¤æ’æ§½ --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>æˆ‘æ¥ç»„æˆèº«ä½“<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name"><span class="token namespace">v-slot:</span>footer</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>æˆ‘æ¥ç»„æˆå°¾éƒ¨<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MyComponent</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><ul><li>æ¡ä»¶æ’æ§½ï¼šå¯ä»¥æ ¹æ®<strong>æ’æ§½æ˜¯å¦å­˜åœ¨</strong>æ¥æ¸²æŸ“æŸäº›å†…å®¹</li></ul> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token comment">&lt;!-- å­ç»„ä»¶ MyComponent.vue --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>card<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>
      <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>$slots.header<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>card-header<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>header<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>
      <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>$slots.default<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>card-content<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>
      <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>$slots.footer<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>card-footer<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>footer<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><ul><li>ä½œç”¨åŸŸæ’æ§½ï¼šä½œç”¨åŸŸæ’æ§½å¯ä»¥è®©å­ç»„ä»¶åœ¨æ¸²æŸ“æ—¶å°†ä¸€éƒ¨åˆ†æ•°æ®æä¾›ç»™æ’æ§½ï¼Œä»è€Œ<strong>å®ç°çˆ¶ç»„ä»¶çš„æ’æ§½è®¿é—®åˆ°å­ç»„ä»¶çš„çŠ¶æ€</strong>ã€‚</li></ul> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token comment">&lt;!-- å­ç»„ä»¶ MyComponent.vue --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- å®šä¹‰ä½œç”¨åŸŸæ’æ§½ï¼Œå¹¶å°† items æ•°æ®ä¼ é€’ç»™çˆ¶ç»„ä»¶ --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">:items</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>items<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// å®šä¹‰æ•°æ® items</span>
<span class="token keyword">const</span> items <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;åä¸º&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;å°ç±³&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;è‹¹æœ&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- çˆ¶ç»„ä»¶ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MyComponent</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- ä½¿ç”¨ä½œç”¨åŸŸæ’æ§½ï¼Œæ¥æ”¶å­ç»„ä»¶ä¼ é€’çš„ items æ•°æ® --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#default</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ items }<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span>
        <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(item, index) in items<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>index<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        {{ item }}
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MyComponent</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> MyComponent <span class="token keyword">from</span> <span class="token string">&quot;./MyComponent.vue&quot;</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><h3 id="vue-é¡¹ç›®å¯åšå“ªäº›æ€§èƒ½ä¼˜åŒ–"><a href="#vue-é¡¹ç›®å¯åšå“ªäº›æ€§èƒ½ä¼˜åŒ–" class="header-anchor">#</a> Vue é¡¹ç›®å¯åšå“ªäº›æ€§èƒ½ä¼˜åŒ–ï¼Ÿ</h3> <p>åœ¨ Vue é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨ Vue ç‰¹æœ‰çš„åŠŸèƒ½å’Œæœºåˆ¶å®ç°æ€§èƒ½ä¼˜åŒ–ã€‚</p> <ul><li>æ¨¡æ¿å’ŒæŒ‡ä»¤ä¼˜åŒ–</li> <li>ç»„ä»¶ä¼˜åŒ–ï¼šç¼“å­˜ç»„ä»¶å®ä¾‹ã€å¼‚æ­¥ç»„ä»¶åŠ è½½ã€è·¯ç”±æ‡’åŠ è½½ã€æå‡å¤ç”¨æ€§å’Œæ¸²æŸ“æ€§èƒ½</li> <li>å“åº”å¼ä¼˜åŒ–</li></ul> <h3 id="ä»€ä¹ˆæ˜¯-nexttick-å¦‚ä½•åº”ç”¨å®ƒ"><a href="#ä»€ä¹ˆæ˜¯-nexttick-å¦‚ä½•åº”ç”¨å®ƒ" class="header-anchor">#</a> ä»€ä¹ˆæ˜¯ nextTick å¦‚ä½•åº”ç”¨å®ƒ</h3> <p>åœ¨ Vue.js ä¸­ï¼Œ nextTick æ˜¯ä¸€ä¸ªæ ¸å¿ƒå·¥å…·æ–¹æ³•ï¼Œç”¨äºå¤„ç† DOM æ›´æ–°æ—¶æœºé—®é¢˜ã€‚å®ƒçš„æ ¸å¿ƒä½œç”¨æ˜¯ï¼š<strong>åœ¨ä¸‹æ¬¡ DOM æ›´æ–°å¾ªç¯ç»“æŸåæ‰§è¡Œå›è°ƒï¼Œç¡®ä¿æˆ‘ä»¬èƒ½æ“ä½œåˆ°æœ€æ–°çš„ DOM çŠ¶æ€</strong>ã€‚ å®ƒçš„ä½¿ç”¨åœºæ™¯å¦‚ä¸‹ï¼š</p> <ul><li>æ•°æ®å˜åŒ–åæ“ä½œ DOM</li></ul> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  count<span class="token punctuation">.</span>value<span class="token operator">++</span><span class="token punctuation">;</span>
  <span class="token comment">// DOM è¿˜æœªæ›´æ–°</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;counter&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>textContent<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>
  <span class="token keyword">await</span> <span class="token function">nextTick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// DOM æ­¤æ—¶å·²ç»æ›´æ–°</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;counter&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>textContent<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span>
    <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>counter<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>increment<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    {{ count }}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><ul><li>åœ¨ç”Ÿå‘½å‘¨æœŸé’©å­ä¸­æ“ä½œ DOM</li></ul> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref<span class="token punctuation">,</span> onMounted<span class="token punctuation">,</span> nextTick <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// åˆ›å»º DOM å¼•ç”¨</span>
<span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// ç›´æ¥è®¿é—®å¯èƒ½æœªæ¸²æŸ“å®Œæˆ</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>element<span class="token punctuation">.</span>value<span class="token punctuation">.</span>offsetHeight<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0 æˆ–æœªå®šä¹‰</span>
  <span class="token comment">// ä½¿ç”¨ nextTick ç¡®ä¿ DOM å·²æ¸²æŸ“</span>
  <span class="token function">nextTick</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>element<span class="token punctuation">.</span>value<span class="token punctuation">.</span>offsetHeight<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å®é™…é«˜åº¦</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><blockquote><p>æ³¨æ„ï¼Œåœ¨ vue2 ä¸­å’Œ vue3 çš„é€‰é¡¹å¼ API ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ this.$nextTick(callback)çš„æ–¹å¼è°ƒç”¨ã€‚</p></blockquote> <h3 id="ä½¿ç”¨-vue3-composable-ç»„åˆå¼å‡½æ•°-å®ç°-usecount"><a href="#ä½¿ç”¨-vue3-composable-ç»„åˆå¼å‡½æ•°-å®ç°-usecount" class="header-anchor">#</a> ä½¿ç”¨ Vue3 Composable ç»„åˆå¼å‡½æ•°ï¼Œå®ç° useCount</h3> <p>ä½¿ç”¨ç»„åˆå¼å‡½æ•°å®ç°å¦‚ä¸‹éœ€æ±‚ï¼šuseCount æ˜¯ä¸€ä¸ªè®¡æ•°é€»è¾‘ç®¡ç†çš„ç»„åˆå¼å‡½æ•°ï¼Œå®ƒè¿”å›ä¸€ä¸ª count å˜é‡å’Œå¢åŠ ã€å‡å°‘ã€é‡ç½® count çš„æ–¹æ³•ã€‚</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// å®ç° useCount ç»„åˆå¼å‡½æ•°</span>
<span class="token keyword">function</span> <span class="token function">useCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> count <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token function-variable function">increment</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    count<span class="token punctuation">.</span>value<span class="token operator">++</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token function-variable function">decrement</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    count<span class="token punctuation">.</span>value<span class="token operator">--</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token function-variable function">reset</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    count<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    count<span class="token punctuation">,</span>
    increment<span class="token punctuation">,</span>
    decrement<span class="token punctuation">,</span>
    reset<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// ä½¿ç”¨ useCount ç»„åˆå¼å‡½æ•°</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> count<span class="token punctuation">,</span> increment<span class="token punctuation">,</span> decrement<span class="token punctuation">,</span> reset <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>è®¡æ•°å™¨: {{ count }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>increment<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>å¢åŠ <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>decrement<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>å‡å°‘<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>reset<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>é‡ç½®<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><h3 id="ä½¿ç”¨-vue3-composable-ç»„åˆå¼å‡½æ•°-å®ç°-userequest"><a href="#ä½¿ç”¨-vue3-composable-ç»„åˆå¼å‡½æ•°-å®ç°-userequest" class="header-anchor">#</a> ä½¿ç”¨ Vue3 Composable ç»„åˆå¼å‡½æ•°ï¼Œå®ç° useRequest</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> loading<span class="token punctuation">,</span> data<span class="token punctuation">,</span> error <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useRequest</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å¯åªè€ƒè™‘ get è¯·æ±‚</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> ref<span class="token punctuation">,</span> computed <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">'axios'</span><span class="token punctuation">;</span>

<span class="token comment">// å®ç° useRequest ç»„åˆå¼å‡½æ•°</span>
<span class="token keyword">function</span> <span class="token function">useRequest</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> loading <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¯·æ±‚çŠ¶æ€</span>
  <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å“åº”æ•°æ®</span>
  <span class="token keyword">const</span> error <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// é”™è¯¯ä¿¡æ¯</span>

  <span class="token keyword">const</span> <span class="token function-variable function">fetchData</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    loading<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    error<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">/</span>
      data<span class="token punctuation">.</span>value <span class="token operator">=</span> response<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      error<span class="token punctuation">.</span>value <span class="token operator">=</span> err<span class="token punctuation">.</span>message <span class="token operator">||</span> <span class="token string">'è¯·æ±‚å¤±è´¥'</span><span class="token punctuation">;</span> <span class="token operator">/</span>
    <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
      loading<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token comment">// è‡ªåŠ¨è§¦å‘è¯·æ±‚</span>
  <span class="token function">fetchData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    loading<span class="token punctuation">,</span>
    data<span class="token punctuation">,</span>
    error<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> useRequest<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token comment">&lt;!-- ä½¿ç”¨ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> useRequest <span class="token keyword">from</span> <span class="token string">&quot;./useRequest&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> url <span class="token operator">=</span> <span class="token string">&quot;https://www.mianshipai.com/&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> loading<span class="token punctuation">,</span> data<span class="token punctuation">,</span> error <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useRequest</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>è¯·æ±‚æ•°æ®<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>loading<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>åŠ è½½ä¸­...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-else-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>error<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{ error }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-else</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{ data }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h3 id="è‡ªå®šä¹‰ç»„ä»¶å¦‚ä½•å®ç°-v-model"><a href="#è‡ªå®šä¹‰ç»„ä»¶å¦‚ä½•å®ç°-v-model" class="header-anchor">#</a> è‡ªå®šä¹‰ç»„ä»¶å¦‚ä½•å®ç° v-model</h3> <p>v-model å¯ä»¥åœ¨ç»„ä»¶ä¸Šä½¿ç”¨ä»¥å®ç°åŒå‘ç»‘å®šã€‚</p> <ul><li>vue2</li></ul> <p>åœ¨ vue2 ä¸­ï¼Œè‡ªå®šä¹‰ç»„ä»¶ä½¿ç”¨ v-model ï¼Œéœ€è¦åœ¨ç»„ä»¶å†…éƒ¨å®šä¹‰ value propï¼Œç„¶åé€šè¿‡ this.$emit('input', newValue) è§¦å‘æ›´æ–°å³å¯ã€‚</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token comment">&lt;!-- CustomInput.vue --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span>
    <span class="token attr-name">:value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>value<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">@input</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>$emit('input', $event.target.value)<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;value&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- ä½¿ç”¨æ–¹å¼ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>CustomInput</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>searchText<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><ul><li>vue3</li></ul> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token comment">&lt;!-- CustomInput.vue --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span>
    <span class="token attr-name">:value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>modelValue<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">@input</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>$emit('update:modelValue', $event.target.value)<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token function">defineProps</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;modelValue&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">defineEmits</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;update:modelValue&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>CustomInput</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>searchText<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><ul><li>ä» Vue 3.4 å¼€å§‹ï¼Œå®˜æ–¹æ¨èçš„å®ç°æ–¹å¼æ˜¯ä½¿ç”¨ defineModel() å®</li></ul> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token comment">&lt;!-- Child.vue --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">const</span> model <span class="token operator">=</span> <span class="token function">defineModel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  model<span class="token punctuation">.</span>value<span class="token operator">++</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>çˆ¶ç»„ä»¶çš„ v-model å€¼ä¸º: {{ model }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>update<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Increment<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- Parent.vue --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Child</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>countModel<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h3 id="å¦‚ä½•ç»Ÿä¸€ç›‘å¬-vue-ç»„ä»¶æŠ¥é”™"><a href="#å¦‚ä½•ç»Ÿä¸€ç›‘å¬-vue-ç»„ä»¶æŠ¥é”™" class="header-anchor">#</a> å¦‚ä½•ç»Ÿä¸€ç›‘å¬ Vue ç»„ä»¶æŠ¥é”™</h3> <p>åœ¨ Vue 3 ä¸­ï¼Œå¯ä»¥é€šè¿‡ å…¨å±€é”™è¯¯å¤„ç†å™¨ ï¼ˆerrorHandlerï¼‰ å’Œ ç”Ÿå‘½å‘¨æœŸé’©å­ï¼ˆä¾‹å¦‚ onErrorCaptured ï¼‰æ¥ç»Ÿä¸€ç›‘å¬å’Œå¤„ç†ç»„ä»¶ä¸­çš„é”™è¯¯ã€‚</p> <ul><li>é€šè¿‡å…¨å±€é”™è¯¯å¤„ç†å™¨ app.config.errorHandler</li></ul> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// è®¾ç½®å…¨å±€é”™è¯¯å¤„ç†å™¨</span>
app<span class="token punctuation">.</span>config<span class="token punctuation">.</span><span class="token function-variable function">errorHandler</span> <span class="token operator">=</span> <span class="token punctuation">(</span>err<span class="token punctuation">,</span> instance<span class="token punctuation">,</span> info<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;æ•è·åˆ°ç»„ä»¶é”™è¯¯: &quot;</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;å‘ç”Ÿé”™è¯¯çš„ç»„ä»¶å®ä¾‹: &quot;</span><span class="token punctuation">,</span> instance<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;é”™è¯¯ä¿¡æ¯: &quot;</span><span class="token punctuation">,</span> info<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">&quot;#app&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><ul><li>å±€éƒ¨é”™è¯¯æ•è·ï¼ˆonErrorCapturedï¼‰ï¼šonErrorCaptured é’©å­å¯ä»¥æ•è·åä»£ç»„ä»¶ä¼ é€’è¿‡ç¨‹ä¸­çš„é”™è¯¯ä¿¡æ¯</li></ul> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> onErrorCaptured <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>

<span class="token function">onErrorCaptured</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> instance<span class="token punctuation">,</span> info</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;å±€éƒ¨æ•è·åˆ°é”™è¯¯: &quot;</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;é”™è¯¯æ¥æºç»„ä»¶: &quot;</span><span class="token punctuation">,</span> instance<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;é”™è¯¯ä¿¡æ¯: &quot;</span><span class="token punctuation">,</span> info<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// è¿™ä¸ªé’©å­å¯ä»¥é€šè¿‡è¿”å› false æ¥é˜»æ­¢é”™è¯¯ç»§ç»­å‘ä¸Šä¼ é€’ã€‚</span>
  <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">// å¦‚æœéœ€è¦è®©é”™è¯¯å†’æ³¡åˆ°å…¨å±€ï¼Œçœç•¥æˆ–è¿”å› true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>å±€éƒ¨é”™è¯¯æ•è·ç¤ºä¾‹<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ErrorProneComponent</span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h3 id="vuex-ä¸­-mutation-å’Œ-action-æœ‰ä»€ä¹ˆåŒºåˆ«"><a href="#vuex-ä¸­-mutation-å’Œ-action-æœ‰ä»€ä¹ˆåŒºåˆ«" class="header-anchor">#</a> Vuex ä¸­ mutation å’Œ action æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h3> <p>åœ¨ Vuex ä¸­ï¼Œ mutation å’Œ action æ˜¯ç”¨äºç®¡ç†çŠ¶æ€çš„ä¸¤ç§æ ¸å¿ƒæ¦‚å¿µã€‚</p> <p>mutation å¯ä»¥ç›´æ¥ä¿®æ”¹ store ä¸­çš„ state å€¼ï¼Œå®ƒåªæ”¯æŒåŒæ­¥æ“ä½œã€‚ Action ä¸èƒ½ç›´æ¥ä¿®æ”¹ stateï¼Œè€Œæ˜¯é€šè¿‡è°ƒç”¨ mutation æ¥é—´æ¥ä¿®æ”¹ï¼Œå®ƒç”¨äºå¤„ç†å¼‚æ­¥æ“ä½œã€‚</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">state</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">// å®šä¹‰çŠ¶æ€</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">mutations</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// Mutation ç¤ºä¾‹ï¼ˆåŒæ­¥ï¼‰</span>
    <span class="token function">increment</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> payload</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      state<span class="token punctuation">.</span>count <span class="token operator">+=</span> payload<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ç»„ä»¶ä¸­è°ƒç”¨</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">&quot;increment&quot;</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">state</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">// å®šä¹‰çŠ¶æ€</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">mutations</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// Mutationï¼šåŒæ­¥ä¿®æ”¹çŠ¶æ€</span>
    <span class="token function">increment</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> payload</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      state<span class="token punctuation">.</span>count <span class="token operator">+=</span> payload<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// Actionï¼šå¼‚æ­¥æ“ä½œï¼Œå»¶è¿Ÿ1ç§’åè°ƒç”¨ mutation</span>
    <span class="token function">asyncIncrement</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> commit <span class="token punctuation">}</span><span class="token punctuation">,</span> payload</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">&quot;increment&quot;</span><span class="token punctuation">,</span> payload<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æäº¤ mutation ä¿®æ”¹çŠ¶æ€</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ç»„ä»¶ä¸­è°ƒç”¨</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">&quot;asyncIncrement&quot;</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h3 id="x-å’Œ-pinia-æœ‰ä»€ä¹ˆåŒºåˆ«"><a href="#x-å’Œ-pinia-æœ‰ä»€ä¹ˆåŒºåˆ«" class="header-anchor">#</a> x å’Œ Pinia æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h3> <p>Pinia å’Œ Vuex éƒ½æ˜¯ Vue çš„ä¸“å±çŠ¶æ€ç®¡ç†åº“ï¼Œå…è®¸ç”¨æˆ·è·¨ç»„ä»¶æˆ–é¡µé¢å…±äº«çŠ¶æ€ã€‚</p> <ul><li>åŒºåˆ«</li></ul> <table><thead><tr><th>ç‰¹æ€§</th> <th>Vuex</th> <th>Pinia</th></tr></thead> <tbody><tr><td>ç‰ˆæœ¬æ”¯æŒ</td> <td>Vue 2 å’Œ Vue 3</td> <td>ä»…æ”¯æŒ Vue 3ï¼ˆåŸºäº Composition API ï¼‰</td></tr> <tr><td>API é£æ ¼</td> <td>åŸºäºä¼ ç»Ÿçš„å¯¹è±¡å¼ API</td> <td>åŸºäº Composition APIï¼Œç±»ä¼¼äº setup è¯­æ³•</td></tr> <tr><td>æ¨¡å—ç®¡ç†</td> <td>æ”¯æŒæ¨¡å—åŒ–ï¼ˆmodulesï¼‰ï¼Œä½†è¯­æ³•è¾ƒå¤æ‚</td> <td>æ¨¡å—åŒ–ç®€å•ï¼Œæ¯ä¸ª store å°±æ˜¯ä¸€ä¸ªç‹¬ç«‹æ¨¡å—</td></tr> <tr><td>TypeScript æ”¯æŒ</td> <td>TypeScript æ”¯æŒä¸å®Œå–„ï¼Œéœ€æ‰‹åŠ¨å®šä¹‰ç±»å‹</td> <td>å¼€ç®±å³ç”¨çš„ TypeScript æ”¯æŒï¼Œç±»å‹æ¨å¯¼æ›´å¼ºå¤§</td></tr> <tr><td>æ€§èƒ½</td> <td>æ›´é€‚åˆå¤§å‹é¡¹ç›®ï¼Œä½†å†—ä½™ä»£ç è¾ƒå¤š</td> <td>æ›´åŠ è½»é‡ï¼Œæ€§èƒ½æ›´å¥½ï¼Œæ”¯æŒæŒ‰éœ€åŠ è½½</td></tr> <tr><td>çŠ¶æ€æŒä¹…åŒ–</td> <td>éœ€è¦é¢å¤–æ’ä»¶</td> <td>æ’ä»¶ç³»ç»Ÿæ›´åŠ çµæ´»ï¼Œæ”¯æŒçŠ¶æ€æŒä¹…åŒ–æ’ä»¶</td></tr></tbody></table> <ul><li>ä»£ç å¯¹æ¯”</li></ul> <p>vuex</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// store.js</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vuex&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">state</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">mutations</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">increment</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      state<span class="token punctuation">.</span>count<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">asyncIncrement</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> commit <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">&quot;increment&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">getters</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">doubleCount</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>count <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> store<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token comment">&lt;!-- vueç»„ä»¶ä¸­ä½¿ç”¨ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token comment">// è®¡ç®—å±æ€§</span>
  <span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>count<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">doubleCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span>getters<span class="token punctuation">.</span>doubleCount<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// åŒæ­¥å¢åŠ </span>
    <span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">&quot;increment&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// å¼‚æ­¥å¢åŠ </span>
    <span class="token function">asyncIncrement</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">&quot;asyncIncrement&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>pinia</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token comment">// store.js</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;pinia&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> useCounterStore <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token string">&quot;counter&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">state</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
    count<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  actions<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token keyword">async</span> <span class="token function">asyncIncrement</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  getters<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">doubleCount</span><span class="token operator">:</span> <span class="token punctuation">(</span>state<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>count <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token comment">&lt;!-- ç»„ä»¶ä¸­ä½¿ç”¨ï¼š--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> useCounterStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./store&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> counter <span class="token operator">=</span> <span class="token function">useCounterStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Countçš„è®¡ç®—å€¼ {{ counter.count }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>Doubleçš„è®¡ç®—å€¼ {{ counter.doubleCount }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>counter.increment<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>åŒæ­¥å¢åŠ <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>counter.asyncIncrement<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>å¼‚æ­¥å¢åŠ <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><ul><li><p>å¦‚ä½•é€‰æ‹©ï¼Ÿ</p> <p>å¯¹äº vue3 é¡¹ç›®ï¼Œå®˜æ–¹æ¨èä½¿ç”¨ piniaã€‚å› ä¸ºå®ƒæ›´è½»é‡ã€TypeScript æ”¯æŒæ›´å¥½ã€æ¨¡å—åŒ–æ›´ç®€å•ä¸”æ‹¥æœ‰æ›´å¼ºçš„ DevTools æ”¯æŒã€‚</p></li></ul> <h3 id="vue-router-å¯¼èˆªå®ˆå«èƒ½ç”¨æ¥åšä»€ä¹ˆ"><a href="#vue-router-å¯¼èˆªå®ˆå«èƒ½ç”¨æ¥åšä»€ä¹ˆ" class="header-anchor">#</a> Vue-router å¯¼èˆªå®ˆå«èƒ½ç”¨æ¥åšä»€ä¹ˆï¼Ÿ</h3> <p>vue Router çš„å¯¼èˆªå®ˆå«ç”¨äºåœ¨è·¯ç”±è·³è½¬è¿‡ç¨‹ä¸­å¯¹å¯¼èˆªè¡Œä¸ºè¿›è¡Œæ‹¦æˆªå’Œæ§åˆ¶ã€‚è¿™äº›å®ˆå«åœ¨è·¯ç”±è¿›å…¥ã€ç¦»å¼€æˆ–æ›´æ–°æ—¶æ‰§è¡Œï¼Œå¯ä»¥ç”¨äºå¤šç§åœºæ™¯ï¼Œç¡®ä¿åº”ç”¨çš„å¯¼èˆªé€»è¾‘ç¬¦åˆé¢„æœŸã€‚ä»¥ä¸‹æ˜¯å¸¸è§çš„ç”¨é€”ï¼š</p> <ul><li>è®¤è¯å’Œæˆæƒ</li></ul> <p>ç”¨äºæ£€æŸ¥ç”¨æˆ·çš„ç™»å½•çŠ¶æ€æˆ–æƒé™ï¼Œé˜²æ­¢æœªæˆæƒç”¨æˆ·è®¿é—®å—é™é¡µé¢ã€‚</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>router<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> from<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> isAuthenticated <span class="token operator">=</span> <span class="token operator">!</span><span class="token operator">!</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">&quot;token&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>to<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>requiresAuth <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>isAuthenticated<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">next</span><span class="token punctuation">(</span><span class="token string">&quot;/login&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æœªç™»å½•ï¼Œè·³è½¬åˆ°ç™»å½•é¡µ</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å·²ç™»å½•ï¼Œæ­£å¸¸å¯¼èˆª</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ul><li>æ•°æ®é¢„åŠ è½½</li></ul> <p>åœ¨è¿›å…¥è·¯ç”±å‰é¢„åŠ è½½å¿…è¦çš„æ•°æ®ï¼Œç¡®ä¿é¡µé¢æ¸²æŸ“æ—¶æ•°æ®å·²å‡†å¤‡å¥½ã€‚</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>router<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> from<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>to<span class="token punctuation">.</span>name <span class="token operator">===</span> <span class="token string">&quot;userInfo&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">await</span> store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">&quot;fetchUserData&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// é¢„åŠ è½½ç”¨æˆ·æ•°æ®</span>
  <span class="token punctuation">}</span>
  <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ul><li>åŠ¨æ€ä¿®æ”¹é¡µé¢æ ‡é¢˜</li></ul> <p>æ ¹æ®è·¯ç”±ä¿¡æ¯åŠ¨æ€æ›´æ”¹æµè§ˆå™¨æ ‡ç­¾é¡µçš„æ ‡é¢˜ï¼Œæå‡ç”¨æˆ·ä½“éªŒã€‚</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>router<span class="token punctuation">.</span><span class="token function">afterEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  document<span class="token punctuation">.</span>title <span class="token operator">=</span> to<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>title <span class="token operator">||</span> <span class="token string">&quot;è‡ªå®šä¹‰æ ‡é¢˜&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>åŠ¨ç”»å’ŒåŠ è½½æ•ˆæœ</li></ul> <p>åœ¨è·¯ç”±åˆ‡æ¢æ—¶å±•ç¤ºåŠ è½½åŠ¨ç”»æˆ–è¿‡æ¸¡æ•ˆæœï¼Œæå‡ç”¨æˆ·ä½“éªŒã€‚</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>router<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> from<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">&quot;setLoading&quot;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å¼€å§‹åŠ è½½åŠ¨ç”»</span>
  <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

router<span class="token punctuation">.</span><span class="token function">afterEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">&quot;setLoading&quot;</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ç»“æŸåŠ è½½åŠ¨ç”»</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ul><li>æ—¥å¿—è®°å½•å’Œåˆ†æ</li></ul> <p>åœ¨è·¯ç”±åˆ‡æ¢æ—¶è®°å½•ç”¨æˆ·è¡Œä¸ºï¼Œç”¨äºåˆ†ææˆ–è°ƒè¯•ã€‚</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>router<span class="token punctuation">.</span><span class="token function">afterEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> <span class="token keyword">from</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">ç”¨æˆ·ä» </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>from<span class="token punctuation">.</span>fullPath<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> è·³è½¬åˆ° </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>to<span class="token punctuation">.</span>fullPath<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>é˜²æ­¢è®¿é—®ä¸å­˜åœ¨çš„é¡µé¢</li></ul> <p>é€šè¿‡å®ˆå«æ£€æŸ¥è·¯ç”±æ˜¯å¦å­˜åœ¨ï¼Œé¿å…å¯¼èˆªåˆ°æ— æ•ˆé¡µé¢ã€‚</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>router<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> from<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> routeExists <span class="token operator">=</span> router
    <span class="token punctuation">.</span><span class="token function">getRoutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">route</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> route<span class="token punctuation">.</span>name <span class="token operator">===</span> to<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>routeExists<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">next</span><span class="token punctuation">(</span><span class="token string">&quot;/404&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è·³è½¬åˆ° 404 é¡µé¢</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="_1-æƒé™ç®¡ç†"><a href="#_1-æƒé™ç®¡ç†" class="header-anchor">#</a> 1.æƒé™ç®¡ç†</h3> <h4 id="ä¸€ã€æ˜¯ä»€ä¹ˆ"><a href="#ä¸€ã€æ˜¯ä»€ä¹ˆ" class="header-anchor">#</a> ä¸€ã€æ˜¯ä»€ä¹ˆ</h4> <p>æƒé™æ˜¯å¯¹ç‰¹å®šèµ„æºçš„è®¿é—®è®¸å¯ï¼Œæ‰€è°“æƒé™æ§åˆ¶ï¼Œä¹Ÿå°±æ˜¯ç¡®ä¿ç”¨æˆ·åªèƒ½è®¿é—®è¢«åˆ†é…çš„èµ„æºã€‚</p> <p>å‰ç«¯æƒé™=&gt;è¯·æ±‚çš„å‘èµ·æƒé™=&gt;é¡µé¢åŠ è½½è§¦å‘||dom äº¤äº’è§¦å‘=&gt;å‰ç«¯è·¯ç”±||è§†å›¾</p> <p>æ€»ç»“ï¼š</p> <ul><li><p>è·¯ç”±æ–¹é¢ï¼šç”¨æˆ·ç™»å½•ååªèƒ½çœ‹åˆ°è‡ªå·±æœ‰æƒè®¿é—®çš„å¯¼èˆªèœå•å’Œè®¿é—®æœ‰æƒè®¿é—®çš„è·¯ç”±åœ°å€ï¼Œå¦åˆ™è·³è½¬ 404</p></li> <li><p>è§†å›¾æ–¹é¢ï¼šç”¨æˆ·åªèƒ½çœ‹åˆ°è‡ªå·±æœ‰æƒæµè§ˆçš„å†…å®¹å’Œæœ‰æƒæ“ä½œçš„æ§ä»¶</p></li> <li><p>è¯·æ±‚æ‹¦æˆª</p></li></ul> <h4 id="äºŒã€æ€ä¹ˆåš"><a href="#äºŒã€æ€ä¹ˆåš" class="header-anchor">#</a> äºŒã€æ€ä¹ˆåš</h4> <p><strong>1.æ¥å£æƒé™</strong></p> <p>jwt éªŒè¯ï¼šæ²¡æœ‰é€šè¿‡çš„è¯ä¸€èˆ¬è¿”å› 401ï¼Œè·³è½¬åˆ°ç™»å½•é¡µé¢è¿›è¡Œé‡æ–°ç™»å½•ã€‚</p> <p>ç™»å½•å®Œæ‹¿åˆ° tokenï¼Œå°† token å­˜èµ·æ¥ï¼Œé€šè¿‡ axios è¯·æ±‚æ‹¦æˆªå™¨è¿›è¡Œæ‹¦æˆªï¼Œæ¯æ¬¡è¯·æ±‚çš„æ—¶å€™å¤´éƒ¨æºå¸¦ token</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>  axios<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token parameter">config</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    config<span class="token punctuation">.</span>headers<span class="token punctuation">[</span><span class="token string">'token'</span><span class="token punctuation">]</span> <span class="token operator">=</span> cookie<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'token'</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> config
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  axios<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>response<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>response<span class="token punctuation">}</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>response<span class="token punctuation">.</span>data<span class="token punctuation">.</span>code <span class="token operator">===</span> <span class="token number">401</span> <span class="token operator">||</span> response<span class="token punctuation">.</span>data<span class="token punctuation">.</span>code <span class="token operator">===</span> <span class="token number">402</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//tokenè¿‡æœŸæˆ–è€…é”™è¯¯</span>
        router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'/login'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><strong>2.è·¯ç”±æƒé™æ§åˆ¶</strong></p> <p>å­˜åœ¨æ˜æ˜¾ç¼ºç‚¹ï¼šèœå•ä¸è·¯ç”±è€¦åˆ</p> <p><strong>3.èœå•æƒé™æ§åˆ¶</strong></p> <p>èœå•ä¸è·¯ç”±åˆ†ç¦»ï¼Œèœå•ç”±åç«¯è¿”å›ï¼Œæˆ–è€…èœå•å’Œè·¯ç”±éƒ½ç”±åç«¯è¿”å›</p> <p><strong>4.æ€»ç»“</strong></p> <p>æƒé™éœ€è¦å‰åç«¯ç»“åˆï¼Œå‰ç«¯å°½å¯èƒ½çš„å»æ§åˆ¶ï¼Œæ›´å¤šçš„éœ€è¦åå°åˆ¤æ–­</p> <h2 id="å‰ç«¯æ€§èƒ½ä¼˜åŒ–"><a href="#å‰ç«¯æ€§èƒ½ä¼˜åŒ–" class="header-anchor">#</a> å‰ç«¯æ€§èƒ½ä¼˜åŒ–</h2> <h3 id="_1-å¦‚ä½•æå‡é¦–é¡µåŠ è½½é€Ÿåº¦-2023-07-13"><a href="#_1-å¦‚ä½•æå‡é¦–é¡µåŠ è½½é€Ÿåº¦-2023-07-13" class="header-anchor">#</a> 1.å¦‚ä½•æå‡é¦–é¡µåŠ è½½é€Ÿåº¦ï¼Ÿï¼ˆ2023.07.13ï¼‰</h3> <p>å­¦ä¹ è‡ª â˜ <a href="https://juejin.cn/post/7188894691356573754" target="_blank" rel="noopener noreferrer">å‰ç«¯æ€§èƒ½ä¼˜åŒ–â€”â€”é¦–é¡µèµ„æºå‹ç¼© 63%ã€ç™½å±æ—¶é—´ç¼©çŸ­ 86%<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="_1ã€è·¯ç”±æ‡’åŠ è½½"><a href="#_1ã€è·¯ç”±æ‡’åŠ è½½" class="header-anchor">#</a> 1ã€è·¯ç”±æ‡’åŠ è½½</h4> <p>ES6 çš„åŠ¨æ€åœ°åŠ è½½æ¨¡å—â€”â€”import()</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// route.js</span>
<span class="token comment">// ...</span>
<span class="token punctuation">{</span>
  <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&quot;/XXX&quot;</span><span class="token punctuation">,</span>
  <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&quot;@/pages/XXX/index&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;XXX&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&quot;XXX&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token comment">// ...</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h4 id="_2ã€ç»„ä»¶æ‡’åŠ è½½"><a href="#_2ã€ç»„ä»¶æ‡’åŠ è½½" class="header-anchor">#</a> 2ã€ç»„ä»¶æ‡’åŠ è½½</h4> <p>æœ‰æ—¶èµ„æºæ‹†åˆ†çš„è¿‡ç»†ä¹Ÿä¸å¥½ï¼Œå¯èƒ½ä¼šé€ æˆæµè§ˆå™¨ http è¯·æ±‚çš„å¢å¤š</p> <p><strong>ç»„ä»¶æ‡’åŠ è½½çš„ä½¿ç”¨åœºæ™¯</strong></p> <ul><li><p>è¯¥é¡µé¢ JS æ–‡ä»¶ä½“ç§¯å¤§ï¼Œæ­¤æ—¶å¯ä»¥é€šè¿‡ç»„ä»¶æ‡’åŠ è½½è¿›è¡Œèµ„æºæ‹†åˆ†ï¼Œåˆ©ç”¨æµè§ˆå™¨å¹¶è¡Œä¸‹è½½èµ„æºï¼Œæå‡ä¸‹è½½é€Ÿåº¦ï¼ˆæ¯”å¦‚é¦–é¡µï¼‰</p></li> <li><p>è¯¥ç»„ä»¶ä¸æ˜¯ä¸€è¿›å…¥é¡µé¢å°±å±•ç¤ºï¼Œéœ€è¦ä¸€å®šæ¡ä»¶ä¸‹æ‰è§¦å‘ï¼ˆæ¯”å¦‚å¼¹æ¡†ç»„ä»¶ï¼‰</p></li> <li><p>è¯¥ç»„ä»¶å¤ç”¨æ€§é«˜ï¼Œå¾ˆå¤šé¡µé¢éƒ½æœ‰å¼•å…¥ï¼Œåˆ©ç”¨ç»„ä»¶æ‡’åŠ è½½æŠ½ç¦»å‡ºè¯¥ç»„ä»¶ï¼Œä¸€æ–¹é¢å¯ä»¥å¾ˆå¥½åˆ©ç”¨ç¼“å­˜ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥å‡å°‘é¡µé¢çš„ JS æ–‡ä»¶å¤§å°ï¼ˆæ¯”å¦‚è¡¨æ ¼ç»„ä»¶ã€å›¾å½¢ç»„ä»¶ç­‰ï¼‰</p></li></ul> <h4 id="_3ã€åˆç†ä½¿ç”¨-tree-shaking"><a href="#_3ã€åˆç†ä½¿ç”¨-tree-shaking" class="header-anchor">#</a> 3ã€åˆç†ä½¿ç”¨ Tree shaking</h4> <p>Tree shaking çš„ä½œç”¨ï¼šæ¶ˆé™¤æ— ç”¨çš„ JS ä»£ç ï¼Œå‡å°‘ä»£ç ä½“ç§¯</p> <p><strong>ä»€ä¹ˆæ˜¯ Tree shakingï¼Ÿ</strong> â˜ <a href="https://zhuanlan.zhihu.com/p/127804516" target="_blank" rel="noopener noreferrer">æµ…æ Tree Shaking<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€<a href="https://juejin.cn/post/7030727223602905119" target="_blank" rel="noopener noreferrer">Tree-shaking è¯¦è§£<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// util.js</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">targetType</span><span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">deepClone</span><span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// myInfo.js</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> myInfo <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Ire Aderinokun&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">birthday</span><span class="token operator">:</span> <span class="token string">&quot;2 March&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// index.js</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> myInfo <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./myInfo.js&quot;</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myInfo<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><ul><li><p>å¦‚æœé¡¹ç›®ä¸­åªä½¿ç”¨äº† targetType æ–¹æ³•ï¼Œä½†æœªä½¿ç”¨ deepClone æ–¹æ³•ï¼Œé¡¹ç›®æ‰“åŒ…åï¼ŒdeepClone æ–¹æ³•ä¸ä¼šè¢«æ‰“åŒ…åˆ°é¡¹ç›®é‡Œï¼Œç”šè‡³ä»ä»æœªè®¿é—®è¿‡çš„å¯¼å…¥å¯¹è±¡ä¸­åˆ é™¤ç‰¹å®šå±æ€§ï¼ˆbirthday å±æ€§ä¸ä¼šè¢«è¾“å‡ºåˆ°æœ€ç»ˆæ‰“åŒ…æ–‡ä»¶ä¸­ï¼Œå› ä¸ºä»æœªå®é™…ä½¿ç”¨è¿‡ï¼‰ã€‚</p></li> <li><p>ä¾èµ–äº ES6 çš„æ¨¡å—ç‰¹æ€§</p></li></ul> <p><em>common.js å’Œ es6 ä¸­æ¨¡å—å¼•å…¥çš„åŒºåˆ«ï¼Ÿ</em></p> <blockquote><p>1ã€CommonJS æ¨¡å—è¾“å‡ºçš„æ˜¯ä¸€ä¸ªå€¼çš„<strong>æ‹·è´</strong>ï¼ŒES6 æ¨¡å—è¾“å‡ºçš„æ˜¯å€¼çš„<strong>å¼•ç”¨</strong>ã€‚
2ã€CommonJS æ¨¡å—æ˜¯<strong>è¿è¡Œæ—¶</strong>åŠ è½½ï¼ŒES6 æ¨¡å—æ˜¯<strong>ç¼–è¯‘æ—¶</strong>è¾“å‡ºæ¥å£ã€‚
3ã€CommonJs æ˜¯<strong>å•ä¸ª</strong>å€¼å¯¼å‡ºï¼ŒES6 Module å¯ä»¥å¯¼å‡º<strong>å¤šä¸ª</strong>
4ã€CommonJs æ˜¯<strong>åŠ¨æ€è¯­æ³•</strong>å¯ä»¥å†™åœ¨åˆ¤æ–­é‡Œï¼ŒES6 Module <strong>é™æ€è¯­æ³•</strong>åªèƒ½å†™åœ¨<strong>é¡¶å±‚</strong>
5ã€CommonJs çš„ this æ˜¯å½“å‰æ¨¡å—ï¼ŒES6 Module çš„ this æ˜¯ undefined</p></blockquote> <ul><li>tree-shaking åªå¯¹ä½¿ç”¨ export å¯¼å‡ºçš„å˜é‡ç”Ÿæ•ˆ</li></ul> <h4 id="_4ã€éª¨æ¶å±ä¼˜åŒ–ç™½å±æ—¶é•¿"><a href="#_4ã€éª¨æ¶å±ä¼˜åŒ–ç™½å±æ—¶é•¿" class="header-anchor">#</a> 4ã€éª¨æ¶å±ä¼˜åŒ–ç™½å±æ—¶é•¿</h4> <h2 id="react"><a href="#react" class="header-anchor">#</a> React</h2> <h3 id="_1-æ€ä¹ˆåˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯-react-å…ƒç´ "><a href="#_1-æ€ä¹ˆåˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯-react-å…ƒç´ " class="header-anchor">#</a> 1.æ€ä¹ˆåˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯ React å…ƒç´ ï¼Ÿ</h3> <p>React.isValidElement(element)</p> <h3 id="_2-è¯´è¯´-react-ä¸­çš„-diff-ç®—æ³•"><a href="#_2-è¯´è¯´-react-ä¸­çš„-diff-ç®—æ³•" class="header-anchor">#</a> 2.è¯´è¯´ react ä¸­çš„ diff ç®—æ³•</h3> <ul><li>ä½œç”¨ï¼šdiff ç®—æ³•æ˜¯ React ä¸­ä¸€ä¸ªéå¸¸é‡è¦çš„ç®—æ³•ï¼Œå®ƒç”¨äºæ¯”è¾ƒè™šæ‹Ÿ DOM æ ‘ï¼Œå¹¶æ‰¾å‡ºéœ€è¦æ›´æ–°çš„çœŸå® DOM èŠ‚ç‚¹ã€‚é€šè¿‡ diff ç®—æ³•ï¼ŒReact å¯ä»¥é«˜æ•ˆåœ°æ›´æ–° DOMï¼Œä»è€Œæé«˜æ€§èƒ½ã€‚</li></ul> <p>ä¸ºäº†é™ä½ç®—æ³•å¤æ‚åº¦ï¼ŒReact çš„ diff ä¼šé¢„è®¾ä¸‰ä¸ªé™åˆ¶ï¼š</p> <ul><li>Tree Diffï¼ˆæ ‘ç­–ç•¥ï¼‰: åªå¯¹åŒçº§å…ƒç´ è¿›è¡Œ Diffã€‚å¦‚æœä¸€ä¸ª DOM èŠ‚ç‚¹åœ¨å‰åä¸¤æ¬¡æ›´æ–°ä¸­è·¨è¶Šäº†å±‚çº§ï¼Œé‚£ä¹ˆ React ä¸ä¼šå°è¯•å¤ç”¨ä»–ã€‚ å› ä¸ºï¼ŒWeb UI ä¸­ DOM èŠ‚ç‚¹è·¨å±‚çº§çš„ç§»åŠ¨æ“ä½œç‰¹åˆ«å°‘ï¼Œå¯ä»¥å¿½ç•¥ä¸è®¡ã€‚</li> <li>Component Diffï¼ˆç»„ä»¶ç­–ç•¥ï¼‰: æ‹¥æœ‰ç›¸åŒç±»çš„ä¸¤ä¸ªç»„ä»¶å°†ä¼šç”Ÿæˆç›¸ä¼¼çš„æ ‘å½¢ç»“æ„ï¼Œæ‹¥æœ‰ä¸åŒç±»çš„ä¸¤ä¸ªç»„ä»¶å°†ä¼šç”Ÿæˆä¸åŒçš„æ ‘å½¢ç»“æ„</li> <li>Element Diffï¼ˆå…ƒç´ ç­–ç•¥ï¼‰ï¼šå¯¹äºåŒä¸€å±‚çº§çš„ä¸€ç»„å­èŠ‚ç‚¹ï¼Œå®ƒä»¬å¯ä»¥é€šè¿‡å”¯ä¸€ id è¿›è¡ŒåŒºåˆ†ã€‚å¼€å‘è€…å¯ä»¥é€šè¿‡ key å±æ€§æ¥æš—ç¤ºå“ªäº›å­å…ƒç´ åœ¨ä¸åŒçš„æ¸²æŸ“ä¸‹èƒ½ä¿æŒç¨³å®šã€‚</li></ul> <h3 id="_3-è¯´è¯´-react-ä¸­-jsx-è½¬æ¢æˆçœŸå®-dom-çš„è¿‡ç¨‹"><a href="#_3-è¯´è¯´-react-ä¸­-jsx-è½¬æ¢æˆçœŸå®-dom-çš„è¿‡ç¨‹" class="header-anchor">#</a> 3.è¯´è¯´ React ä¸­ Jsx è½¬æ¢æˆçœŸå® DOM çš„è¿‡ç¨‹?</h3> <ul><li>ç¼–å†™ JSX ä»£ç </li> <li>è½¬æ¢ JSX ä¸º React å…ƒç´ </li> <li>React å…ƒç´ è½¬æ¢ä¸ºè™šæ‹Ÿ DOM (Virtual DOM),è™šæ‹Ÿ
DOM æ˜¯ä¸€ä¸ªå•çº¯çš„ JavaScript å¯¹è±¡</li> <li>è™šæ‹Ÿ DOM å’ŒçœŸå® DOM çš„å¯¹æ¯”(Reconciliation),åœ¨ç»„ä»¶çš„çŠ¶æ€æˆ–å±æ€§æ”¹å˜æ—¶,React ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ React å…ƒç´ (æ–°çš„è™šæ‹Ÿ DOM),å¹¶å°†å…¶ä¸ä¸Šä¸€æ¬¡æ¸²æŸ“çš„è™šæ‹Ÿ DOM è¿›è¡Œå¯¹æ¯”,è¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºåè°ƒ(Reconciliation)ã€‚</li> <li>è®¡ç®—å·®å¼‚(Diffing)</li> <li>æ›´æ–°çœŸå® DOM(Committing Changes)</li> <li>çœŸå® DOM çš„æ¸²æŸ“</li></ul> <h3 id="_4-è¯´è¯´-react-ä¸­çš„-fiber-æ¶æ„"><a href="#_4-è¯´è¯´-react-ä¸­çš„-fiber-æ¶æ„" class="header-anchor">#</a> 4.è¯´è¯´ React ä¸­çš„ Fiber æ¶æ„?</h3> <p>å¹¶å‘ï¼šæŒ‡ä¸¤ä¸ªæˆ–å¤šä¸ªäº‹ä»¶åœ¨åŒâ¼€ä¸ªæ—¶é—´æ®µå†…å‘â½£ã€‚</p> <p>å¹¶è¡Œï¼šæŒ‡ä¸¤ä¸ªæˆ–å¤šä¸ªäº‹ä»¶åœ¨åŒâ¼€æ—¶åˆ»å‘â½£ï¼ˆåŒæ—¶å‘â½£ï¼‰ã€‚</p> <h3 id="_5-usecontext"><a href="#_5-usecontext" class="header-anchor">#</a> 5.useContext</h3> <ul><li><p>ä½œç”¨ï¼šContext æä¾›äº†ä¸€ç§åœ¨ç»„ä»¶æ ‘ä¸­ä¼ é€’æ•°æ®çš„æ–¹æ³•ï¼Œæ— éœ€åœ¨æ¯ä¸ªå±‚çº§æ‰‹åŠ¨ä¼ é€’ propsã€‚å½“ Provider çš„ value å€¼å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå®ƒå†…éƒ¨çš„æ‰€æœ‰æ¶ˆè´¹ç»„ä»¶éƒ½ä¼šé‡æ–°æ¸²æŸ“</p></li> <li><p>ä½¿ç”¨åœºæ™¯ï¼šå½“æŸä¸ªæ•°æ®éœ€è¦åœ¨å¤šä¸ªç»„ä»¶ä¸­ä½¿ç”¨æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ Context æ¥ä¼ é€’æ•°æ®ï¼Œé¿å…é€å±‚ä¼ é€’ propsã€‚</p></li> <li><p>ä½¿ç”¨æ–¹æ³•ï¼š</p></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// åˆ›å»º Context</span>
<span class="token keyword">const</span> MyContext <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// åœ¨é¡¶å±‚ç»„ä»¶ä¸­ä½¿ç”¨ Provider</span>
<span class="token operator">&lt;</span>MyContext<span class="token punctuation">.</span>Provider value<span class="token operator">=</span><span class="token punctuation">{</span>value<span class="token punctuation">}</span><span class="token operator">&gt;</span>
  <span class="token punctuation">{</span><span class="token comment">/* å­ç»„ä»¶ */</span><span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>MyContext<span class="token punctuation">.</span>Provider<span class="token operator">&gt;</span>

<span class="token comment">// åœ¨å­ç»„ä»¶ä¸­ä½¿ç”¨ Consumer</span>
<span class="token operator">&lt;</span>MyContext<span class="token punctuation">.</span>Consumer<span class="token operator">&gt;</span>
  <span class="token punctuation">{</span><span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token operator">&lt;</span>Component value<span class="token operator">=</span><span class="token punctuation">{</span>value<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>MyContext<span class="token punctuation">.</span>Consumer<span class="token operator">&gt;</span>

<span class="token comment">// ä½¿ç”¨ useContext Hook</span>
<span class="token keyword">const</span> value <span class="token operator">=</span> <span class="token function">useContext</span><span class="token punctuation">(</span>MyContext<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p><strong>æ³¨æ„äº‹é¡¹ï¼šContext çš„å€¼æ˜¯æµ…æ¯”è¾ƒçš„ï¼Œå¦‚æœ value æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œé‚£ä¹ˆåœ¨ value å‘ç”Ÿå˜åŒ–æ—¶ï¼Œéœ€è¦ç¡®ä¿å¯¹è±¡å¼•ç”¨å‘ç”Ÿå˜åŒ–ï¼Œæ‰èƒ½è§¦å‘ç»„ä»¶çš„é‡æ–°æ¸²æŸ“ã€‚</strong></p> <h4 id="provider-åµŒå¥—"><a href="#provider-åµŒå¥—" class="header-anchor">#</a> Provider åµŒå¥—</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// context.js</span>
<span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> createContext<span class="token punctuation">,</span> useState<span class="token punctuation">,</span> useContext <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// åˆ›å»º ThemeContext</span>
<span class="token keyword">const</span> ThemeContext <span class="token operator">=</span> <span class="token function">createContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// åˆ›å»º ThemeContext çš„ Provider ç»„ä»¶</span>
<span class="token keyword">const</span> <span class="token function-variable function">ThemeProvider</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> children <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>theme<span class="token punctuation">,</span> setTheme<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">&quot;light&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å‡è®¾åˆå§‹ä¸»é¢˜æ˜¯ 'light'</span>

  <span class="token comment">// å¯ä»¥é€šè¿‡å‡½æ•°æ¥åˆ‡æ¢ä¸»é¢˜</span>
  <span class="token keyword">const</span> <span class="token function-variable function">toggleTheme</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setTheme</span><span class="token punctuation">(</span>theme <span class="token operator">===</span> <span class="token string">&quot;light&quot;</span> <span class="token operator">?</span> <span class="token string">&quot;dark&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;light&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>ThemeContext<span class="token punctuation">.</span>Provider value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> theme<span class="token punctuation">,</span> toggleTheme <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
      <span class="token punctuation">{</span>children<span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>ThemeContext<span class="token punctuation">.</span>Provider<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// åˆ›å»º AuthContext</span>
<span class="token keyword">const</span> AuthContext <span class="token operator">=</span> <span class="token function">createContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// åˆ›å»º AuthContext çš„ Provider ç»„ä»¶</span>
<span class="token keyword">const</span> <span class="token function-variable function">AuthProvider</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> children <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>user<span class="token punctuation">,</span> setUser<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å‡è®¾åˆå§‹ç”¨æˆ·æ˜¯ null</span>

  <span class="token comment">// å¯ä»¥é€šè¿‡å‡½æ•°æ¥è®¾ç½®ç”¨æˆ·</span>
  <span class="token keyword">const</span> <span class="token function-variable function">login</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">userData</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setUser</span><span class="token punctuation">(</span>userData<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">logout</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setUser</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>AuthContext<span class="token punctuation">.</span>Provider value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> user<span class="token punctuation">,</span> login<span class="token punctuation">,</span> logout <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
      <span class="token punctuation">{</span>children<span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>AuthContext<span class="token punctuation">.</span>Provider<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// å¯¼å‡º ThemeProvider å’Œ AuthProviderï¼Œä»¥åŠå®ƒä»¬å„è‡ªçš„ Context</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span> ThemeContext<span class="token punctuation">,</span> ThemeProvider<span class="token punctuation">,</span> AuthContext<span class="token punctuation">,</span> AuthProvider <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// App.js</span>
<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ThemeProvider<span class="token punctuation">,</span> AuthProvider <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./context.js&quot;</span><span class="token punctuation">;</span> <span class="token comment">// å¯¼å…¥æä¾›è€…</span>
<span class="token keyword">import</span> MyComponent <span class="token keyword">from</span> <span class="token string">&quot;./MyComponent&quot;</span><span class="token punctuation">;</span> <span class="token comment">// å‡è®¾æ‚¨æœ‰ä¸€ä¸ª MyComponent ç»„ä»¶</span>

<span class="token keyword">const</span> <span class="token function-variable function">App</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>ThemeProvider<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>AuthProvider<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>MyComponent <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token string">&quot; &quot;</span><span class="token punctuation">}</span>
        <span class="token punctuation">{</span><span class="token comment">/* MyComponent ç°åœ¨å¯ä»¥è®¿é—® ThemeContext å’Œ AuthContext */</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>AuthProvider<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>ThemeProvider<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// MyComponent.js</span>
<span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useContext <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ThemeContext<span class="token punctuation">,</span> AuthContext <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./context.js&quot;</span><span class="token punctuation">;</span> <span class="token comment">// å¯¼å…¥ Context</span>

<span class="token keyword">const</span> <span class="token function-variable function">MyComponent</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">useContext</span><span class="token punctuation">(</span>ThemeContext<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;useContext(ThemeContext)&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> theme<span class="token punctuation">,</span> toggleTheme <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useContext</span><span class="token punctuation">(</span>ThemeContext<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> user<span class="token punctuation">,</span> login<span class="token punctuation">,</span> logout <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useContext</span><span class="token punctuation">(</span>AuthContext<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">useContext</span><span class="token punctuation">(</span>AuthContext<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;useContext(ThemeContext)&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// ä½¿ç”¨ themeã€toggleThemeã€userã€login å’Œ logout åšä¸€äº›äº‹æƒ…...</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token comment">// ... ç»„ä»¶çš„ JSX</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>å½“å‰ä¸»é¢˜<span class="token operator">:</span> <span class="token punctuation">{</span>theme<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span>toggleTheme<span class="token punctuation">}</span><span class="token operator">&gt;</span>åˆ‡æ¢ä¸»é¢˜<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
      <span class="token punctuation">{</span>user <span class="token operator">?</span> <span class="token punctuation">(</span>
        <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>å·²ç™»å½•ç”¨æˆ·<span class="token operator">:</span> <span class="token punctuation">{</span>user<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span>logout<span class="token punctuation">}</span><span class="token operator">&gt;</span>ç™»å‡º<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">(</span>
        <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">login</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;John Doe&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>ç™»å½•<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
      <span class="token punctuation">)</span><span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> MyComponent<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><h3 id="_6-react-hooks"><a href="#_6-react-hooks" class="header-anchor">#</a> 6. React Hooks</h3> <ul><li>useStateï¼šç”¨äºåœ¨å‡½æ•°ç»„ä»¶ä¸­æ·»åŠ çŠ¶æ€</li> <li>useEffectï¼šç”¨äºåœ¨å‡½æ•°ç»„ä»¶ä¸­æ‰§è¡Œå‰¯ä½œç”¨æ“ä½œï¼Œå¦‚æ•°æ®è·å–ã€è®¢é˜…æˆ–æ‰‹åŠ¨æ›´æ”¹ DOM</li> <li>useContextï¼šç”¨äºåœ¨å‡½æ•°ç»„ä»¶ä¸­è®¿é—® Context</li> <li>useReducerï¼šç”¨äºåœ¨å‡½æ•°ç»„ä»¶ä¸­å®ç°çŠ¶æ€ç®¡ç†ï¼Œç±»ä¼¼äº Redux</li> <li>useCallbackï¼šç”¨äºç¼“å­˜å‡½æ•°ï¼Œé¿å…åœ¨æ¯æ¬¡æ¸²æŸ“æ—¶åˆ›å»ºæ–°çš„å‡½æ•°å®ä¾‹</li> <li>useMemoï¼šç”¨äºç¼“å­˜è®¡ç®—ç»“æœï¼Œé¿å…åœ¨æ¯æ¬¡æ¸²æŸ“æ—¶é‡æ–°è®¡ç®—</li> <li>useRefï¼šç”¨äºè®¿é—® DOM å…ƒç´ æˆ–ä¿å­˜å¯å˜å€¼ï¼Œä¸ä¼šè§¦å‘ç»„ä»¶é‡æ–°æ¸²æŸ“</li> <li>useImperativeHandleï¼šç”¨äºè‡ªå®šä¹‰æš´éœ²ç»™çˆ¶ç»„ä»¶çš„å®ä¾‹å€¼</li> <li>useLayoutEffectï¼šç±»ä¼¼äº useEffectï¼Œä½†åœ¨æ‰€æœ‰ DOM å˜æ›´ååŒæ­¥è§¦å‘</li> <li>useDebugValueï¼šç”¨äºåœ¨ React å¼€å‘è€…å·¥å…·ä¸­æ˜¾ç¤ºè‡ªå®šä¹‰ hook çš„æ ‡ç­¾</li> <li>useDeferredValueï¼šç”¨äºå»¶è¿Ÿæ¸²æŸ“ï¼Œå°†æ¸²æŸ“æ¨è¿Ÿåˆ°æµè§ˆå™¨ç©ºé—²æ—¶é—´</li> <li>useTransitionï¼šç”¨äºåœ¨æ¸²æŸ“æœŸé—´æ˜¾ç¤ºåŠ è½½çŠ¶æ€ï¼Œå°†æ¸²æŸ“æ¨è¿Ÿåˆ°æµè§ˆå™¨ç©ºé—²æ—¶é—´</li> <li>useIdï¼šç”¨äºç”Ÿæˆå”¯ä¸€çš„ IDï¼Œé€‚ç”¨äº SSR å’Œå®¢æˆ·ç«¯æ¸²æŸ“ç¯å¢ƒ</li> <li>useSyncExternalStoreï¼šç”¨äºè®¢é˜…å¤–éƒ¨å­˜å‚¨ï¼Œå¹¶åœ¨å­˜å‚¨æ›´æ–°æ—¶é€šçŸ¥ç»„ä»¶é‡æ–°æ¸²æŸ“</li> <li>useInsertionEffectï¼šç±»ä¼¼äº useEffectï¼Œä½†åœ¨ DOM æ›´æ–°å‰åŒæ­¥è§¦å‘</li> <li>useMutableSourceï¼šç”¨äºè®¢é˜…å¯å˜æºï¼Œå¹¶åœ¨æºæ›´æ–°æ—¶é€šçŸ¥ç»„ä»¶é‡æ–°æ¸²æŸ“</li> <li>useServerInsertedHTMLï¼šç”¨äºåœ¨æœåŠ¡å™¨ç«¯æ¸²æŸ“æœŸé—´æ’å…¥ HTML</li> <li>useCacheï¼šç”¨äºç¼“å­˜è®¡ç®—ç»“æœï¼Œé¿å…åœ¨æ¯æ¬¡æ¸²æŸ“æ—¶é‡æ–°è®¡ç®—</li> <li>useCacheProviderï¼šç”¨äºæä¾›ç¼“å­˜ä¸Šä¸‹æ–‡ï¼Œå…è®¸å­ç»„ä»¶è®¿é—®ç¼“å­˜</li> <li>useCacheConsumerï¼šç”¨äºè®¿é—®ç¼“å­˜ä¸Šä¸‹æ–‡ä¸­çš„ç¼“å­˜</li> <li>useCacheMutationï¼šç”¨äºåœ¨ç¼“å­˜ä¸­æ‰§è¡Œçªå˜æ“ä½œ</li> <li>useCacheQueryï¼šç”¨äºåœ¨ç¼“å­˜ä¸­æ‰§è¡ŒæŸ¥è¯¢æ“ä½œ</li> <li>useCacheSubscriptionï¼šç”¨äºè®¢é˜…ç¼“å­˜ä¸­çš„æ›´æ–°</li></ul> <h3 id="_7-react-memo-å’Œ-react-usememo-çš„åŒºåˆ«"><a href="#_7-react-memo-å’Œ-react-usememo-çš„åŒºåˆ«" class="header-anchor">#</a> 7.React.memo()å’Œ React.useMemo()çš„åŒºåˆ«</h3></div></section> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">2025/11/26</span></div></footer> <!----> <div class="comments-wrapper"><!----></div></main></div> <!----></div> <ul class="sub-sidebar sub-sidebar-wrapper" style="width:12rem;" data-v-6ea58682 data-v-58d791b2><li class="level-2" data-v-6ea58682><a href="/blogs/interview/interview.html#javascript" class="sidebar-link reco-side-javascript" data-v-6ea58682>JavaScript</a></li><li class="level-3" data-v-6ea58682><a href="/blogs/interview/interview.html#_1-ä»€ä¹ˆæ˜¯é˜²æŠ–å’ŒèŠ‚æµ-æœ‰ä»€ä¹ˆåŒºåˆ«-å¦‚ä½•å®ç°-2022-5-6" class="sidebar-link reco-side-_1-ä»€ä¹ˆæ˜¯é˜²æŠ–å’ŒèŠ‚æµ-æœ‰ä»€ä¹ˆåŒºåˆ«-å¦‚ä½•å®ç°-2022-5-6" data-v-6ea58682>1.ä»€ä¹ˆæ˜¯é˜²æŠ–å’ŒèŠ‚æµï¼Ÿæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿï¼ˆ2022.5.6ï¼‰</a></li><li class="level-3" data-v-6ea58682><a href="/blogs/interview/interview.html#_2-ä»‹ç»ä¸‹-setã€mapã€weakset-å’Œ-weakmap-çš„åŒºåˆ«-2022-5-7" class="sidebar-link reco-side-_2-ä»‹ç»ä¸‹-setã€mapã€weakset-å’Œ-weakmap-çš„åŒºåˆ«-2022-5-7" data-v-6ea58682>2.ä»‹ç»ä¸‹ Setã€Mapã€WeakSet å’Œ WeakMap çš„åŒºåˆ«ï¼Ÿï¼ˆ2022.5.7ï¼‰</a></li><li class="level-3" data-v-6ea58682><a href="/blogs/interview/interview.html#_3-è¯´è¯´-javascript-ä¸­çš„æ•°æ®ç±»å‹-å­˜å‚¨ä¸Šçš„å·®åˆ«-2022-8-12" class="sidebar-link reco-side-_3-è¯´è¯´-javascript-ä¸­çš„æ•°æ®ç±»å‹-å­˜å‚¨ä¸Šçš„å·®åˆ«-2022-8-12" data-v-6ea58682>3.è¯´è¯´ JavaScript ä¸­çš„æ•°æ®ç±»å‹ï¼Ÿå­˜å‚¨ä¸Šçš„å·®åˆ«ï¼ˆ2022.8.12ï¼‰</a></li><li class="level-3" data-v-6ea58682><a href="/blogs/interview/interview.html#_4-æ•°ç»„å¸¸è§çš„æ–¹æ³•æœ‰å“ªäº›-2022-8-12" class="sidebar-link reco-side-_4-æ•°ç»„å¸¸è§çš„æ–¹æ³•æœ‰å“ªäº›-2022-8-12" data-v-6ea58682>4.æ•°ç»„å¸¸è§çš„æ–¹æ³•æœ‰å“ªäº›ï¼Ÿï¼ˆ2022.8.12ï¼‰</a></li><li class="level-3" data-v-6ea58682><a href="/blogs/interview/interview.html#_5-å­—ç¬¦ä¸²å¸¸è§çš„æ–¹æ³•æœ‰å“ªäº›-2022-8-12" class="sidebar-link reco-side-_5-å­—ç¬¦ä¸²å¸¸è§çš„æ–¹æ³•æœ‰å“ªäº›-2022-8-12" data-v-6ea58682>5.å­—ç¬¦ä¸²å¸¸è§çš„æ–¹æ³•æœ‰å“ªäº›ï¼Ÿï¼ˆ2022.8.12ï¼‰</a></li><li class="level-3" data-v-6ea58682><a href="/blogs/interview/interview.html#_6-æ·±æ‹·è´å’Œæµ…æ‹·è´çš„åŒºåˆ«-å¦‚ä½•å®ç°ä¸€ä¸ªæ·±æ‹·è´" class="sidebar-link reco-side-_6-æ·±æ‹·è´å’Œæµ…æ‹·è´çš„åŒºåˆ«-å¦‚ä½•å®ç°ä¸€ä¸ªæ·±æ‹·è´" data-v-6ea58682>6.æ·±æ‹·è´å’Œæµ…æ‹·è´çš„åŒºåˆ«ï¼Ÿå¦‚ä½•å®ç°ä¸€ä¸ªæ·±æ‹·è´ï¼Ÿ</a></li><li class="level-3" data-v-6ea58682><a href="/blogs/interview/interview.html#_7-web-å¸¸è§çš„æ”»å‡»æ–¹å¼æœ‰å“ªäº›-å¦‚ä½•é˜²å¾¡" class="sidebar-link reco-side-_7-web-å¸¸è§çš„æ”»å‡»æ–¹å¼æœ‰å“ªäº›-å¦‚ä½•é˜²å¾¡" data-v-6ea58682>7.web å¸¸è§çš„æ”»å‡»æ–¹å¼æœ‰å“ªäº›?å¦‚ä½•é˜²å¾¡?</a></li><li class="level-3" data-v-6ea58682><a href="/blogs/interview/interview.html#_8-è¿™ä¸ªç­‰å¼æˆç«‹å—-1-000-000-1000000" class="sidebar-link reco-side-_8-è¿™ä¸ªç­‰å¼æˆç«‹å—-1-000-000-1000000" data-v-6ea58682>8.è¿™ä¸ªç­‰å¼æˆç«‹å—ï¼š1000000===1000000 ï¼Ÿ</a></li><li class="level-3" data-v-6ea58682><a href="/blogs/interview/interview.html#_9-e-target-å’Œ-e-currenttarget-çš„åŒºåˆ«" class="sidebar-link reco-side-_9-e-target-å’Œ-e-currenttarget-çš„åŒºåˆ«" data-v-6ea58682>9. e.target å’Œ e.currentTarget çš„åŒºåˆ«ï¼Ÿ</a></li><li class="level-3" data-v-6ea58682><a href="/blogs/interview/interview.html#_10-å¦‚ä½•è·å–åˆ°ä¸€ä¸ªå®ä¾‹å¯¹è±¡çš„åŸå‹å¯¹è±¡" class="sidebar-link reco-side-_10-å¦‚ä½•è·å–åˆ°ä¸€ä¸ªå®ä¾‹å¯¹è±¡çš„åŸå‹å¯¹è±¡" data-v-6ea58682>10.å¦‚ä½•è·å–åˆ°ä¸€ä¸ªå®ä¾‹å¯¹è±¡çš„åŸå‹å¯¹è±¡ï¼Ÿ</a></li><li class="level-3" data-v-6ea58682><a href="/blogs/interview/interview.html#_11-ä»€ä¹ˆæ˜¯ç±»æ•°ç»„å¯¹è±¡" class="sidebar-link reco-side-_11-ä»€ä¹ˆæ˜¯ç±»æ•°ç»„å¯¹è±¡" data-v-6ea58682>11. ä»€ä¹ˆæ˜¯ç±»æ•°ç»„å¯¹è±¡ï¼Ÿ</a></li><li class="level-2" data-v-6ea58682><a href="/blogs/interview/interview.html#ç½‘ç»œ" class="sidebar-link reco-side-ç½‘ç»œ" data-v-6ea58682>ç½‘ç»œ</a></li><li class="level-3" data-v-6ea58682><a href="/blogs/interview/interview.html#_1-è¯´ä¸€ä¸‹ä»€ä¹ˆæ˜¯-http-åè®®æ— çŠ¶æ€-æ€ä¹ˆè§£å†³-http-åè®®æ— çŠ¶æ€" class="sidebar-link reco-side-_1-è¯´ä¸€ä¸‹ä»€ä¹ˆæ˜¯-http-åè®®æ— çŠ¶æ€-æ€ä¹ˆè§£å†³-http-åè®®æ— çŠ¶æ€" data-v-6ea58682>1.è¯´ä¸€ä¸‹ä»€ä¹ˆæ˜¯ Http åè®®æ— çŠ¶æ€?æ€ä¹ˆè§£å†³ Http åè®®æ— çŠ¶æ€?</a></li><li class="level-3" data-v-6ea58682><a href="/blogs/interview/interview.html#_2-è¯´ä¸€ä¸‹å¼€å‘ä¸­å¸¸ç”¨çš„å‡ ç§-content-type" class="sidebar-link reco-side-_2-è¯´ä¸€ä¸‹å¼€å‘ä¸­å¸¸ç”¨çš„å‡ ç§-content-type" data-v-6ea58682>2.è¯´ä¸€ä¸‹å¼€å‘ä¸­å¸¸ç”¨çš„å‡ ç§ Content-Type ï¼Ÿ</a></li><li class="level-3" data-v-6ea58682><a href="/blogs/interview/interview.html#_3-è¯´ä¸‹-url-å’Œ-uri-çš„åŒºåˆ«" class="sidebar-link reco-side-_3-è¯´ä¸‹-url-å’Œ-uri-çš„åŒºåˆ«" data-v-6ea58682>3.è¯´ä¸‹ URL å’Œ URI çš„åŒºåˆ«ï¼Ÿ</a></li><li class="level-2" data-v-6ea58682><a href="/blogs/interview/interview.html#vue" class="sidebar-link reco-side-vue" data-v-6ea58682>Vue</a></li><li class="level-3" data-v-6ea58682><a href="/blogs/interview/interview.html#vue3-å’Œ-vue2-çš„åŒºåˆ«æœ‰å“ªäº›-è¯´å‡ ä¸ªä¸»è¦çš„" class="sidebar-link reco-side-vue3-å’Œ-vue2-çš„åŒºåˆ«æœ‰å“ªäº›-è¯´å‡ ä¸ªä¸»è¦çš„" data-v-6ea58682>Vue3 å’Œ Vue2 çš„åŒºåˆ«æœ‰å“ªäº›ï¼Ÿè¯´å‡ ä¸ªä¸»è¦çš„</a></li><li class="level-3" data-v-6ea58682><a href="/blogs/interview/interview.html#vue-ç»„ä»¶çš„é€šè®¯æ–¹å¼æœ‰å“ªäº›" class="sidebar-link reco-side-vue-ç»„ä»¶çš„é€šè®¯æ–¹å¼æœ‰å“ªäº›" data-v-6ea58682>Vue ç»„ä»¶çš„é€šè®¯æ–¹å¼æœ‰å“ªäº›ï¼Ÿ</a></li><li class="level-3" data-v-6ea58682><a href="/blogs/interview/interview.html#vue-ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ" class="sidebar-link reco-side-vue-ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ" data-v-6ea58682>Vue ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ</a></li><li class="level-3" data-v-6ea58682><a href="/blogs/interview/interview.html#vue-ç»„ä»¶åœ¨å“ªä¸ªç”Ÿå‘½å‘¨æœŸå‘é€-ajax-è¯·æ±‚" class="sidebar-link reco-side-vue-ç»„ä»¶åœ¨å“ªä¸ªç”Ÿå‘½å‘¨æœŸå‘é€-ajax-è¯·æ±‚" data-v-6ea58682>Vue ç»„ä»¶åœ¨å“ªä¸ªç”Ÿå‘½å‘¨æœŸå‘é€ ajax è¯·æ±‚ï¼Ÿ</a></li><li class="level-3" data-v-6ea58682><a href="/blogs/interview/interview.html#vue-çˆ¶å­ç»„ä»¶ç”Ÿå‘½å‘¨æœŸè°ƒç”¨é¡ºåº" class="sidebar-link reco-side-vue-çˆ¶å­ç»„ä»¶ç”Ÿå‘½å‘¨æœŸè°ƒç”¨é¡ºåº" data-v-6ea58682>Vue çˆ¶å­ç»„ä»¶ç”Ÿå‘½å‘¨æœŸè°ƒç”¨é¡ºåº</a></li><li class="level-3" data-v-6ea58682><a href="/blogs/interview/interview.html#v-show-å’Œ-v-if-çš„åŒºåˆ«" class="sidebar-link reco-side-v-show-å’Œ-v-if-çš„åŒºåˆ«" data-v-6ea58682>v-show å’Œ v-if çš„åŒºåˆ«</a></li><li class="level-3" data-v-6ea58682><a href="/blogs/interview/interview.html#ä¸ºä½•-v-if-å’Œ-v-for-ä¸èƒ½ä¸€èµ·ä½¿ç”¨" class="sidebar-link reco-side-ä¸ºä½•-v-if-å’Œ-v-for-ä¸èƒ½ä¸€èµ·ä½¿ç”¨" data-v-6ea58682>ä¸ºä½• v-if å’Œ v-for ä¸èƒ½ä¸€èµ·ä½¿ç”¨ï¼Ÿ</a></li><li class="level-3" data-v-6ea58682><a href="/blogs/interview/interview.html#computed-å’Œ-watch-æœ‰ä»€ä¹ˆåŒºåˆ«" class="sidebar-link reco-side-computed-å’Œ-watch-æœ‰ä»€ä¹ˆåŒºåˆ«" data-v-6ea58682>computed å’Œ watch æœ‰ä»€ä¹ˆåŒºåˆ«</a></li><li class="level-3" data-v-6ea58682><a href="/blogs/interview/interview.html#watch-å’Œ-watcheffect-çš„åŒºåˆ«" class="sidebar-link reco-side-watch-å’Œ-watcheffect-çš„åŒºåˆ«" data-v-6ea58682>watch å’Œ watchEffect çš„åŒºåˆ«</a></li><li class="level-3" data-v-6ea58682><a href="/blogs/interview/interview.html#vue3-ref-å’Œ-reactive-å¦‚ä½•é€‰æ‹©" class="sidebar-link reco-side-vue3-ref-å’Œ-reactive-å¦‚ä½•é€‰æ‹©" data-v-6ea58682>Vue3 ref å’Œ reactive å¦‚ä½•é€‰æ‹©ï¼Ÿ</a></li><li class="level-3" data-v-6ea58682><a href="/blogs/interview/interview.html#ä»€ä¹ˆæ˜¯åŠ¨æ€ç»„ä»¶-å¦‚ä½•ä½¿ç”¨å®ƒ" class="sidebar-link reco-side-ä»€ä¹ˆæ˜¯åŠ¨æ€ç»„ä»¶-å¦‚ä½•ä½¿ç”¨å®ƒ" data-v-6ea58682>ä»€ä¹ˆæ˜¯åŠ¨æ€ç»„ä»¶ï¼Ÿå¦‚ä½•ä½¿ç”¨å®ƒï¼Ÿ</a></li><li class="level-3" data-v-6ea58682><a href="/blogs/interview/interview.html#ä»€ä¹ˆæ˜¯-slot-æœ‰ä»€ä¹ˆåº”ç”¨åœºæ™¯" class="sidebar-link reco-side-ä»€ä¹ˆæ˜¯-slot-æœ‰ä»€ä¹ˆåº”ç”¨åœºæ™¯" data-v-6ea58682>ä»€ä¹ˆæ˜¯ slot ï¼Œæœ‰ä»€ä¹ˆåº”ç”¨åœºæ™¯ï¼Ÿ</a></li><li class="level-3" data-v-6ea58682><a href="/blogs/interview/interview.html#vue-é¡¹ç›®å¯åšå“ªäº›æ€§èƒ½ä¼˜åŒ–" class="sidebar-link reco-side-vue-é¡¹ç›®å¯åšå“ªäº›æ€§èƒ½ä¼˜åŒ–" data-v-6ea58682>Vue é¡¹ç›®å¯åšå“ªäº›æ€§èƒ½ä¼˜åŒ–ï¼Ÿ</a></li><li class="level-3" data-v-6ea58682><a href="/blogs/interview/interview.html#ä»€ä¹ˆæ˜¯-nexttick-å¦‚ä½•åº”ç”¨å®ƒ" class="sidebar-link reco-side-ä»€ä¹ˆæ˜¯-nexttick-å¦‚ä½•åº”ç”¨å®ƒ" data-v-6ea58682>ä»€ä¹ˆæ˜¯ nextTick å¦‚ä½•åº”ç”¨å®ƒ</a></li><li class="level-3" data-v-6ea58682><a href="/blogs/interview/interview.html#ä½¿ç”¨-vue3-composable-ç»„åˆå¼å‡½æ•°-å®ç°-usecount" class="sidebar-link reco-side-ä½¿ç”¨-vue3-composable-ç»„åˆå¼å‡½æ•°-å®ç°-usecount" data-v-6ea58682>ä½¿ç”¨ Vue3 Composable ç»„åˆå¼å‡½æ•°ï¼Œå®ç° useCount</a></li><li class="level-3" data-v-6ea58682><a href="/blogs/interview/interview.html#ä½¿ç”¨-vue3-composable-ç»„åˆå¼å‡½æ•°-å®ç°-userequest" class="sidebar-link reco-side-ä½¿ç”¨-vue3-composable-ç»„åˆå¼å‡½æ•°-å®ç°-userequest" data-v-6ea58682>ä½¿ç”¨ Vue3 Composable ç»„åˆå¼å‡½æ•°ï¼Œå®ç° useRequest</a></li><li class="level-3" data-v-6ea58682><a href="/blogs/interview/interview.html#è‡ªå®šä¹‰ç»„ä»¶å¦‚ä½•å®ç°-v-model" class="sidebar-link reco-side-è‡ªå®šä¹‰ç»„ä»¶å¦‚ä½•å®ç°-v-model" data-v-6ea58682>è‡ªå®šä¹‰ç»„ä»¶å¦‚ä½•å®ç° v-model</a></li><li class="level-3" data-v-6ea58682><a href="/blogs/interview/interview.html#å¦‚ä½•ç»Ÿä¸€ç›‘å¬-vue-ç»„ä»¶æŠ¥é”™" class="sidebar-link reco-side-å¦‚ä½•ç»Ÿä¸€ç›‘å¬-vue-ç»„ä»¶æŠ¥é”™" data-v-6ea58682>å¦‚ä½•ç»Ÿä¸€ç›‘å¬ Vue ç»„ä»¶æŠ¥é”™</a></li><li class="level-3" data-v-6ea58682><a href="/blogs/interview/interview.html#vuex-ä¸­-mutation-å’Œ-action-æœ‰ä»€ä¹ˆåŒºåˆ«" class="sidebar-link reco-side-vuex-ä¸­-mutation-å’Œ-action-æœ‰ä»€ä¹ˆåŒºåˆ«" data-v-6ea58682>Vuex ä¸­ mutation å’Œ action æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</a></li><li class="level-3" data-v-6ea58682><a href="/blogs/interview/interview.html#x-å’Œ-pinia-æœ‰ä»€ä¹ˆåŒºåˆ«" class="sidebar-link reco-side-x-å’Œ-pinia-æœ‰ä»€ä¹ˆåŒºåˆ«" data-v-6ea58682>x å’Œ Pinia æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</a></li><li class="level-3" data-v-6ea58682><a href="/blogs/interview/interview.html#vue-router-å¯¼èˆªå®ˆå«èƒ½ç”¨æ¥åšä»€ä¹ˆ" class="sidebar-link reco-side-vue-router-å¯¼èˆªå®ˆå«èƒ½ç”¨æ¥åšä»€ä¹ˆ" data-v-6ea58682>Vue-router å¯¼èˆªå®ˆå«èƒ½ç”¨æ¥åšä»€ä¹ˆï¼Ÿ</a></li><li class="level-3" data-v-6ea58682><a href="/blogs/interview/interview.html#_1-æƒé™ç®¡ç†" class="sidebar-link reco-side-_1-æƒé™ç®¡ç†" data-v-6ea58682>1.æƒé™ç®¡ç†</a></li><li class="level-2" data-v-6ea58682><a href="/blogs/interview/interview.html#å‰ç«¯æ€§èƒ½ä¼˜åŒ–" class="sidebar-link reco-side-å‰ç«¯æ€§èƒ½ä¼˜åŒ–" data-v-6ea58682>å‰ç«¯æ€§èƒ½ä¼˜åŒ–</a></li><li class="level-3" data-v-6ea58682><a href="/blogs/interview/interview.html#_1-å¦‚ä½•æå‡é¦–é¡µåŠ è½½é€Ÿåº¦-2023-07-13" class="sidebar-link reco-side-_1-å¦‚ä½•æå‡é¦–é¡µåŠ è½½é€Ÿåº¦-2023-07-13" data-v-6ea58682>1.å¦‚ä½•æå‡é¦–é¡µåŠ è½½é€Ÿåº¦ï¼Ÿï¼ˆ2023.07.13ï¼‰</a></li><li class="level-2" data-v-6ea58682><a href="/blogs/interview/interview.html#react" class="sidebar-link reco-side-react" data-v-6ea58682>React</a></li><li class="level-3" data-v-6ea58682><a href="/blogs/interview/interview.html#_1-æ€ä¹ˆåˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯-react-å…ƒç´ " class="sidebar-link reco-side-_1-æ€ä¹ˆåˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯-react-å…ƒç´ " data-v-6ea58682>1.æ€ä¹ˆåˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯ React å…ƒç´ ï¼Ÿ</a></li><li class="level-3" data-v-6ea58682><a href="/blogs/interview/interview.html#_2-è¯´è¯´-react-ä¸­çš„-diff-ç®—æ³•" class="sidebar-link reco-side-_2-è¯´è¯´-react-ä¸­çš„-diff-ç®—æ³•" data-v-6ea58682>2.è¯´è¯´ react ä¸­çš„ diff ç®—æ³•</a></li><li class="level-3" data-v-6ea58682><a href="/blogs/interview/interview.html#_3-è¯´è¯´-react-ä¸­-jsx-è½¬æ¢æˆçœŸå®-dom-çš„è¿‡ç¨‹" class="sidebar-link reco-side-_3-è¯´è¯´-react-ä¸­-jsx-è½¬æ¢æˆçœŸå®-dom-çš„è¿‡ç¨‹" data-v-6ea58682>3.è¯´è¯´ React ä¸­ Jsx è½¬æ¢æˆçœŸå® DOM çš„è¿‡ç¨‹?</a></li><li class="level-3" data-v-6ea58682><a href="/blogs/interview/interview.html#_4-è¯´è¯´-react-ä¸­çš„-fiber-æ¶æ„" class="sidebar-link reco-side-_4-è¯´è¯´-react-ä¸­çš„-fiber-æ¶æ„" data-v-6ea58682>4.è¯´è¯´ React ä¸­çš„ Fiber æ¶æ„?</a></li><li class="level-3" data-v-6ea58682><a href="/blogs/interview/interview.html#_5-usecontext" class="sidebar-link reco-side-_5-usecontext" data-v-6ea58682>5.useContext</a></li><li class="level-3" data-v-6ea58682><a href="/blogs/interview/interview.html#_6-react-hooks" class="sidebar-link reco-side-_6-react-hooks" data-v-6ea58682>6. React Hooks</a></li><li class="level-3" data-v-6ea58682><a href="/blogs/interview/interview.html#_7-react-memo-å’Œ-react-usememo-çš„åŒºåˆ«" class="sidebar-link reco-side-_7-react-memo-å’Œ-react-usememo-çš„åŒºåˆ«" data-v-6ea58682>7.React.memo()å’Œ React.useMemo()çš„åŒºåˆ«</a></li></ul></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-2a01419c data-v-2a01419c><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-2a01419c><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-2a01419c></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-2a01419c></path></svg></div><div class="Sakura" data-v-47ff9650><canvas id="canvas_sakura" style="z-index:200;" data-v-47ff9650></canvas></div><canvas id="vuepress-canvas-cursor"></canvas><div></div></div></div>
    <script src="/assets/js/app.41bcf48b.js" defer></script><script src="/assets/js/4.08d3d17f.js" defer></script><script src="/assets/js/1.2abb3401.js" defer></script><script src="/assets/js/8.878a1965.js" defer></script>
  </body>
</html>
