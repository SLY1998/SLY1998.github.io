(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{563:function(s,a,n){"use strict";n.r(a);var t=n(1),e=Object(t.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"verdaccio简介"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#verdaccio简介"}},[s._v("#")]),s._v(" Verdaccio简介")]),s._v(" "),a("p",[s._v("一个基于 Node.js 的轻量级私有仓库")]),s._v(" "),a("p",[s._v("npm publish 上传的仓库默认地址是 npm")]),s._v(" "),a("p",[s._v("通过 Verdaccio 工具可以在本地新建一个仓库地址，上传的包会存储在本地仓库中，其他项目可以通过该仓库地址下载使用。")]),s._v(" "),a("h2",{attrs:{id:"环境准备"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#环境准备"}},[s._v("#")]),s._v(" 环境准备")]),s._v(" "),a("h3",{attrs:{id:"npm"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#npm"}},[s._v("#")]),s._v(" npm")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("who")]),s._v(" am i "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看当前用户")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" config list "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看源地址")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" registry url https://registry.npmjs.org/ "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 切换源地址")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" config "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" registry "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除源地址")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" login "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 登录")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" publish "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 发布")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" unpublish 包名 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 撤销发布")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("h3",{attrs:{id:"nrm"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nrm"}},[s._v("#")]),s._v(" nrm")]),s._v(" "),a("p",[s._v("npm install -g nrm")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("nrm "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看源地址")]),s._v("\nnrm "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" registry url "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 添加源地址")]),s._v("\nnrm use registry "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 切换源地址")]),s._v("\nnrm current "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看当前源地址")]),s._v("\nnrm del registry "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除源地址")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h3",{attrs:{id:"pm2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pm2"}},[s._v("#")]),s._v(" PM2")]),s._v(" "),a("p",[s._v("PM2 是一个守护进程管理工具，帮助您管理和守护您的应用程序。它以简单直观的 C​​LI 命令行方式进行工作。")]),s._v(" "),a("p",[s._v("npm install pm2@latest -g")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("pm2 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看进程")]),s._v("\npm2 start "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("app.js"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动某个应用")]),s._v("\npm2 stop "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("appName/ID"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 停止某个应用(进程名/ID)")]),s._v("\npm2 restart "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("app.js"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重启某个应用")]),s._v("\npm2 describe "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("appName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看某个进程的具体情况")]),s._v("\npm2 logs "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("appName/ID"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看应用日志(进程名/ID)")]),s._v("\npm2 delete "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("appName/ID"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除进程(进程名/ID)")]),s._v("\npm2 stop all "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 停止所有应用")]),s._v("\npm2 restart all "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重启所有应用")]),s._v("\npm2 logs "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看实时日志")]),s._v("\npm2 logs all "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看所有日志")]),s._v("\npm2 delete all "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除所有进程")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("blockquote",[a("p",[s._v("通过 PM2 启动 Verdaccio")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 以管理员身份打开 cmd")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 1.直接执行，启动失败")]),s._v("\npm2 start verdaccio\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 2.输出日志，查看报错信息")]),s._v("\npm2 logs\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 3.正确的 pm2 执行应该拼上 verdaccio 包所在的路径")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# D:\\Nvm\\v16.17.0\\node_global\\node_modules\\verdaccio\\bin\\verdaccio")]),s._v("\npm2 start D:"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Nvm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("v16.17.0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("node_global"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("node_modules"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("verdaccio"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("bin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("verdaccio\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("h3",{attrs:{id:"verdaccio"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#verdaccio"}},[s._v("#")]),s._v(" Verdaccio")]),s._v(" "),a("p",[s._v("npm install -g verdaccio")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 直接使用 verdaccio 命令运行 (不建议)")]),s._v("\nverdaccio\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用 pm2 运行 (建议使用pm2托管)")]),s._v("\npm2 start verdaccio\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看 verdaccio 服务是否启动成功")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 访问 http://localhost:4873/ 查看是否能正常访问")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("h2",{attrs:{id:"配置流程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置流程"}},[s._v("#")]),s._v(" 配置流程")]),s._v(" "),a("ul",[a("li",[s._v("添加私有 npm 源")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看可选源，* 代表正在使用的源")]),s._v("\nnrm "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 添加一个私有 npm 源，'localhost' 为自定义的源地址名称")]),s._v("\nnrm "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" localhost http://localhost:4873/\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("ul",[a("li",[s._v("切换到私有 npm 源")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 'localhost' 为添加源时定义的源地址名称")]),s._v("\nnrm use localhost\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("ul",[a("li",[s._v("添加用户")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 添加 npm 用户前，需要先启动 verdaccio 服务")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" adduser "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--registry")]),s._v(" http://localhost:4873/\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h2",{attrs:{id:"发布包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#发布包"}},[s._v("#")]),s._v(" 发布包")]),s._v(" "),a("ul",[a("li",[s._v("发布包")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 发布前，需要先登录私有 npm 源")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" login "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--registry")]),s._v(" http://localhost:4873/\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 发布包")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" publish "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--registry")]),s._v(" http://localhost:4873/\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])])])}),[],!1,null,null,null);a.default=e.exports}}]);