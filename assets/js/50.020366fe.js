(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{578:function(s,t,a){"use strict";a.r(t);var n=a(1),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"_1-什么是webassembly"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-什么是webassembly"}},[s._v("#")]),s._v(" 1. 什么是WebAssembly")]),s._v(" "),t("p",[s._v("WebAssembly（简称Wasm）是一种二进制指令格式，是一种低级的类汇编语言，具有紧凑的二进制格式，可以接近原生速度在Web浏览器中运行。它被设计为JavaScript的补充，而不是替代品。")]),s._v(" "),t("h3",{attrs:{id:"核心特点"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#核心特点"}},[s._v("#")]),s._v(" 核心特点")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("高效性")]),s._v("：接近原生代码的执行速度")]),s._v(" "),t("li",[t("strong",[s._v("安全性")]),s._v("：在沙箱环境中运行，遵循浏览器的同源策略和安全策略")]),s._v(" "),t("li",[t("strong",[s._v("可移植性")]),s._v("：可以在任何支持WebAssembly的环境中运行")]),s._v(" "),t("li",[t("strong",[s._v("紧凑性")]),s._v("：二进制格式，体积小，加载速度快")]),s._v(" "),t("li",[t("strong",[s._v("多语言支持")]),s._v("：可以使用多种编程语言（Rust、C/C++、Go等）编译生成")])]),s._v(" "),t("h2",{attrs:{id:"_2-webassembly的工作原理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-webassembly的工作原理"}},[s._v("#")]),s._v(" 2. WebAssembly的工作原理")]),s._v(" "),t("h3",{attrs:{id:"编译流程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#编译流程"}},[s._v("#")]),s._v(" 编译流程")]),s._v(" "),t("ol",[t("li",[t("strong",[s._v("编写源代码")]),s._v("：使用支持WebAssembly的语言（如Rust）编写程序")]),s._v(" "),t("li",[t("strong",[s._v("编译为WebAssembly模块")]),s._v("：使用编译器（如rustc + wasm-bindgen）将源代码编译为.wasm二进制文件")]),s._v(" "),t("li",[t("strong",[s._v("加载和实例化")]),s._v("：在浏览器中加载.wasm文件，创建WebAssembly实例")]),s._v(" "),t("li",[t("strong",[s._v("JavaScript交互")]),s._v("：通过JavaScript API调用WebAssembly模块中的函数")])]),s._v(" "),t("h3",{attrs:{id:"webassembly模块结构"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#webassembly模块结构"}},[s._v("#")]),s._v(" WebAssembly模块结构")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("指令")]),s._v("：WebAssembly的基本执行单元")]),s._v(" "),t("li",[t("strong",[s._v("函数")]),s._v("：可被JavaScript调用的函数")]),s._v(" "),t("li",[t("strong",[s._v("内存")]),s._v("：线性内存空间，可被JavaScript和WebAssembly共享")]),s._v(" "),t("li",[t("strong",[s._v("全局变量")]),s._v("：在WebAssembly模块中定义的全局变量")]),s._v(" "),t("li",[t("strong",[s._v("表")]),s._v("：用于存储函数引用的可变大小数组")])]),s._v(" "),t("h2",{attrs:{id:"_3-rust与webassembly的集成"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-rust与webassembly的集成"}},[s._v("#")]),s._v(" 3. Rust与WebAssembly的集成")]),s._v(" "),t("h3",{attrs:{id:"环境搭建"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#环境搭建"}},[s._v("#")]),s._v(" 环境搭建")]),s._v(" "),t("ol",[t("li",[t("strong",[s._v("安装Rust")]),s._v("：确保已安装最新版本的Rust")]),s._v(" "),t("li",[t("strong",[s._v("安装wasm-pack")]),s._v("：用于构建和打包Rust生成的WebAssembly模块"),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cargo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" wasm-pack\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])]),s._v(" "),t("li",[t("strong",[s._v("安装wasm-bindgen-cli")]),s._v("：用于生成JavaScript绑定"),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cargo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" wasm-bindgen-cli\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])])]),s._v(" "),t("h3",{attrs:{id:"创建第一个rust-webassembly项目"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建第一个rust-webassembly项目"}},[s._v("#")]),s._v(" 创建第一个Rust + WebAssembly项目")]),s._v(" "),t("ol",[t("li",[t("p",[t("strong",[s._v("初始化项目")]),s._v("：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cargo")]),s._v(" new "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--lib")]),s._v(" wasm-demo\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" wasm-demo\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("修改Cargo.toml")]),s._v("：添加WebAssembly相关依赖")]),s._v(" "),t("div",{staticClass:"language-toml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-toml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token table class-name"}},[s._v("package")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key property"}},[s._v("name")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"wasm-demo"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key property"}},[s._v("version")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"0.1.0"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key property"}},[s._v("edition")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2021"')]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token table class-name"}},[s._v("lib")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key property"}},[s._v("crate-type")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"cdylib"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"rlib"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token table class-name"}},[s._v("dependencies")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key property"}},[s._v("wasm-bindgen")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"0.2"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("编写Rust代码")]),s._v("：在src/lib.rs中编写WebAssembly函数")]),s._v(" "),t("div",{staticClass:"language-rust line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-rust"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("use")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("wasm_bindgen"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("::")]),s._v("prelude"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("::")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token attribute attr-name"}},[s._v("#[wasm_bindgen]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("pub")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fn")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function-definition function"}},[s._v("add")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("i32")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" b"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("i32")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("->")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("i32")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    a "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" b\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token attribute attr-name"}},[s._v("#[wasm_bindgen]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("pub")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fn")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function-definition function"}},[s._v("greet")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("str")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("->")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token macro property"}},[s._v("format!")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Hello, {}!"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("构建项目")]),s._v("：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("wasm-pack build "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--target")]),s._v(" web\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("在HTML中使用")]),s._v("：")]),s._v(" "),t("div",{staticClass:"language-html line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-html"}},[t("code",[t("span",{pre:!0,attrs:{class:"token doctype"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<!")]),t("span",{pre:!0,attrs:{class:"token doctype-tag"}},[s._v("DOCTYPE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token name"}},[s._v("html")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("html")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("head")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("meta")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("charset")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("utf-8"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("title")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("Rust + WebAssembly Demo"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("title")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("head")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("body")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("script")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("type")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("module"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),t("span",{pre:!0,attrs:{class:"token script"}},[t("span",{pre:!0,attrs:{class:"token language-javascript"}},[s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" init"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" add"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" greet "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./pkg/wasm_demo.js'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        \n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("async")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("run")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("await")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("init")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            \n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" result "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            console"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2 + 3 ='")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" result"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            \n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" greeting "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("greet")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'WebAssembly'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            console"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("greeting"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        \n        "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("run")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    ")])]),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("script")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("body")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("html")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br")])])])]),s._v(" "),t("h2",{attrs:{id:"_4-webassembly的应用场景"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-webassembly的应用场景"}},[s._v("#")]),s._v(" 4. WebAssembly的应用场景")]),s._v(" "),t("h3",{attrs:{id:"适合webassembly的场景"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#适合webassembly的场景"}},[s._v("#")]),s._v(" 适合WebAssembly的场景")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("计算密集型任务")]),s._v("：如游戏物理引擎、图像处理、音频/视频编码")]),s._v(" "),t("li",[t("strong",[s._v("跨平台应用")]),s._v("：使用WebAssembly实现跨平台的桌面应用")]),s._v(" "),t("li",[t("strong",[s._v("遗留代码迁移")]),s._v("：将现有的C/C++代码迁移到Web平台")]),s._v(" "),t("li",[t("strong",[s._v("高性能Web应用")]),s._v("：需要接近原生性能的Web应用")])]),s._v(" "),t("h3",{attrs:{id:"不适合webassembly的场景"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#不适合webassembly的场景"}},[s._v("#")]),s._v(" 不适合WebAssembly的场景")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("DOM操作频繁的场景")]),s._v("：WebAssembly访问DOM需要通过JavaScript桥接，性能开销较大")]),s._v(" "),t("li",[t("strong",[s._v("简单的Web应用")]),s._v("：使用JavaScript足够，不需要WebAssembly的复杂性")])]),s._v(" "),t("h2",{attrs:{id:"_5-webassembly的性能优势"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-webassembly的性能优势"}},[s._v("#")]),s._v(" 5. WebAssembly的性能优势")]),s._v(" "),t("h3",{attrs:{id:"与javascript的性能对比"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#与javascript的性能对比"}},[s._v("#")]),s._v(" 与JavaScript的性能对比")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("启动速度")]),s._v("：WebAssembly二进制文件加载和解析速度快")]),s._v(" "),t("li",[t("strong",[s._v("执行速度")]),s._v("：接近原生代码，比JavaScript快2-10倍")]),s._v(" "),t("li",[t("strong",[s._v("内存使用")]),s._v("：更高效的内存管理")]),s._v(" "),t("li",[t("strong",[s._v("并行计算")]),s._v("：支持Web Workers，可以实现真正的并行计算")])]),s._v(" "),t("h3",{attrs:{id:"性能优化建议"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#性能优化建议"}},[s._v("#")]),s._v(" 性能优化建议")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("减少JavaScript与WebAssembly的交互")]),s._v("：频繁的跨边界调用会带来性能开销")]),s._v(" "),t("li",[t("strong",[s._v("合理使用内存")]),s._v("：避免频繁的内存分配和释放")]),s._v(" "),t("li",[t("strong",[s._v("使用Web Workers")]),s._v("：将计算密集型任务放在Web Worker中执行")]),s._v(" "),t("li",[t("strong",[s._v("优化编译输出")]),s._v("：使用优化编译选项（如-O3）")])]),s._v(" "),t("h2",{attrs:{id:"_6-webassembly的未来发展"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-webassembly的未来发展"}},[s._v("#")]),s._v(" 6. WebAssembly的未来发展")]),s._v(" "),t("h3",{attrs:{id:"正在发展的特性"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#正在发展的特性"}},[s._v("#")]),s._v(" 正在发展的特性")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("WebAssembly Interface Types")]),s._v("：简化不同语言之间的数据交换")]),s._v(" "),t("li",[t("strong",[s._v("WebAssembly System Interface (WASI)")]),s._v("：提供与操作系统交互的标准接口")]),s._v(" "),t("li",[t("strong",[s._v("WebAssembly Components")]),s._v("：实现WebAssembly模块的组合和复用")]),s._v(" "),t("li",[t("strong",[s._v("SIMD支持")]),s._v("：单指令多数据，进一步提升并行计算性能")]),s._v(" "),t("li",[t("strong",[s._v("Threads支持")]),s._v("：原生线程支持，简化并行编程")])]),s._v(" "),t("h3",{attrs:{id:"应用前景"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#应用前景"}},[s._v("#")]),s._v(" 应用前景")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("Web 3.0")]),s._v("：在区块链和去中心化应用中的应用")]),s._v(" "),t("li",[t("strong",[s._v("元宇宙")]),s._v("：高性能3D渲染和物理模拟")]),s._v(" "),t("li",[t("strong",[s._v("边缘计算")]),s._v("：在边缘设备上运行高性能代码")]),s._v(" "),t("li",[t("strong",[s._v("IoT设备")]),s._v("：资源受限设备上的高效执行")])]),s._v(" "),t("h2",{attrs:{id:"_7-学习资源推荐"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_7-学习资源推荐"}},[s._v("#")]),s._v(" 7. 学习资源推荐")]),s._v(" "),t("h3",{attrs:{id:"官方文档"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#官方文档"}},[s._v("#")]),s._v(" 官方文档")]),s._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://webassembly.org/",target:"_blank",rel:"noopener noreferrer"}},[s._v("WebAssembly官方网站"),t("OutboundLink")],1)]),s._v(" "),t("li",[t("a",{attrs:{href:"https://rustwasm.github.io/book/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Rust and WebAssembly官方指南"),t("OutboundLink")],1)]),s._v(" "),t("li",[t("a",{attrs:{href:"https://rustwasm.github.io/docs/wasm-bindgen/",target:"_blank",rel:"noopener noreferrer"}},[s._v("wasm-bindgen文档"),t("OutboundLink")],1)])]),s._v(" "),t("h3",{attrs:{id:"学习教程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#学习教程"}},[s._v("#")]),s._v(" 学习教程")]),s._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/WebAssembly",target:"_blank",rel:"noopener noreferrer"}},[s._v("MDN WebAssembly教程"),t("OutboundLink")],1)]),s._v(" "),t("li",[t("a",{attrs:{href:"https://www.wasm.builders/",target:"_blank",rel:"noopener noreferrer"}},[s._v("WebAssembly入门教程"),t("OutboundLink")],1)]),s._v(" "),t("li",[t("a",{attrs:{href:"https://rustwasm.github.io/wasm-bindgen/examples/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Rust WebAssembly实战"),t("OutboundLink")],1)])]),s._v(" "),t("h3",{attrs:{id:"工具链"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#工具链"}},[s._v("#")]),s._v(" 工具链")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("wasm-pack")]),s._v("：Rust WebAssembly构建工具")]),s._v(" "),t("li",[t("strong",[s._v("wasm-bindgen")]),s._v("：JavaScript与WebAssembly绑定生成工具")]),s._v(" "),t("li",[t("strong",[s._v("wasmtime")]),s._v("：WebAssembly运行时")]),s._v(" "),t("li",[t("strong",[s._v("wabt")]),s._v("：WebAssembly二进制工具包")])]),s._v(" "),t("h2",{attrs:{id:"_8-实践练习"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_8-实践练习"}},[s._v("#")]),s._v(" 8. 实践练习")]),s._v(" "),t("h3",{attrs:{id:"练习1-创建一个简单的数学计算库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#练习1-创建一个简单的数学计算库"}},[s._v("#")]),s._v(" 练习1：创建一个简单的数学计算库")]),s._v(" "),t("ol",[t("li",[s._v("使用Rust编写基本的数学函数（如加法、减法、乘法、除法）")]),s._v(" "),t("li",[s._v("编译为WebAssembly模块")]),s._v(" "),t("li",[s._v("在HTML页面中使用JavaScript调用这些函数")]),s._v(" "),t("li",[s._v("测试性能并与纯JavaScript实现对比")])]),s._v(" "),t("h3",{attrs:{id:"练习2-图像处理示例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#练习2-图像处理示例"}},[s._v("#")]),s._v(" 练习2：图像处理示例")]),s._v(" "),t("ol",[t("li",[s._v("使用Rust编写一个简单的图像处理函数（如灰度转换、模糊效果）")]),s._v(" "),t("li",[s._v("编译为WebAssembly模块")]),s._v(" "),t("li",[s._v("在HTML页面中加载图像，使用WebAssembly处理，并显示结果")]),s._v(" "),t("li",[s._v("比较处理速度与纯JavaScript实现")])]),s._v(" "),t("h2",{attrs:{id:"总结"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[s._v("#")]),s._v(" 总结")]),s._v(" "),t("p",[s._v("WebAssembly是一项革命性的技术，为Web平台带来了接近原生的性能。通过与Rust等语言的结合，开发者可以充分利用WebAssembly的优势，构建高性能的Web应用。随着WebAssembly生态的不断发展和完善，它将在更多领域发挥重要作用。")]),s._v(" "),t("p",[s._v("学习WebAssembly需要掌握其基本概念、工作原理和工具链使用。通过实践项目，可以更好地理解和应用这一技术。建议从简单的示例开始，逐步深入到更复杂的应用场景。")])])}),[],!1,null,null,null);t.default=e.exports}}]);